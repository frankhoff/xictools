% -----------------------------------------------------------------------------
% Xic Manual
% (C) Copyright 2009, Whiteley Research Inc., Sunnyvale CA
% $Id: variables.tex,v 1.153 2017/03/22 07:29:57 stevew Exp $
% -----------------------------------------------------------------------------

% -----------------------------------------------------------------------------
% set:variables 101212
\chapter{{\Xic} Variables}
\label{variables}

{\Xic} maintains an internal list of keyword/value associations. 
Although this list can be used for general purposes, there are a
number of special keywords, or ``variables'', whose value will affect
{\Xic} operation.  Variables are set with the {\cb !set} command, and
can be unset with the {\cb !unset} command.  The script functions {\vt
Set}, {\vt Unset}, {\vt SetExpand}, and {\vt Get} also provide
an interface to this database.  Variables can be set from the
technology file, and a number of the buttons in menus and various
pop-ups really do nothing more than control the state of one of these
variables.

Any variable name can be set with the {\cb !set} command.  The
variables and constructs that have meaning to {\Xic} are summarized in
the table below.  These are described more fully in the sections that
follow.

\begin{longtable}{|l|l|} \hline
\multicolumn{2}{|c|}{\kb Special Constructs}\\ \hline
\vt !set & List variables currently set\\ \hline
\vt !set ? & List these variables\\ \hline
{\vt @}{\it devname}.{\it property} & Set device property\\ \hline

% 012014
\multicolumn{2}{|c|}{\kb Startup}\\ \hline
\et DatabaseResolution & Set internal units\\ \hline
\et NetNamesCaseSens & Net names are case-sensitive\\ \hline
\et Subscripting & Set net name subscripting character\\ \hline
\et DrfDebug & Report undefined layer attribute names\\ \hline

% 102613
\multicolumn{2}{|c|}{\kb Paths and Directories}\\ \hline
\et Path & Design data file search path\\ \hline
\et LibPath & Startup file and library search path\\ \hline
\et HelpPath & Help file search path\\ \hline
\et ScriptPath & Script file search path\\ \hline
\et NoReadExclusive & Don't move stripped path to front of search path\\ \hline
\et AddToBack & Add stripped path to back of search path\\ \hline
\et DocsDir & Directory containing release documentation\\ \hline
\et ProgramRoot & Set to the program's installation directory\\ \hline
\et TeePrompt & Copy messages to given filename or ``stdout''\\ \hline

% 010918
\multicolumn{2}{|c|}{\kb General Visual}\\ \hline
\et MouseWheel & Set mouse wheel rate parameters\\ \hline
\et ListPageEntries & Maximum entries per page in list pop-ups\\ \hline
\et NoInstnameLables & Don't use instance names in unexpanded instances\\ \hline
\et NoLocalImage & Don't compose images locally\\ \hline
\et NoPixmapStore & Don't use screen backing memory\\ \hline
\et NoDisplayCache & Don't use multi-object rendering for boxes\\ \hline
\et LowerWinOffset & Pixel spacing of pop-up windows above prompt line\\ \hline
\et PhysGridOrigin & Set the origin of the grid displayed in physical mode\\
  \hline
\et ScreenCoords & Show window pixel coordinates\\ \hline
\et PixelDelta & Cursor selection proximity is screen pixels\\ \hline
\et NoPhysRedraw & When set, don't redraw physical windows after layer
  visibility change\\ \hline
\et NoToTop & Don't move obscured windows to top\\ \hline

% 102817
\multicolumn{2}{|c|}{\kb `!' Commands}\\ \hline
\et Shell & Path to shell used for external commands\\ \hline

%\ifoa
% 030416
\multicolumn{2}{|c|}{\kb OpenAccess Interface}\\ \hline
\et OaLibraryPath & Set location for hidden libraries\\ \hline
\et OaDefLibrary & Default library name\\ \hline
\et OaDefTechLibrary & Default technology attachment library\\ \hline
\et OaDefLayoutView & Default layout view name\\ \hline
\et OaDefSchematicView & Default schematic view name\\ \hline
\et OaDefSymbolView & Default symbol view name\\ \hline
\et OaDefDevPropView & Default device property view name\\ \hline
\et OaDmSystem & Set design management system\\ \hline
\et OaDumpCdfFiles & Dump CDF data to a file\\ \hline
\et OaUseOnly & Restrict to physical/electrical data\\ \hline
%\fi

% 031815
\multicolumn{2}{|c|}{\kb Parameterized Cells}\\ \hline
\et PCellAbutMode & Control pcell auto-abutment\\ \hline
\et PCellHideGrips & Hide stretch handles if set\\ \hline
\et PCellGripInstSize & Instance size threshold for stretch handles\\ \hline
\et PCellKeepSubMasters & Include pcell sub-masters in file output\\ \hline
\et PCellListSubMasters & Include pcell sub-masters in modified cells list\\ \hline
\et PCellScriptPath & Search path for pcell scripts\\ \hline
\et PCellShowAllWarnings & Show warnings during pcell evaluation\\ \hline

% 031815
\multicolumn{2}{|c|}{\kb Standard Vias}\\ \hline
\et ViaKeepSubMasters & Include standard via sub-masters in file output\\ \hline
\et ViaListSubMasters & Include standard via sub-masters in modified cells list\\ \hline

% 102613
\multicolumn{2}{|c|}{\kb Scripts}\\ \hline
\et LogIsLog10 & The log function returns base-10 when set\\ \hline

% 062715
\multicolumn{2}{|c|}{\kb Selections}\\ \hline
\et MarkInstanceOrigin & Show origin of selected instances\\ \hline
\et MarkObjectCentroid & Show centroids of selected physical objects\\ \hline
\et SelectTime & Set delay (msec) to activate move\\ \hline
\et NoAltSelection & Use legacy click-selection logic\\ \hline
\et MaxBlinkingObjects & Maximum number of objects shown blinking\\ \hline

% 101016
\multicolumn{2}{|c|}{\kb Side Menu Commands}\\ \hline
\et MasterMenuLength & Maximum masters in {\cb Cell Placement Control} menu\\ \hline
\et DevMenuStyle & Set presentation style of device menu\\ \hline
\et LabelDefHeight & Default text label height in microns\\ \hline
\et LabelMaxLen & Max length of displayed label string\\ \hline
\et LabelMaxLines & Max lines of displayed label string\\ \hline
\et LabelHiddenMode & Set scope for hidden labels\\ \hline
\et LogoEndStyle & End style for logos: 0 flush, 1 round, 2 extend\\ \hline
\et LogoPathWidth & Path width for logos, 1 -- 5\\ \hline
\et LogoAltFont & Specify alternate font for logos\\ \hline
\et LogoPrettyFont & Name of system font to use for logos\\ \hline
\et LogoPixelSize & Specify the ``pixel'' size for logos\\ \hline
\et LogoToFile & Create subcell for logos\\ \hline
\et NoConstrainRound & No DRC constraints creating round objects\\ \hline
\et RoundFlashSides & Number of sides to use in physical round objects\\ \hline
\et ElecRoundFlashSides & Number of sides to use in electrical round objects\\
\et SpotSize & Set mask resolution\\ \hline

% 022619
\multicolumn{2}{|c|}{\kb SPICE Interface}\\ \hline
\et SpiceListAll & Include unconnected devices in Spice output\\ \hline
\et SpiceAlias & Device key aliases for Spice output\\ \hline
\et SpiceHost & Name of {\WRspice} server\\ \hline
\et SpiceHostDisplay & X display string to use on remote host\\ \hline
\et SpiceInclude & Add include file to SPICE netlist\\ \hline
\et SpiceProg & Path name of {\WRspice} executable, supersedes below\\ \hline
\et SpiceExecDir & Directory containing {\WRspice} executable\\ \hline
\et SpiceExecName & Name of {\WRspice} executable\\ \hline
\et SpiceSubcCatchar & Character used by {\WRspice} in subcircuit expansion\\ \hline
\et SpiceSubcCatmode & Mode for {\WRspice} subcircuit expansion\\ \hline
\et CheckSolitary & Report unconnected terminals in netlist\\ \hline
\et NoSpiceTools & Do not show {\WRspice} toolbar\\ \hline

% 102613
\multicolumn{2}{|c|}{\kb File Menu -- Printing}\\ \hline
\et NoAskFileAction & Don't ask before file actions in File Selection pop-up\\
  \hline
\et DefaultPrintCmd & Default print command (printer name in Windows)\\ \hline
\et NoDriverLabels & Don't use driver text for hard copy labels\\ \hline
\et RmTempFileMinutes & Set up temporary file removal\\ \hline

% 101212
\multicolumn{2}{|c|}{\kb Cell Menu Commands}\\ \hline
\et ContextDarkPcnt & Control illumination of context in {\cb Push}
  command\\ \hline

% 101515
\multicolumn{2}{|c|}{\kb Editing General}\\ \hline
\et AskSaveNative & Prompt to save modified native cell when editing new cell\\ \hline
\et Constrain45 & Constrain polygon and wire angles to 45-degree multiples\\ \hline
\et NoMergeObjects & Suppress merging new boxes, polygons\\ \hline
\et NoMergePolys & Clip/merge boxes only when merging\\ \hline
\et NoFixRot45 & Don't ``fix'' vertex locations after non-Manhattan rotation\\ \hline

% 100616
\multicolumn{2}{|c|}{\kb Edit/Modify Menu Commands}\\ \hline
\et UndoListLength & Number of operations saved in the undo list\\ \hline
\et MaxGhostDepth & Maximum subcell expansion depth in ghosting\\ \hline
\et MaxGhostObjects & Maximum number of objects shown in ghosting\\ \hline
\et NoWireWidthMag & Don't change the width of magnified wires\\ \hline
\et CrCellOverwrite & Allow Create Cell to overwrite memory cells\\ \hline
\et LayerChangeMode & Specify layer change during move/copy\\ \hline
\et JoinMaxPolyVerts & Upper bound of vertices in polygons from join
  (def. 600)\\ \hline
\et JoinMaxPolyGroup & Limit number trapezoids per poly in join (def. 300)\\
  \hline
\et JoinMaxPolyQueue & Limit number trapezoids to form polys in join (def.
  1000)\\ \hline
\et JoinBreakClean & Manhattan split polygons with too many vertices\\ \hline
\et JoinSplitWires & Include wires in join/split operations\\ \hline
\et PartitionSize & Partition grid size in microns for layer operations\\
  \hline
\et Threads & Number of helper threads to employ\\ \hline

% 012815
\multicolumn{2}{|c|}{\kb View Menu Commands}\\ \hline
\et InfoInternal & Use internal coordinates in info windows\\ \hline
\et PeekSleepMsec & Per-layer delay in peek command, milliseconds\\ \hline
\et LockMode & Don't allow physical/electrical mode change\\ \hline
\et XSectNoAutoY & Disable cross-section automatic Y scaling\\ \hline
\et XSectYScale & Set cross-section Y scale factor\\ \hline

% 101016
\multicolumn{2}{|c|}{\kb Attributes Menu Commands}\\ \hline
\et TechNoPrintPatMap & Use hex format for stipple maps when writing tech
  file\\ \hline
\et TechPrintDefaults & Set printing of default values in tech file update\\ \hline
\et BoxLineStyle & Line style mask for highlighting box\\ \hline
\et EraseBehindProps & Erase behind phys properties in props command\\ \hline
\et PhysPropTextSize & Pixel text height used in props command\\ \hline
\et EraseBehindTerms & Erase behind physical mode terminals marks\\ \hline
\et TermTextSize & Pixel height of text used in terminal marks\\ \hline
\et TermMarkSize & Pixel width of cross used for terminal marks\\ \hline
\et ShowDots & Show electrical connections\\ \hline
\et FullWinCursor & Enable full-window cursor\\ \hline
\et CellThreshold & Min size in pixels of displayed subcell, integer $>=$ 0\\
  \hline
\et GridNoCoarseOnly & Don't show coarse grid without fine grid\\ \hline
\et GridThreshold & Minimum visible grid spacing pixels\\ \hline

% 020918
\multicolumn{2}{|c|}{\kb Convert Menu -- General}\\ \hline
\et ChdFailOnUnresolved & Halt CHD operation if unresolved cell\\ \hline
\et ChdCmpThreshold & Set CHD compression block size threshold\\ \hline
\et MultiMapOk & Allow non-1--1 mapping of {\Xic} layers and GDSII
  layer/datatypes\\ \hline
\et NoPopUpLog & Don't pop up log file if warnings or errors\\ \hline
\et UnknownGdsLayerBase & Base number for generated GDSII layers\\ \hline
\et UnknownGdsDatatype & Datatype for generated GDSII layers\\ \hline
\et NoStrictCellnames & Allow white space in cell names\\ \hline
\et NoFlattenStdVias & Keep standard via instances when flattening\\ \hline
\et NoFlattenPCells & Keep parameterized cell instances when flattening\\ \hline
\et NoFlattenLabels & Ignore labels in subcells when flattening\\ \hline
\et NoReadLabels & Ignore text labels when reading physical cell data\\ \hline
\et KeepBadArchive & Don't delete failed conversion output archive file\\
  \hline

% 020918
\multicolumn{2}{|c|}{\kb Convert Menu -- Input and ASCII Output}\\ \hline
\et ChdLoadTopOnly & Load requested cell from CHD only, create reference\\
  \hline
\et ChdRandomGzip & Use random-access table for gzipped files\\ \hline
\et AutoRename & Automatically change clashing cell names when reading\\ \hline
\et NoCreateLayer & Don't create new layers when reading\\ \hline
\et NoMapDatatypes & New layers take all datatypes in GDSII read\\ \hline
\et NoAskOverwrite & Suppress prompting for overwrite instructions\\ \hline
\et NoOverwritePhys & Don't overwrite phys memory cells when reading\\ \hline
\et NoOverwriteElec & Don't overwrite elec memory cells when reading\\ \hline
\et NoOverwriteLibCells & Don't overwrite library cells when reading\\ \hline
\et NoCheckEmpties & Skip checking for empty cells while reading\\ \hline
\et NoPolyCheck & Skip polygon reentrancy tests when reading\\ \hline
\et DupCheckMode & Check for duplicate items when reading\\ \hline
%\ifoa
\et EvalOaPCells & Attempt to create sub-master for OpenAccess pcell instances\\ \hline
%\fi
\et NoEvalNativePCells & Don't attempt to create sub-master for native pcell instances\\ \hline
\et MergeInput & Merge boxes and coincident objects when reading\\ \hline
\et LayerList & Layer list for conversion input filtering\\ \hline
\et UseLayerList & How to use layer list, skip or use only\\ \hline
\et LayerAlias & List of name=alias pairs\\ \hline
\et UseLayerAlias & Map layers using layer alias list\\ \hline
\et InToLower & Map lower case cell names to upper in archive read\\ \hline
\et InToUpper & Map upper case cell names to lower in archive read\\ \hline
\et InUseAlias & Use alias file when reading archive\\ \hline
\et InCellNamePrefix & Cell name translation prefix for archive read\\ \hline
\et InCellNameSuffix & Cell name translation suffix for archive read\\ \hline
\et CifLayerMode & CIF layer resolution method, 0--2\\ \hline
\et OasReadNoChecksum & Ignore checksum in OASIS input file\\ \hline
\et OasPrintNoWrap & Use one line per record in OASIS ASCII output\\ \hline
\et OasPrintOffset & Add file offsets to OASIS ASCII output\\ \hline

% 081318
\multicolumn{2}{|c|}{\kb Convert Menu -- Output}\\ \hline
\et StripForExport & Strip all format extensions from output file\\ \hline
\et WriteMacroProps & Include deprecated {\et macro} properties in output\\ \hline
\et KeepLibMasters & Write library cells when creating archive file\\ \hline
\et SkipInvisible & Do not write invisible layers to output\\ \hline
\et NoCompressContext & Don't compress instance lists in archive context\\
  \hline
\et RefCellAutoRename & Use auto-rename when writing reference cell data\\
  \hline
\et UseCellTab & Enable use of the cell override table in CHD access\\ \hline
\et SkipOverrideCells & Skip cells in override table in CHD access\\ \hline
\et Out32nodes & Use old 3.2 node property syntax in output\\ \hline
\et OutToLower & Map lower case cell names to upper in archive write\\ \hline
\et OutToUpper & Map upper case cell names to lower in archive write\\ \hline
\et OutUseAlias & Use alias file when writing archive\\ \hline
\et OutCellNamePrefix & Cell name translation prefix for archive write\\ \hline
\et OutCellNameSuffix & Cell name translation suffix for archive write\\ \hline
\et CifOutStyle & CIF output dialect and extensions specifier\\ \hline
\et CifOutExtensions & CIF output extension flags\\ \hline
\et CifAddBBox & Add bounding box comment to objects in CIF output\\ \hline
\et GdsOutLevel & GDSII release level conformance code (0--2)\\ \hline
\et GdsMunit & Modify M-UNITS value in GDSII output file\\ \hline
\et GdsTruncateLongStrings & Cut strings too long for record\\ \hline
\et NoGdsMapOk & Ignore unmapped layers in GDSII/OASIS output\\ \hline
\et OasWriteCompressed & Compress records in OASIS output\\ \hline
\et OasWriteNameTab & Use string table referencing in OASIS output\\ \hline
\et OasWriteRep & Try to combine similar objects in OASIS output\\ \hline
\et OasWriteChecksum & Compute and add checksum to OASIS output\\ \hline
\et OasWriteNoTrapezoids & Don't convert polys to trapezoids\\ \hline
\et OasWriteWireToBox & Convert wires to boxes when possible\\ \hline
\et OasWriteRndWireToPoly & Convert rounded-end wires to polygons\\ \hline
\et OasWriteNoGCDcheck & Don't look for common divisors in repetitions\\ \hline
\et OasWriteUseFastSort & Use faster but less effective sorting\\ \hline
\et OasWritePrptyMask & Don't write certain properties\\ \hline

% 101212
\multicolumn{2}{|c|}{\kb Custom Property Filtering}\\ \hline
\et PhysPrpFltCell & Physical cell property filter string\\ \hline
\et PhysPrpFltInst & Physical instance property filter string\\ \hline
\et PhysPrpFltObj & Physical object property filter string\\ \hline
\et ElecPrpFltCell & Electrical cell property filter string\\ \hline
\et ElecPrpFltInst & Electrical instance property filter string\\ \hline
\et ElecPrpFltObj & Electrical object property filter string\\ \hline

% 021615
\multicolumn{2}{|c|}{\kb Design Rule Checking}\\ \hline
\et Drc & Enable interactive rule checking\\ \hline
\et DrcNoPopup & Suppress violation reporting pop-up\\ \hline
\et DrcLevel & Set violation reporting level\\ \hline
\et DrcMaxErrors & Quit testing when this many violations found\\ \hline
\et DrcInterMaxObjs & Maximum number of objects to test interactively\\ \hline
\et DrcInterMaxTime & Maximum milliseconds for interactive test\\ \hline
\et DrcInterMaxErrors & Maximum violation count for interactive test\\ \hline
\et DrcInterSkipInst & Skip expensive instance check in interactive test\\ \hline
\et DrcChdName & Name of CHD for batch test\\ \hline
\et DrcChdCell & Name of top cell in CHD to test\\ \hline
\et DrcLayerList & List of layer names for filtering\\ \hline
\et DrcUseLayerList & Use only or skip layers in list\\ \hline
\et DrcRuleList & List of rule names for filtering\\ \hline
\et DrcUseRuleList & Use only or skip rule in list\\ \hline
\et DrcPartitionSize & Partition grid size in microns\\ \hline

% 102114
\multicolumn{2}{|c|}{\kb Extraction Tech}\\ \hline
\et AntennaTotal & Default input for {\cb !antenna} command\\ \hline
\et Db3ZoidLimit & Trapezoid limit for the 3-D database\\ \hline
\et LayerReorderMode & Default layer sequencing option\\ \hline
\et NoPlanarize & When set, no layers are assumed planarizing\\ \hline
\et SubstrateEps & Relative dielectric constant of substrate\\ \hline
\et SubstrateThickness & Assumed thickness of substrate in microns\\ \hline

% 061916
\multicolumn{2}{|c|}{\kb Extraction General}\\ \hline
\et ExtractOpaque & Ignore the OPAQUE flag in extraction\\ \hline
\et FlattenPrefix & Cell name prefix to flatten in extraction\\ \hline
\et GlobalExclude & Layer expression to exclude objects during extraction\\ \hline
\et GroundPlaneGlobal & Ground all pieces of clear-field ground plane\\ \hline
\et GroundPlaneMulti & Handle nets in dark-field ground plane\\ \hline
\et GroundPlaneMethod & Set ground plane inversion method 0--2\\ \hline
\et KeepSortedDevs & Include devices with terminals shorted\\ \hline
\et MaxAssocLoops & Maximum loop count for association\\ \hline
\et MaxAssocIters & Maximum iteration count for association\\ \hline
\et NoMeasure & Suppress measuring parameters of devices\\ \hline
\et UseMeasurePrpty & Read and update cached measurement results property\\ \hline
\et NoReadMeasurePrpty & Don't read cached measurement results from property\\ \hline
\et NoMergeParallel & Never merge parallel devices\\ \hline
\et NoMergeSeries & Never merge series devices\\ \hline
\et NoMergeShorted & Never merge devices with all terminals shorted\\ \hline
\et IgnoreNetLabels & Ignore labels found in nets\\ \hline
\et UpdateNetLabels & Create or update net labels after association\\ \hline
\et FindOldTermLabels & Search for old-style ``term labels''\\ \hline
\et MergeMatchingNamed & Merge nets with the same logical net name\\ \hline
\et MergePhysContacts & Merge contacts for split-net handling\\ \hline
\et NoPermute & Skip permutation search in association\\ \hline
\et PinLayer & Name of layer for net labels\\ \hline
\et PinPurpose & Name of purpose for net labels\\ \hline
\et RLSolverDelta & Overriding grid spacing for resistance/inductance
  extraction\\ \hline
\et RLSolverTryTile & Attempt to use tiling grid for 
  resistance/inductance extraction\\ \hline
\et RLSolverGridPoints & Grid points per device when not tiling\\ \hline
\et RLSolverMaxPoints & Maximum grid points per device when tiling\\ \hline
\et SubcPermutationFix & Apply post-association permutation fix\\ \hline
\et VerbosePromptline & Print info on prompt line during extraction\\ \hline
\et ViaCheckBtwnSubs & Check connectivity between subcircuit nets by via\\
 \hline
\et ViaSearchDepth & Cell hierarchy depth to search for vias\\ \hline
\et ViaConvex & Assume all vias are convex polygons\\ \hline

% 061516
\multicolumn{2}{|c|}{\kb Extract Menu Commands}\\ \hline
\et QpathGroundPlane & {\cb "Quick" Path}, use of inverted ground plane, 0--2\\
  \hline
\et QpathUseConductor & {\cb "Quick" Path}, allow Conductor objects in net\\
  \hline
\et EnetNet & Print net, {\cb enet} command\\ \hline
\et EnetSpice & Do include SPICE listing, {\cb enet} command\\ \hline
\et EnetBottomUp & Use leaf-to-root ordering in electrical netlist\\ \hline
\et PnetNet & Print extracted net list, {\cb pnet} command\\ \hline
\et PnetDevs & Print extracted device list, {\cb pnet} command\\ \hline
\et PnetSpice & Print extracted SPICE list, {\cb pnet} command\\ \hline
\et PnetBottomUp & Use leaf-to-root ordering in physical netlist\\ \hline
\et PnetShowGeometry & Include wire geometry in netlist file, {\cb pnet}
  command\\ \hline
\et PnetIncludeWireCap & Include routing caps in SPICE netlist, {\cb pnet}
  command\\ \hline
\et PnetListAll & List ignored and flattened subcells, {\cb pnet} command\\
  \hline
\et PnetNoLabels & No net names from labels in {\cb pnet} command output\\
  \hline
\et PnetVerbose & Print more information in {\cb pnet} command output\\ \hline
\et SourceAllDevs & Update internal-named devices in {\cb sourc} command\\
  \hline
\et SourceCreate & Create devices in {\cb sourc} command even if not empty\\
  \hline
\et SourceClear & Clear cell before updating with {\cb sourc} command\\ \hline
\et SourceGndDevName & Name of ground device used with {\cb sourc} command\\ \hline
\et SourceTermDevName & Name of terminal device used with {\cb sourc} command\\ \hline
\et NoExsetAllDevs & Don't use internal-named devices in {\cb exset} command\\
  \hline
\et NoExsetCreate & Don't create devices in {\cb exset} command\\ \hline
\et ExsetClear & Clear cells before updating in {\cb exset} command\\ \hline
\et ExsetIncludeWireCap & Include routing capacitance in {\cb exset} command\\
  \hline
\et ExsetNoLabels & No net names from labels in {\cb exset} command output\\
  \hline
\et LvsFailNoConnect & Force LVS failure if unconnected physical instance\\
  \hline
\et PathFileVias & Include vias in wire net files\\ \hline

% 071814
\multicolumn{2}{|c|}{\kb Capacitance Extraction Interface}\\ \hline
\et FcArgs & Capacitance extractor command line arguments\\ \hline
\et FcForeg & Run capacitance extractor in foreground if set\\ \hline
\et FcLayerName & Capacitance extractor masking layer name\\ \hline
\et FcMonitor & Capacitance extractor output appears in console window if set\\
  \hline
\et FcPlaneTarget & Refined element count target\\ \hline
\et FcPath & Path to capacitance extractor executable\\ \hline
\et FcPlaneBloat & Capacitance extractor substrate bloat dimension\\ \hline
\et FcUnits & Capacitance extractor file units: m, cm, mm, um, in, mils\\ \hline

% 011621
\multicolumn{2}{|c|}{\kb Inductance/Resistance Extraction Interface}\\ \hline
\et FhArgs & {\it FastHenry} command line arguments\\ \hline
\et FhDefaults & Text for {\vt .DEFAULT} line in {\it FastHenry} input\\
  \hline
\et FhDefNhinc & Default for {\vt nhinc} in {\it FastHenry} input\\ \hline
\et FhDefRh & Default for {\vt rh} in {\it FastHenry} input\\ \hline
\et FhForeg & {\it FastHenry} run in foreground if set\\ \hline
\et FhFreq & {\it FastHenry} frequency specification\\ \hline
\et FhLayerName & {\it FastHenry} interface masking layer name\\ \hline
\et FhManhGridCnt & Manhattanization grid cell count\\ \hline
\et FhMonitor & {\it FastHenry} output appears in console window if set\\
  \hline
\et FhOverride & Override {\vt nhinc}, {\vt rh} in {\it FastHenry} input\\ \hline
\et FhPath & Path to {\it FastHenry} executable\\ \hline
\et FhUnits & {\it FastHenry} file units: m, cm, mm, um, in, mils\\ \hline
\et FhUseFilament & Use {\it FastHenry} filaments\\ \hline
\et FhVolElMin & {\it FastHenry} volume element minimum size factor\\ \hline
\et FhVolElTarget & {\it FastHenry} volume element count target\\ \hline
\et FhVolEnable & Enable segment refinement.\\ \hline

% 102613
\multicolumn{2}{|c|}{\kb Help System}\\ \hline
\et HelpDefaultTopic & Suppress or set the default help topic\\ \hline
\et HelpMultiWin & Use separate windows for help references\\ \hline
\end{longtable}


% -----------------------------------------------------------------------------
% !set:special 021515
\section{Special Constructs}
\index{variables!special constructs}

These are special {\cb !set} variables and constructs which have
significance to {\Xic}.

\begin{description}
\item{(no arg)}\\
Pop up a list of the currently set variables.  Variables in this list
(with the exception of the path variables) can be removed with the
{\cb !unset} command.

\item{?}\\
Pop up a list of the variables that have meaning to {\Xic}.

\index{parameter setting}
\item{{\vt @}{\it devname\/}.{\it property}}\\
Set the {\it property\/} on device {\it devname} to {\it value\/}. 
This construct enables device properties to be added to devices via
the command line.  The first character of the {\it name} token must be
`{\vt @}', followed by the name of the device, a period, and the name
of the property to set.  Valid property names are ``{\vt name}'',
``{\vt model}'', ``{\vt value}'', ``{\vt param}'', ``{\vt other}'',
and ``{\vt nophys}''.  For backward compatibility, ``{\vt initc}'' is
recognized as an alias for ``{\vt param}''.  An unrecognized property
name will be saved as an ``other'' property.

Examples:
\begin{description}
\item{\vt !set @L2.value 2ph}\\
sets the value of L2 to 2ph.
\item{\vt !set @Moutput.param L=2}\\
sets the length parameter of mosfet {\vt Moutput}.
\end{description}

The {\it devname} field can be the name of a mutual inductor, in which
case the valid properties are ``{\vt name}'' and ``{\vt value}''.
\end{description}


% -----------------------------------------------------------------------------
% !set:startup 012014
\section{Startup}
\index{variables!startup}

The following variables control fundamental behavior of the {\Xic}
program.  These must be specified before reading design or technology
data.  Unlike all other variables, these can be set only from the {\vt
.xicinit} file, which is read before the technology file, or the
technology file.  These can not be set or unset in a {\vt .xicstart}
file, which is read after the technology file, unless no technology
file is read.  They can not be set by any other means.

The {\vt Set} script function can be used in the initialization files
to set this variable.  In the technology file, the {\vt !set} command
should be used, and this must appear at the top of the file, before
layer definitions.

\begin{description}
\index{DatabaseResolution variable}
\item{\et DatabaseResolution}\\
{\bf Value:} string: ``{\vt 1000}'', ``{\vt 2000}'', ``{\vt 5000},
 or ``{\vt 10000}''.\\
By default, {\Xic} uses an internal resolution of 1000 units per
micron.  In releases prior to 3.0.12, this was internally hard-coded. 
As the dimensions used in integrated circuits continue to shrink, an
option for higher resolution was added through use of the {\et
DatabaseResolution} variable.

The internal resolution can be set with this variable, to one of the
listed choices.  If unset, 1000 units is used.  This resolution
applies only to physical data, electrical resolution is fixed at 1000.

Superficially, changing the internal resolution has only subtle
effects from the user's vantage point.  Some of these are:

\begin{enumerate}
\item{If not 1000, four digits following the decimal point are used
when printing coordinates in microns, in many places in {\Xic}.
Otherwise, only three digits are used.}

\item{The ultimate zoom-in and grid spacing sizes are smaller for
higher resolutions.}

\item{The size of ``infinity'', the maximum accessible size for the
design, becomes smaller as resolution is increased, since coordinates
are stored internally as 32-bit integers.  For 1000 units, the field
width is approximately 2 meters, which decreases to 20 centimeters at
10000 units.  This should still be plenty for most purposes.}

\item{Layout files produced by {\Xic} will use the internal
resolution, so that no accuracy is lost.}
\end{enumerate}

\index{NetNamesCaseSens variable}
\item{\et NetNamesCaseSens}\\
{\bf Value:} boolean.\\
By default, net names are case-insensitive in {\Xic}, and saved
internally as upper-case.  If this boolean variable is set, net names
are taken as case-sensitive.  This impacts lookup of nets by name and
comparison of net names for identification and matching purposes, as
used in the electrical schematic and extraction system.

\index{Subscripting variable}
\item{\et Subscripting}\\
{\bf Value:} string.\\
In {\Xic}, net name and cell instance indexing can employ angle,
square, or curly brackets, as in the forms {\vt mynet<1>}, {\vt
mynet[1]}, and {\vt mynet\{1\}}.  These forms are equivalent and can
be freely mixed in {\Xic} input.

However, on occasion {\Xic} will create a vector name for output.  The
default is to use angle brackets, but this can be changed by setting
this variable.  The variable must be set to a word starting with one
of the letters {\vt a}, {\vt s}, or {\vt c}, case insensitive (the
``word'' can be just the letter).  Only the first letter is
significant.  The letters signify angle, square, or curly brackets.

\index{DrfDebug variable}
\item{\et DrfDebug}\\
{\bf Value:} boolean.\\
This obscure flag applies when using the {\vt ReadDRF}, {\vt
ReadCdsTech} and {\vt ReadCniTech} technology file directives.  If
this variable is set, non-serious warnings encountered when reading
these files will be printed.  One such warning is generated by use in
the Virtuoso or Ciranova technology file of color, stipple, or packet
names that have not been defined in the display resourse file (DRF). 
Since there are defaults, these unresolved name references are not a
serious problem.

At least one commercial process design kit had lots of these issues,
and reporting these as warnings on every {\Xic} startup became
irritating, particularly since it is not something that the typical
user can fix, or want to bother with fixing.  Thus, these
not-really-errors are ignored by default, but if the user desires then
setting this variable will make any such errors visible.

This variable must be set before the files are read.  Setting this
variable at the top of the {\Xic} technology file with the {\vt !set}
construct is a convenient way.
\end{description}


% -----------------------------------------------------------------------------
% !set:paths 102008
\section{Paths and Directories}
\label{pathvars}
\index{variables!paths}

These variables set the search paths (see \ref{searchpaths}) and
document directory used in {\Xic}.  These have counterpart environment
variables (see \ref{xicenv}).  The search paths can also be set from
the technology file.

If not set by any means, internal defaults are used for the search
paths and document directory.  Under Windows, the default is set to
point to the actual installation location subdirectories when
necessary.  Under Unix/Linux, the {\et XT\_PREFIX} environment variable
should be set to the installation location prefix that effectively
replaces ``{\vt /usr/local}''.

Below, {\it PREFIX} is obtained from the Windows Registry database
under Windows, which is defined when the program is installed.  Under
Unix/Linux, {\it PREFIX} is obtained from the {\et XT\_PREFIX}
environment variable.  In both cases, the default value for {\it
PREFIX\/}, if another definition is not found, is ``{\vt
/usr/local}''.

\begin{description}
% 062109
\index{Path variable}
\item{\et Path}\\
{\bf Value:} path string, can't be unset.\\
This variable contains the design data search path.  It is always
defined, and can not be unset.  This path is used to find native cell,
archive, and library files.

If not set by any means, a default path is used.\\
Default: ``( {\vt .} )''

% 061308
\index{LibPath variable}
\item{\et LibPath}\\
{\bf Value:} path string, can't be unset.\\
This variable contains the startup library search path.  It is always
defined, and can not be unset.  The library path is used to find the
technology file, device and model libraries, and other initialization
files.

Unlike other search paths, the current directory is {\it always}
searched first, whether or not this is indicated in the search path
string.  If not set by any means, a default library path is used.\\
Default: ``( {\vt .} {\it PREFIX\/}{\vt /xictools/xic/startup} )''

% 061308
\index{HelpPath variable}
\item{\et HelpPath}\\
{\bf Value:} path string, can't be unset.\\
This variable contains the help search path.  It is always defined,
and can not be unset.  This path is used to find files that contain
information for the help system.

If not set by any means, a default help path is used.\\
Default: ``( {\it PREFIX\/}{\vt /xictools/xic/help} )''

% 102208
\index{ScriptPath variable}
\item{\et ScriptPath}\\
{\bf Value:} path string, can't be unset.\\
This variable contains the script search path.  It is always defined,
and can not be unset.  This path is used to find script and menu files
that will appear in the {\cb User Menu}.

If not set by any means, a default script path is used.\\
Default: ``( {\it PREFIX\/}{\vt /xictools/xic/scripts} )''
\end{description}

The treatment of any path which is given with a native cell to open in
the {\cb Open} command can be altered with the next two variables.

\begin{description}
% 061408
\index{NoReadExclusive variable}
\item{\et NoReadExclusive}\\
{\bf Value:} boolean.\\
When a native cell name with a path is opened, the path is
stripped from the cell name.  If the path is not already in the search
path, it is added.  Ordinarily, the path is put in front of the search
path for the duration of the read, so that subcells will be opened
from the same directory.  If this variable is set, the path is not
necessarily moved to the front of the search path.

% 102208
\index{AddToBack variable}
\item{\et AddToBack}\\
{\bf Value:} boolean.\\
A path stripped from a given cell name in the {\cb Open} command is
added to the back of the search path, rather than the front.
\end{description}

The behavior is described below for the various permutations:

\begin{quote}
{\et NoReadExclusive} unset\\
{\et AddToBack} unset\\
(default behavior)\\
\\
The directory is added to the front of the search path during the read.
The ``.'' element of the path, if it exists, is moved to the front
after the read.
\end{quote}

\begin{quote}
{\et NoReadExclusive} unset\\
{\et AddToBack} set\\
\\
The directory is added to the front of the search path during the read.
The ``.'' element of the path, if it exists, is moved to the front,
and the directory is moved to the end after the read.
\end{quote}

\begin{quote}
{\et NoReadExclusive} set\\
{\et AddToBack} unset\\
\\
If the directory exists in the path, nothing is changed, otherwise the
directory is added to the front.  After the read, the ``.'' entry, if it
exists, is moved to the front.
\end{quote}

\begin{quote}
{\et NoReadExclusive} set\\
{\et AddToBack} set\\
\\
If the directory exists in the path, nothing is changed, otherwise the
directory is added to the end.
\end{quote}

\begin{description}
% 061308
\index{DocsDir variable}
\item{\et DocsDir}\\
{\bf Value:} path to directory.\\
The given directory is searched for the release notes, for the {\cb
Release Notes} command in the {\cb Help Menu}.

If not set by any means, a default document directory is used.\\
Default:  ``{\it PREFIX\/}{\vt /xictools/xic/docs}''

% 030413
\index{ProgramRoot variable}
\item{\et ProgramRoot}\\
{\bf Value:} string.\\
This variable is set by the program to the installation location
assumed by the program at program start-up.  For example, for {\Xic}
installed in the standard location, the variable will contain the
string ``{\vt /usr/local/xictools/xic}''.  This variable is not used
by {\Xic}, but is available in scripts so that the user can query the
value when needing to access files in the installation location.  Note
that the user can set or clear this variable arbitrarily.

% 061308
\index{TeePrompt variable}
\item{\et TeePrompt}\\
{\bf Value:} path to file.\\
When set, the prompt line messages are copied to the given file.  If a
file name is not given, or when the variable is unset, redirection
stops.  The value string can be ``{\vt stderr}'' or ``{\vt stdout}''
to redirect output to the terminal window instead of a file.
\end{description}


% -----------------------------------------------------------------------------
% !set:generalvis 100616
\section{General Visual}
\index{variables!general visual}

The following {\cb !set} variables affect general visual attributes of
{\Xic}.

\begin{description}
% 021812
\index{MouseWheel variable}
\item{\et MouseWheel}\\
{\bf Value:} two floating-point numbers.\\
This variable controls the per-click increments for mouse wheel
panning and zooming of drawing windows.  Without a key held, the
mouse wheel scrolls drawing windows up/down.  If {\kb Shift} is held,
scrolling is right/left.  If {\kb Ctrl} is held (overrides {\kb
Shift}), the mouse wheel zooms out or in.

The string provided to this variable consists of two space-separated
floating-point numbers, each in the range of 0 -- 0.5.  The first is
the pan factor, the second is the zoom factor.  The default is {\vt
0.1 0.1}.  Larger numbers increase the effect per mouse wheel click. 
If either number is set to 0, that effect (pan or zoom) is
suppressed.  Thus, to turn off mouse wheel support in drawing windows,
give ``{\vt 0 0}''.

% 061308
\index{ListPageEntries variable}
\item{\et ListPageEntries}\\
{\bf Value:} integer 100--50000\\
This sets the number of entries that appear per page in the pop-ups
that list cells.  If the number of cells to be listed exceeds this
number, a page menu will become visible in the listing panel.  Each
page will contain at most this number of entries.  Only the entries
for the currently selected page will be visible.  If this variable is
not set, the default value is 5000.

% 010918
\index{NoInstnameLabels variable}
\item{\et NoInstnameLabels}\\
{\bf Value:} boolean.\\
Starting in release 4.3.3, the label used in physical display windows
for unexpanded cell instances is the instance name, which consists of
the master cell name followed by a colon separator and a unique
integer index.  When this variable is set, the label shows the master
cell name only, the same as in earlier {\Xic} releases.

% 082008
\index{NoLocalImage variable}
\item{\et NoLocalImage}\\
{\bf Value:} boolean.\\
In {\Xic} generation 3, a ``local image'' may be used to compose
images for screen rendering.  The display image is composed in local
memory, and flushed to the screen when drawing is complete.  When
using X-Windows, this provides much faster rendering of complex
displays, particularly when running remotely over a network, than the
standard method of server-side image manipulation as used exclusively
in previous {\Xic} releases.

The local image method is not used under Windows, since it provides no
benefit in the Windows architecture.  It is also not used if the
hierarchy being shown is not complex, i.e., contains few subcells and
objects, as the conventional drawing mode is quicker in this case.

If this variable is set, the local image feature is disabled, and
rendering is always performed by server-side functions.  This is for
debugging, it is not likely that the user will need to set this
variable.

% 061308
\index{NoPixmapStore variable}
\item{\et NoPixmapStore}\\
{\bf Value:} boolean.\\
In normal operation, the screen refreshes are buffered through an
in-core pixel map.  The geometry is rendered in the map, and when
finished the map is copied to the screen.  This is generally faster
than drawing directly to the screen.  When this variable is set, all
drawing is direct to the screen.  This is intended only for debugging
purposes.

% 061308
\index{NoDisplayCache variable}
\item{\et NoDisplayCache}\\
{\bf Value:} boolean.\\
In normal operation, boxes are cached during rendering, and displayed
with a multiple object rendering call.  This should be faster than
rendering the boxes individually.  When this variable is set, the
caching is disabled.  This is intended only for debugging purposes.

% 100516
\index{LowerWinOffset variable}
\item{\et LowerWinOffset}\\
{\bf Value:} integer -16 to 16.\\
For windows that are automatically placed just above the prompt line,
giving this variable a positive value will position these windows
toward the top of the screen by that many pixels.  This is useful when
using ``plasma'' displays (such as Mac or KDE), where the shadow falls
on the prompt line, which can be distracting.  It might also be
helpful if the window positioning is incorrect, which might occur with
some window managers.  This variable tracks the state of the {\cb
Pixels between pop-ups and prompt line} entry area in the {\cb
General} page of the {\cb Window Attributes} panel from the {\cb
Attributes Menu}.

% 061308
\index{PhysGridOrigin variable}
\item{\et PhysGridOrigin}\\
{\bf Value:} two floating-point numbers.\\
This will set the origin of the displayed grid in physical-mode
windows.  The value consists of two floating-point numbers, which are
taken as the x and y grid origin location in microns.  This applies
only to the displayed grid, and specifically not to the grid/snap used
when creating or locating objects.

When an offset is active, the word {\vt "PhGridOffs"} will be 
displayed in the status area.

% 061308
\index{ScreenCoords variable}
\item{\et ScreenCoords}\\
{\bf Value:} boolean.\\
When set, the coordinate readout area will display the position of the
mouse pointer in the current drawing window in the window's pixel
coordinates.  This is for development/debugging purposes and is not
likely to be useful to the user, and in fact may cause trouble if used
while editing.

% 021912
\index{PixelDelta variable}
\item{\et PixelDelta}\\
{\bf Value:} integer (default 3).\\
This variable determines how close, in screen pixels, a user must
click to a feature for {\Xic} to recognize this as clicking ``on''
that feature.  The value should likely be set larger than the default
for very high-resolution screens, or for inaccurate pointing devices,
or for users with less than the sharpest eyesight. 

% 020715
\index{NoPhysRedraw variable}
\item{\et NoPhysRedraw}\\
{\bf Value:} boolean.\\
When set, physical windows will not be redrawn after a layer
visibility change in the layer table.  This is traditional behavior of
earlier {\Xic} releases, which assumed that screen redraws would take
some time and the user would prefer to force a redraw when desired.

% 030815
\index{NoToTop variable}
\item{\et NoToTop}\\
{\bf Value:} boolean.\\
By default, most if not all {\Xic} sub-windows will automatically rise
to the top if completely covered by the {\Xic} main window.  This
includes plot windows from {WRspice} running under control of {\Xic}
(however most window managers don't support this).  If this variable
is set, the action will be disabled.  This will apply to plot windows
from {\WRspice} that is started after the variable is set. 

Some (probably most) window managers will do this automatically for
sub-windows, in which case setting this variable will have no effect
on the {\Xic} sub-windows, but would still affect {\WRspice} plot
windows if the window manager supports this.  The only window manager
I know of that supports this is Exceed 2008, because it is old.  The
protocol is deemed a security risk and has been disabled in modern
window managers for some time.

\end{description}


% -----------------------------------------------------------------------------
% !set:bangcmds 100616
\section{Keyboard `!' Commands}
\index{variables!`"!' commands}

The {\cb !set} variables below affect the `!' commands available from
the keyboard.  Commands of this form that are not recognized as
internal commands are assumed to be operating system commands, and are
executed in a separate window under a command shell.

\begin{description}
% 061308
\index{Shell variable}
\item{\et Shell}\\
{\bf Value:} string.\\
This variable can be set to the name of a command interpreter which
will be used for the `!' and !{\it shellcmd} inputs.  The interpreter
will be instantiated in its own window.  If not given, the shell
program used will be taken from the {\et SHELL} environment variable,
and if this variable is not found the default is ``{\vt /bin/sh}''. 
{\WRspice} users can set the shell to ``{\vt wrspice}'' for quick
access to the full user interface of that program.

Under Microsoft Windows, the value must be a full path name to the
shell executable, and the {\et COMSPEC} environment variable is also
consulted for the default shell, after the {\et SHELL} variable.
\end{description}


%\ifoa
% -----------------------------------------------------------------------------
% !set:oa 021515
\section{OpenAccess Interface}
\index{variables!OpenAccess}

The following {\cb !set} variables affect the OpenAccess interface. 
These variables have no effect unless the OpenAccess plug-in is
loaded.

\begin{description}
% 021913
\index{OaLibraryPath variable}
\item{\et OaLibraryPath}\\
{\bf Value:} string.\\
This can specify a path to a directory, which will be searched if a
library can not be found.  When opening a library, and the library is
not found in the {\vt lib.defs} (or {\vt cds.lib}) file, the system
will look for the library as a subdirectory of the directory path
specified in this variable, if any.  This allows use of OpenAccess
libraries that are hidden from other tools.

% 022316
\index{OaDefLibrary variable}
\item{\et OaDefLibrary}\\
{\bf Value:} string.\\
This can be set to the name of a library in the OpenAccess {\vt
lib.defs} (or {\vt cds.lib}) file, or a subdirectory of the {\et
OaLibraryPath} if any.  This will be used as the default library in
certain commands, if no other library is given.  Presently, the {\cb
!oabrand}, {\cb !oasave}, and {\cb !oaload} commands use this. 

% 041415
\index{OaDefTechLibrary variable}
\item{\et OaDefTechLibrary}\\
{\bf Value:} string.\\
This can be set to the name of a library in the OpenAccess {\vt
lib.defs} (or {\vt cds.lib}) file, or a subdirectory of the {\et
OaLibraryPath} if any.  When a library is created, it will attach the
technology database associated with the library name found in this
variable, if set.  If the named library has an attached technology,
the same attachment will be applied to the new library.  Otherwise,
the new library will attach the local technology database of the named
library.

% 022316
\index{OaDefLayoutView variable}
\item{\et OaDefLayoutView}\\
{\bf Value:} string.\\
This sets the view name assumed for physical data in OpenAccess.  When
not set, the default is ``{\vt layout}''.  This variable tracks an
entry area in the {\cb OpenAccess Defaults} panel.

% 022316
\index{OaDefSchematicView variable}
\item{\et OaDefSchematicView}\\
{\bf Value:} string.\\
This sets the view name assumed for schematic data in OpenAccess. 
When not set, the default is ``{\vt schematic}''.  This variable
tracks an entry area in the {\cb OpenAccess Defaults} panel.

% 022316
\index{OaDefSymbolView variable}
\item{\et OaDefSymbolView}\\
{\bf Value:} string.\\
This sets the view name assumed for symbol data in OpenAccess.  When
not set, the default is ``{\vt symbol}''.  This variable tracks an
entry area in the {\cb OpenAccess Defaults} panel.

% 022316
\index{OaDefDevPropView variable}
\item{\et OaDefDevPropView}\\
{\bf Value:} string.\\
This provides a default name for a simulator-specific view from which
device properties are obtained.  Often these peoperties are in a
format intended for a specific simulator.  If not set, the default is
``{\vt HspiceD}'', which assumes the Hspice simulator, to which the
{\WRspice} simulator has compatibility.  This variable tracks an entry
area in the {\cb OpenAccess Defaults} panel.

% 021913
\index{OaDmSystem variable}
\item{\et OaDmSystem}\\
{\bf Value:} string.\\
If this variable is set to a string starting with `{\vt t}' or `{\vt
T}', OpenAccess will be set to use the {\et Turbo} design management
system.  Otherwise, OpenAccess will use the default {\et FileSys}
system.  Compatibility with Cadence seems to require use of the {\et
FileSys} system.  The {\et Turbo} system is claimed to have higher
performance.  The format of information stored on disk is very
different in the two approaches.  Supposedly, this should be invisible
to the OpenAccess user.

% 021913
\index{OaDumpCdfFiles variable}
\item{\et OaDefTechLibrary}\\
{\bf Value:} boolean.\\
If this variable is set when a parameterized cell is opened in
OpenAccess, the CDF data for the cell will be dumped to a file in the
current directory.  The file name is the cell name with a ``{\vt
.cdf}'' extension.  This is for development/debugging.

% 030416
\index{OaUseOnly variable}
\item{\et OaUseOnly}\\
{\bf Value:} string.\\
This variable can be used to limit data imported from and exported to
OpenAccess to physical only or electrical only.  The variable tracks
the state of the {\cb Data to use from OA} radio group in the {\cb
OpenAccess Libraries} panel. 

If set to ``1'', or to any text starting with `p' or `P', only
physical layout data will be read from or written to OpenAccess.  If
set to ``2'', or to any text starting with `e' or `E', only electrical
data (schematic and symbol) will be read or written.  If not set, or
set to anything else, both physical and electrical data will be read
or written.

The restriction applies to conversion to and from OpenAccess, by any
method in {\Xic}.

One useful observation is that one can import a schematic from
Virtuoso even if no provision has been made to export pcells.  Unless
the Express PCell feature is enabled in Virtuoso, conversion of
Skill-based pcells will fail as they can not be evaluated outside of
the Cadence environment.  The Express PCell feature makes available a
cache of pre-built sub-masters that can be exported.  Without this,
attempting to import physical data will produce a lot of errors, which
can be avoided if only a schematic is needed by importing electrical
data only.
\end{description}
%\fi

% -----------------------------------------------------------------------------
% !set:pcells 021515
\section{Parameterized Cells}
\index{variables!pcells}

The following {\cb !set} variables affect parameterized cell (pcell)
capabilities.  Most of these track elements of the {\cb PCell Control}
panel obtained from the {\cb PCell Control} button in the {\cb Edit
Menu}.

\begin{description}
% 022513
\index{PCellAbutMode variable}
\item{\et PCellAbutMode}\\
{\bf Value:} integer 0--2, default 1.\\
{\Xic} provides an internal implementation of the Ciranova
auto-abutment protocol (see \ref{pcabut}).  This variable sets the
value of the {\et otherPinsOnNet} parameter mentioned in the protocol
description.  How the pcell uses this variable is up to the pcell
author, there is really no {\it a-priori} interpretation, it is an
integer of value 0, 1, or 2.

The Ciranova {\et Nmos2} example pcell interprets the value to have
the following meanings.  This is likely to be used in other pcells as
well.

\begin{tabular}{ll}\\
0 & Auto-abutment is disabled.\\
1 & Abutment takes place with no contact between the gates.\\
2 & Abutment takes place with a M1 contact between the gates.\\
\end{tabular}

This variable tracks the {\cb Auto-abutment mode} selection menu in
the {\cb PCell Control} panel.

% 022513
\index{PCellHideGrips variable}
\item{\et PCellHideGrips}\\
{\bf Value:} boolean.\\
{\Xic} implements the Ciranova stretch handle protocol (see
\ref{pcstretch}), and by default stretch handles are visible in
selected, expanded cell instances, and when editing the sub-master. 
If this variable is set, all stretch handles will be invisible and
disabled.

This variable tracks the state of the {\cb Hide and disable stretch
handles} check box in the {\cb PCell Control} panel.

% 031113
\index{PCellGripInstSize variable}
\item{\et PCellGripInstSize}\\
{\bf Value:} integer 0--1000.\\
Stretch handles are not shown and inactive if the instance rendering
size is too small.  This is to avoid triggering a stretch
inadvertently.  By default, the smallest of the instance height/width
must be 100 screen pixels or larger to show and activate stretch
handles.  This variable can be set to provide a different threshold.
 
This variable tracks the value of the {\cb Instance min.  pixel size
for stretch handles} entry in the {\cb PCell Control} panel from the
{\cb Edit Menu}.

% 022816
\index{PCellKeepSubMasters variable}
\item{\et PCellKeepSubMasters}\\
{\bf Value:} boolean.\\
When a parameterized cell (pcell) is instantiated, a sub-master cell
is created in memory which represents the instantiation for its given
parameter set.  By default, sub-master cells exist only in memory, and
are created as needed from the original pcell.

When this variable is set, sub-masters that have been created will be
included when writing output.  This will also be true when the {\cb
StripForExport} variable is set.  This applies when writing all
output, {\bf except} when using the {\cb Save} and {\cb Save As}
buttons in the {\cb File Menu}, and the equivalent text accelerators
and including the prompts when exiting the program.  It is also
ignored when using the {\vt Save} script function.

When opening a layout containing pcell instances and the corresponding
cell files are found, the cell files will be read instead of
evaluating the pcell.  This can be faster, and it also allows the
design to be opened if the original pcell is not available or can't be
processed.  However, the cells will behave like normal cells, not
pcells, in this case.

This variable tracks the state of the {\cb Include parameterized cell
sub-masters} check box in the {\cb Export Control} panel.

% 022513
\index{PCellListSubMasters variable}
\item{\et PCellListSubMasters}\\
{\bf Value:} boolean.\\
When a parameterized cell (pcell) is instantiated, a sub-master cell
is created in memory which represents the instantiation for its given
parameter set.  By default, sub-master cells exist only in memory, and
are created as needed from the original pcell.

When this variable is set, sub-masters that have been created will be
included in the list of modified cells contained in the {\cb Modified
Cells} pop-up, which is obtained from the {\cb Save} button in the
{\cb File Menu}.  The sub-masters can be saved as native cell files in
the current directory.

When opening a layout containing pcell instances and the corresponding
cell files are found, the cell files will be read instead of
evaluating the pcell.  This can be faster, and it also allows the
design to be opened if the original pcell is not available or can't be
processed.  However, the cells will behave like normal cells, not
pcells, in this case.

This variable tracks the state of the {\cb List sub-masters as
modified cells} check box in the {\cb PCell Control} panel.

% 021513
\index{PCellScriptPath variable}
\item{\et PCellScriptPath}\\
{\bf Value:} string.\\
This variable provides a search path (see \ref{searchpaths}) to use
when locating parameterized cell (pcell) scripts.  This applies when a
pcell {\et pc\_script} property uses the {\vt @READ} directive to
obtain the corresponding script, and the path provided by the
directive is not rooted.

Unlike the main search path variables described in \ref{pathvars},
this variable is unset by default.

% 022513
\index{PCellShowAllWarnings variable}
\item{\et PCellShowAllWarnings}\\
{\bf Value:} boolean.\\
During pcell script evaluation, certain warning messages are disabled,
including checking for coincident objects.  Some of the Ciranova
example pcells produce such warnings, and it is highly annoying that
the messages pop up after every evaluation.  The warnings may be of
interest to the pcell author, but are generally nothing but a nuisance
to the pcell user.  If this variable is set, then these warnings will
be displayed and not suppressed.

This variable tracks the state of the {\cb Show all evaluation
warnings} check box in the {\cb PCell Control} panel.
\end{description}


% -----------------------------------------------------------------------------
% !set:stdvia 031815
\section{Standard Vias}
\index{variables!strandard vias}

These variables apply to standard vias (see \ref{stdvia}).

\begin{description}
% 022816
\index{ViaKeepSubMasters variable}
\item{\et ViaKeepSubMasters}\\
{\bf Value:} boolean.\\
When a standard via is instantiated, a sub-master cell is created in
memory which represents the instantiation for its given parameter set. 
By default, sub-master cells exist only in memory, and are created as
needed by {\Xic}.

When this variable is set, sub-masters that have been created will be
included when writing output.  This will also be true when the {\cb
StripForExport} variable is set.  This applies when writing all
output, {\bf except} when using the {\cb Save} and {\cb Save As}
buttons in the {\cb File Menu}, and the equivalent text accelerators
and including the prompts when exiting the program.  It is also
ignored when using the {\vt Save} script function.

This variable tracks the state of the {\cb Include standard via cell
sub-masters} check box in the {\cb Export Control} panel.

% 031815
\index{ViaListSubMasters variable}
\item{\et ViaListSubMasters}\\
{\bf Value:} boolean.\\
When a standard via is instantiated, a sub-master cell is created in
memory which represents the instantiation for its given parameter set. 
By default, sub-master cells exist only in memory, and are created as
needed by {\Xic}.

When this variable is set, sub-masters that have been created will be
included in the list of modified cells contained in the {\cb Modified
Cells} pop-up, which is obtained from the {\cb Save} button in the
{\cb File Menu}.  The sub-masters can be saved as native cell files in
the current directory.
\end{description}


% -----------------------------------------------------------------------------
% !set:scripts 021515
\section{Scripts}
\index{variables!scripts}

The following {\cb !set} variables affect the script parser.

\begin{description}
% 021912
\index{LogIsLog10 variable}
\item{\et LogIsLog10}\\
{\bf Value:} boolean.\\
In {\Xic} releases prior to 3.2.23, the {\vt log} function returned
the base-10 logarithm.  This definition was changed in 3.2.23, and
the {\vt log10} function added, for consistency with programming
languages, {\WRspice}, and most other software.  This will require
users to update legacy scripts that use the {\vt log} function to
call {\vt log10} instead.

This variable provides a temporary fix.  When set, the {\vt log}
function will return the base-10 value.  However, it is strongly
recommended that legacy scripts be updated, and this variable not be
used permanently.
\end{description}

See also the {\et ScriptPath} variable in \ref{pathvars}.


% -----------------------------------------------------------------------------
% !set:selections 021515
\section{Selections}
\index{variables!selections}

The following {\cb !set} variables affect object/cell selections using
the pointing device.

\begin{description}
% 062715
\index{MarkInstanceOrigin variable}
\item{\et MarkInstanceOrigin}\\
{\bf Value:} boolean.\\
When set, selected physical instances will have the cell origin marked
with a cross.  This applies to the selection highlighting, as well as
to the ghost rendition which is attached to the mouse pointer during a
move or copy operation.

Showing the origin may seem trivial, but marking the origin requires a
bit of overhead since it requires running a transformation and keeping
track of an additional redisplay area since the origin may be outside
of the cell bounding box.  Thus, the default is to not show the mark.

This variable tracks the state of the {\cb Show origin of selected
physical instances} check box in the {\cb Selections} page of the {\cb
Window Attributes} panel from the {\cb Set Attributes} button in the
{\cb Attributes Menu}.

% 062715
\index{MarkObjectCentroid variable}
\item{\et MarkObjectCentroid}\\
{\bf Value:} boolean.\\
In mathematics, the centroid or geometric center of a two-dimensional
region is the arithmetic mean of all the points in the shape.  When
this check box is set, selected objects will mark the centroid with a
cross.  This applies to the selection highlighting, as well as to the
ghost rendition which is attached to the mouse pointer during a move
or copy operation.

This variable tracks the state of the {\cb Show centroids of selected
physical objects} check box in the {\cb Selections} page of the {\cb
Window Attributes} panel from the {\cb Set Attributes} button in the
{\cb Attributes Menu}.

% 061308
\index{SelectTime variable}
\item{\et SelectTime}\\
{\bf Value:} integer 100--1000.\\
When button 1 is used for object manipulation and editing, there is a
time delay which differentiates a ``click'' from a ``drag''.  This
delay, which defaults to 250 milliseconds, can be adjusted by setting
this variable.  If the user encounters difficulty establishing an area
select, for example, as opposed to a move/copy operation, then setting
a longer time delay may be advantageous.

% 061308
\index{NoAltSelection variable}
\item{\et NoAltSelection}\\
{\bf Value:} boolean.\\
When set, the legacy logic is used for mouse click selection
operations.

% 012411
\index{MaxBlinkingObjects variable}
\item{\et MaxBlinkingObjects}\\
{\bf Value:} integer 500--250000.\\
This can be set to an unsigned integer in the range 500--250000.  If
there are more than this number of objects selected, they won't blink
in true-color display modes.  If {\et NoPixmapStore} is set, this
threshold is divided by 8.  The default if not set is 25000 objects. 
If there are too many objects, the time to redraw for blinking becomes
excessive, this variable can be used to fine-tune this threshold to
the user's graphical system.
\end{description}


% -----------------------------------------------------------------------------
% !set:sidemenu 101016
\section{Side Menu Commands}
\index{variables!side menu commands}

The following {\cb !set} variables affect the functioning of
commands found in the side menu.

\begin{description}
% 100416
\index{MasterMenuLength variable}
\index{master menu length}
\item{\et MasterMenuLength}\\
{\bf Value:} integer 1--75.\\
This integer variable sets the length of the list of master cells
retained in the {\cb Cell Placement Control} panel.  The default is
25, which may not be fully visible for some screen resolutions.

This tracks the setting of the {\cb Maximum menu length} entry in the
{\cb Cell Placement Control} panel from the side menu.

% 102713
\index{DevMenuStyle variable}
\index{device menu}
\item{\et DevMenuStyle}\\
{\bf Value:} integer 0--2.\\
This variable tracks and sets the presentation style of the device
menu (described in \ref{devmenu}) which is used in electrical mode. 
There are three styles, selected by giving this property a value of 0,
1, or 2.  The default menu, style 0, contains a menu bar with entries
for categories, such as {\cb Sources} and {\cb Terminals}.  Style 1 is
similar, however the entries are alphabetic corresponding to the first
letter of the device name.  Style 2 provides buttons marked with the
device schematic symbol.  This style occupies the most screen space,
but may be more convenient for new users.

% 101016
\index{LabelDefHeight variable}
\item{\et LabelDefHeight}\\
{\bf Value:} real 0.01 -- 10.0.\\
This sets the minimum label height, in microns, for new text labels. 
The actual initial height may be larger, depending on the zoom factor
of the window, but it can not be smaller.  The default if this
variable is not set is 1.0 micron.

This variable was named {\et DefLabelHeight} in releases prior to
4.2.14.

This variable tracks the {\cb Default minimum label height} entry area
in the {\cb Labels} page of the {\cb Window Attributes} panel from the
{\cb Set Attributes} button in the {\cb Attributes Menu}.

% 101016
\index{LabelMaxLen variable}
\item{\et LabelMaxLen}\\
{\bf Value:} integer {\vt >=} 6.\\
This variable sets the maximum width, in default-sized character
cells, of a displayed label.  If the label exceeds this width, it is
not shown, and a small box at the text origin is shown instead.  The
default is 256, so this is unlikely to be triggered unless the user
resets the value.

The ``hidden'' status of a label can be toggled by clicking the text
or box with button 1 with the {\kb Shift} key held.  See
\ref{labelbut} for more information.

This variable was named {\et MaxLabelLen} in releases prior to
4.2.14.

This variable tracks the {\cb Maximum displayed label length} entry
area in the {\cb Labels} page of the {\cb Window Attributes} panel
from the {\cb Set Attributes} button in the {\cb Attributes Menu}.

% 101016
\index{LabelMaxLines variable}
\item{\et LabelMaxLines}\\
{\bf Value:} integer {\vt >=} 0.\\
Label text strings may have embedded newline characters which cause
them to be displayed on multiple lines.  This variable, when set to a
positive integer value, provides a limit on the number of lines that
are actually displayed, in labels that respect this limit.  Only the
first {\it N} lines would actually appear in the display, where {\it
N} is given in this property.  If {\it N} is zero, there is no limit.

Labels observe this limit only if an internal flag is set in the
label.  Presently, this is set internally for the labels associated
with {\et value} and {\et param} properties.  The user can apply the
limit to any label by setting the {\vt LIML} flag in the {\et
XprpXform} pseudo-property.

This variable was named {\et MaxLabelLines} in releases prior to
4.2.14.

This variable tracks the state of the {\cb Label optional displayed
line limit} numerical entry in the {\cb Labels} page of the {\cb
Window Attributes} panel from the {\cb Set Attributes} button in the
{\cb Attributes Menu}.

% 101016
\index{LabelHiddenMode variable}
\item{\et LabelHiddenMode}\\
{\bf Value:} integer 0--3.\\
By default, all labels participate in a protocol whereby clicking on
the label with the {\kb Shift} key held will ``hide'' the label,
displaying a small box instead.  {\kb Shift}-clicking on the box
will return to the display of the label text.  This variable limits
the labels which will participate in this protocol. 

\begin{quote}
\begin{tabular}{ll}\\
0 & All labels, the default, same as if not set.\\
1 & Only electrical-mode labels.\\
2 & Only electrical-mode bound property labels.\\
3 & No labels.\\
\end{tabular}
\end{quote}

This variable was named {\et HiddenLabelMode} in releases prior to
4.2.14.

This variable tracks the state of the {\cb Hidden label scope} option
menu in the {\cb Labels} page of the {\cb Window Attributes} panel
from the {\cb Set Attributes} button in the {\cb Attributes Menu}.

In the 3.2 branch of {\Xic} and earlier, the default was effectively
2.

% 061308
\index{LogoEndStyle variable}
\item{\et LogoEndStyle}\\
{\bf Value:} integer 0--2.\\
This sets the path end style used to render vector text in the {\cb
logo} command.  The variable should be set to 0 for flush ends, 1 for
rounded ends or 2 for extended ends.  If unset, extended ends are
used.  This variable tracks the setting in the {\cb Logo Font Setup}
panel in the {\cb logo} command.

% 061308
\index{LogoPathWidth variable}
\item{\et LogoPathWidth}\\
{\bf Value:} integer 1--5.\\
This sets the relative path width used for rendering with the vector
font in the {\cb logo} command.  The variable should be set to an
integer 1--5, where 1 represents the smallest width, and increasing
values makes the rendering appear increasingly bold.  This variable
tracks the setting in the {\cb Logo Font Setup} panel in the {\cb
logo} command.  If not set, a value of 3 is assumed.

% 061308
\index{LogoAltFont variable}
\item{\et LogoAltFont}\\
{\bf Value:} integer 0--1.\\
When set to 0 (zero), the {\cb logo} command will use an internal
bitmap font, and characters will be rendered as Manhattan polygons. 
When set to 1, the {\cb logo} command will use the system font named
in the {\et LogoPrettyFont} variable, or a default if this is not set. 
Characters are rendered as Manhattan polygons derived from the font
bitmaps.  When unset, or the value is not recognized, the {\cb logo}
command will use the vector font, for rendering using wires.  The
status of this variable tracks the check boxes in the {\cb Logo Font
Setup} panel of the {\cb logo} command.

% 061308
\index{LogoPrettyFont variable}
\item{\et LogoPrettyFont}\\
{\bf Value:} font name string.\\
This variable sets the name of the ``pretty'' font to be used for text
rendering in the {\cb logo} command.  It is set by the font selection
panel produced from the {\cb Select Pretty Font} button in the {\cb
Logo Font Setup} panel in the {\cb logo} command.

Under Unix/Linux, in GTK1 releases this variable can be set to the X
font description name of an X font.  In GTK2 releases, a Pango font
description string is expected.  Under Windows, the variable is set to
a string in the form ``{\it face\_name} {\it pixel\_height\/}'' or the
deprecated form ``({\it pixel\_height\/}){\it face\_name\/}''. 
Examples are ``{\vt Lucida Console 24}'' or ``{\vt (24)Lucida
Console}'', which is the default font.

% 052311
\index{LogoPixelSize variable}
\item{\et LogoPixelSize}\\
{\bf Value:} positive real number $<=$ 100.0.\\
When this variable is set to a value, it represents the size in
microns of a ``pixel'' used in the {\cb logo} command for new labels
and images.  With the variable defined, the ``pixel'' size is fixed,
and can not be changed with the arrow keys from the {\cb logo}
command.  This variable is set from and tracks the {\cb Define
``pixel'' size} check box and text entry area in the {\cb Logo Font
Setup} panel.

% 061308
\index{LogoToFile variable}
\index{logo button!use file}
\item{\et LogoToFile}\\
{\bf Value:} boolean.\\
If this variable is set, physical text created with the {\cb logo}
command will be placed in a cell, which is instantiated at the label
locations.  A native cell file containing the cell is written in the
current directory.  If unset, the physical text is placed directly in
the current cell.  The variable tracks the state of the check box in
the {\cb Logo Font Setup} panel.

% 061308
\index{NoConstrainRound variable}
\item{\et NoConstrainRound}\\
{\bf Value:} boolean.\\
When this boolean is set, there is no checking for minimum feature
size of round objects as these objects are being created (they will
still be tested when completed if interactive DRC is enabled).

% 021615
\index{RoundFlashSides variable}
\item{\et RoundFlashSides}\\
{\bf Value:} integer 8--256, default 32.\\
This variable sets the number of sides per 360 degrees to use in round
objects in physical mode, as created with the {\cb round}, {\cb donut}
and {\cb arc} side menu buttons, and corresponding script functions. 
It can be set from the {\cb sides} button in the physical side menu.

% 021615
\index{ElecRoundFlashSides variable}
\item{\et ElecRoundFlashSides}\\
{\bf Value:} integer 8--256, default 32.\\
This variable sets the number of sides per 360 degrees to use in round
objects in electrical mode, as created with the {\cb arc} button in
the menu produced by the {\cb shapes} button in the electrical side
menu.  It can be set from the {\cb sides} button in the same menu.

% 100916
\index{SpotSize variable}
\index{spot size}
\label{spotsize}
\item{\et SpotSize}\\
{\bf Value:} real 0--1.0.\\
When an e-beam mask is written, the layout is rendered using a certain
pixel size.  This implies a mask resolution, usually cited as the
``manufacturing grid'' or ``spot size''.  This size may range from 0.5
microns for the least expensive masks, down to a few nanometers for
the most expensive.

{\Xic} has two parameters which deal directly with mask resolution. 
The {\vt MfgGrid} set in the technology file will force the grid snap
points to be multiples of the value given.  The {\et SpotSize}
variable controls use of a numerical preconditioner for tiny round
objects.  The preconditioning should cause the pixel area to be
constant with respect to positioning and rotation.  This is valuable
to researchers fabricating circular Josephson junctions using
inexpensive mask sets (for example).

In ``rasterizing'' round objects to the e-beam grid, there can be
numerical problems.  Since the round object is rendered as a
collection of spot-pixels, the feature is not particularly round, but
most importantly the number of pixels used may not be well defined,
and therefor the figure area may not be as expected, or consistent.

The internal spot size is used when creating round (disk) objects and
donuts, but not arc objects or general polygons.  It applies to the
{\cb round} and {\cb donut} buttons in the side menu, and the
corresponding script functions, but does not apply to the {\cb arc}
button or general polygons.  The internal spot size is also used as
the default value for the {\cb !tospot} command.

If the {\et SpotSize} variable is given a non-negative value, this
value is used as the internal spot size.  The value is in microns, and
1.0 micron is the largest accepted value.  If this is zero, then no
preconditioning is applied.  If the {\et SpotSize} variable is unset,
the internal spot size will default to the {\vt MfgGrid} given in the
technology file.  Thus, when a manufacturing grid is given, the
default is to use preconditioning when creating round objects.  This
can be suppressed by setting {\et SpotSize} to zero.  Other than this,
there probably is no reason to set the {\et SpotSize} variable, since
it should match the {\vt MfgGrid}>, unless the user has special
requirements.

When the internal spot size has a positive value, objects created with
the {\cb round} and {\cb donut} buttons will be created so that all
vertices are placed at the center of a spot (i.e., in the center of a
manufacturing grid cell), and a minimum number of vertices will be
used.  The {\cb sides} number is ignored.  This applies only to
figures with minimum radius 50 spots or smaller; the regular algorithm
is used otherwise.  An object with this preconditioning applied should
translate exactly to the e-beam grid.  The figures are symmetric with
regard to rotations in multiples of 45 degrees.
\end{description}


% -----------------------------------------------------------------------------
% !set:spice 021515
\section{SPICE Interface}
\label{spicevars}
\index{variables!SPICE interface}

The following {\cb !set} variables affect the interface to the
{\WRspice} simulator, and SPICE output in general.

\begin{description}
% 061308
\index{SpiceListAll variable}
\item{\et SpiceListAll}\\
{\bf Value:} boolean.\\
When set, all devices and subcircuits in the schematic will be
included in SPICE output.  Otherwise, only devices and subcircuits
that are ``connected'' will be included, as explained in the {\cb
deck} and {\cb run} command descriptions.

% 061308
\index{SpiceAlias variable}
\index{spice key mapping}
\item{\et SpiceAlias}\\
{\bf Value:} string.\\
This variable is set to a string which will modify the printing of
device names in SPICE output.  The aliasing operates on the first
token of device lines.  The format of the value string is
\begin{quote}
{\it prefix1\/}={\it newprefix1\/} {\it prefix2\/}={\it newprefix2\/ ...}
\end{quote}
This will cause lines beginning with {\it prefix\/} to have {\it
prefix\/} replaced with {\it newprefix\/}.  If the ``={\it
newprefix\/}'' is omitted, that line will not be printed.  For
example, to map all devices that begin with `B' to `J', and to suppress
all `G' devices, the full command is
\begin{quote}
{\vt !set SpiceAlias B=J G}.
\end{quote}
Note that there can be no space around the `='.  After this command is
given, the indicated mappings will be performed as SPICE text is
produced.

% 012411
\index{SpiceHost variable}
\item{\et SpiceHost}\\
{\bf Value:} host name string.\\
This will set the name of the host which maintains a server for remote
{\WRspice} runs.  If set, this will override the value of the {\et
SPICE\_HOST} environment variable.  The host name specified in the
{\et SPICE\_HOST} environment variable and the {\et SpiceHost} {\cb
!set} variable can have a suffix ``{\vt :}{\it portnum}'', i.e., a
colon followed by a port number.  The port number is the port used by
the {\vt wrspiced} program on the specified server, which defaults to
6114, the IANA registered port for this service.  If the server uses a
non-standard port, and the {\vt wrspice/tcp} service has not been
registered (usually in the {\vt /etc/services} file) on this port, the
port number must be provided.

% 022111
\index{SpiceHostDisplay variable}
\item{\et SpiceHostDisplay}\\
{\bf Value:} X display string.\\
This variable can be set to the X display string to use on a remote
host for running {\WRspice} through a {\vt wrspiced} daemon, from
{\Xic} in electrical mode.  It is intended to facilitate use of {\vt
ssh} X forwarding to take care of setting up permission for the remote
host to draw on the local display.

The variable is set automatically from the {\cb !ssh} command, or can
be set by hand.

When using a remote host, this specifies the X display string to use,
which is needed for running graphics.  If not set, a display name will
be created as follows:  If the local {\et DISPLAY} variable is
something like ``{\vt :0.0}'', the remote display name will be ``{\it
localhostname\/}{\vt :0.0}''.  If the local {\et DISPLAY} variable is
already in the form ``{\it localhostname\/}{\vt :0.0}'', this is
passed verbatim.

One can use {\vt ssh} transport for the X connection on the remote
system as follows.  Use ``{\vt ssh -X}'' to open a shell on the remote
machine.  Type ``{\vt echo \$DISPLAY}'' into this window, it will
print something like ``{\vt localhost:10.0}''.  Use this value for
{\et SpiceHostDisplay}.  The {\cb !ssh} command will set the variable
automatically.  The shell must remain open while running {\WRspice},
exiting the shell will close the X connection.

This will work under Windows, if Cygwin is installed, along with the
OpenSSH package (for the {\vt ssh} command) and the Cygwin X server. 
One weirdness:  use ``{\vt ssh -Y}'' instead of ``{\vt ssh -X}''.  The
{\vt -Y} option, which applies to recent {\vt ssh} versions, is
similar to {\vt -X}, but overcomes stronger security checks included
in recent {\vt ssh} implementations.  This seems to be necessary when
using the Cygwin X server.

{\bf Background}

In legacy X-window systems, the display name would typically be in the
form {\it hostname\/}{\vt :0.0}, where the {\it hostname} could be
(and usually is) missing.  A remote system will draw to the local
display if the local hostname was used in the display name, and the
local X server permissions were set (with {\vt xauth}/{\vt xhost}) to
allow access.  Typically, the user would log in to a remote system
with {\vt telnet} or {\vt ssh}, set the {\et DISPLAY} variable,
perhaps give ``{\vt xhost +}'' on the local machine, then run X
programs.

This method has been largely superseded by use of ``X forwarding'' in
{\vt ssh}.  This is often automatic, or may require the `{\vt -X}' or
`{\vt -Y}'option in the {\vt ssh} command line.  In this case, after
using {\vt ssh} to log in to the remote machine, the {\et DISPLAY}
variable is automatically set to display on the local machine.  X
applications ``just work'', with no need to fool with the {\et
DISPLAY} variable, or permissions.

The present {\Xic} remote access code does not know about the {\vt
ssh} protocol, so we have to fake it in some cases.  In most cases the
older method will still work.

The {\vt ssh} protocol works by setting up a dummy display, with a
name something like ``{\vt localhost:10.0}'', which in actuality
connects back to the local display.  Depending on how many {\vt ssh}
connections are currently in force, the ``{\vt 10}'' could be ``{\vt
11}'', ``{\vt 12}'', etc.

In the present case, if we want to use {\vt ssh} for X transmission,
the display name must match an existing {\vt ssh} display name on the
remote system that maps back to the local display.

If there is an existing {\vt ssh} connection to the remote machine,
the associated {\et DISPLAY} can be used.  If there is no existing
{\vt ssh} connection, one can be established, and that used.  E.g.,
from the {\vt ssh} window, type ``{\vt echo \$DISPLAY}'' and use the
value printed.

The display name provided by the {\et SpiceHostDisplay} variable will
override the assumed display name created internally with the local
host name.

% 022619
\index{SpiceInclude variable}
\item{\et SpiceInclude}\\
{\bf Value:} file path string.\\
This can be set to a file path.  When a SPICE netlist is created with
this variable set, text will be added to the top of the SPICE deck. 
If the file exists and is readable, the text from the file is added to
the deck verbatim.  Othewise, ``{\vt .include} {\it path\/}'' is
added, the {\it path} being the file path from the variable.  This
applies when creating SPICE with the {\cb deck} button, or when
preparing input for the simulator when using the {\cb run} button.

% 061308
\index{SpiceProg variable}
\item{\et SpiceProg}\\
{\bf Value:} program path string.\\
This will set the full path name of the {\WRspice} executable.  This
is useful if there are multiple versions of {\WRspice} available, or
the binary has been renamed.  If given, the value supersedes the
values from environment variables or the {\cb !set} variables
described below.

% 110213
\index{SpiceExecDir variable}
\item{\et SpiceExecDir}\\
{\bf Value:} directory path string.\\
This will set the directory to search for the {\WRspice} executable. 
If given, the value overrides the\\ {\et SPICE\_EXEC\_DIR} environment
variable.  The default search location is ``{\vt /usr/local/xictools/bin}'',
or, if the {\et XT\_PREFIX} environment variable has been set, its
value will replace ``{\vt /usr/local}''.

% 061308
\index{SpiceExecName variable}
\item{\et SpiceExecName}\\
{\bf Value:} program name string.\\
This will set the name of the {\WRspice} binary.  If given, the value
overrides the {\et SPICE\_EXEC\_NAME} environment variable.  The
default name is ``{\vt wrspice}''.

% 021912
\index{SpiceSubcCatchar variable}
\item{\et SpiceSubcCatchar}\\
{\bf Value:} string, single printing character.\\
This sets the concatenation character used in {\WRspice} subcircuit
expansion.  It affects the internally-generated node and other names
within subcircuits.  Please refer to the WRspice-3.2.15 release notes
or documentation for a full description of the {\WRspice} {\et
subc\_catmode} and {\et subc\_catchar} variables and their effects.

% 021912
\index{SpiceSubcCatmode variable}
\item{\et SpiceSubcCatmode}\\
{\bf Value:} string, ``{\vt wrspice}'' or ``{\vt spice3}''.\\
This sets the algorithm used by {\WRspice} for subcircuit expansion. 
It affects the internally-generated node and other names within
subcircuits.  Please refer to the WRspice-3.2.15 release notes or
documentation for a full description of the {\WRspice} {\et
subc\_catmode} and {\et subc\_catchar} variables and their effects.
\end{description}

When running {\WRspice} from {\Xic}, there should not be
compatibility issues, as {\Xic} will automatically recognize the
capabilities of the connected {\WRspice} and compensate accordingly
-- as long as the hypertext facility is used to define node, branch,
and device names.  This is true when point-and-click is used to
generate names.  However, subcircuit reference names that for some
reason are entered by hand may need to be updated, or a {\vt
.options} line added as a spicetext label, or the {\et
SpiceSubcCatchar}, {\et SpiceSubcCatmode} variables may be set to
enforce backward compatibility.

% 061308
\begin{description}
\index{CheckSolitary variable}
\item{\et CheckSolitary}\\
{\bf Value:} boolean.\\
If set, warning messages will be issued when electrical netlists are
generated for nodes having only one connection.  This affects the {\cb
run} and {\cb deck} commands, and the {\cb Dump Elec Netlist} command
in the {\cb Extract Menu}.

% 061308
\index{NoSpiceTools variable}
\item{\et NoSpiceTools}\\
{\bf Value:} boolean.\\
When running {\WRspice} from {\Xic}, by default the {\WRspice} toolbar
is shown, if {\WRspice} is running on the local machine.  This gives
the user much greater flexibility and control over {\WRspice}.  If
this variable is set, {\it before} the connection to {\WRspice} is
established, the toolbar will not be visible.

In releases 3.0.8 and later, this variable will also control toolbar
visibility if the {\vt wrspiced} daemon is used.  However, this
requires {\vt wrspiced} distributed with wrspice-3.0.7 or later.  {\bf
If this variable is set with an earlier {\vt wrspiced} release, the
{\WRspice} connection will not work!}
\end{description}


% -----------------------------------------------------------------------------
% !set:hardcopy 021515
\section{File Menu --- Printing}
\index{variables!printing}

The following {\cb !set} variables affect the commands in the {\cb File
Menu}, mostly the {\cb Print} command.

\begin{description}
% 061308
\index{NoAskFileAction variable}
\item{\et NoAskFileAction}\\
{\bf Value:} boolean.\\
By default, in the {\cb File Selection} and {\cb Path Files Listing}
windows, a confirmation pop-up will appear before move/copy/link
operations on files or directories initiated by drag/drop.  If this
variable is set, this confirmation will not appear.  The confirmation
default is safer, but may be annoying to experienced users.

Note:  in releases prior to 3.0.0, there was no confirmation, as
if this variable were set.

% 061308
\index{DefaultPrintCommand variable}
\item{\et DefaultPrintCommand}\\
{\bf Value:} string.\\
Under Unix/Linux/OS X, this variable overrides the default operating
system command string to print a file.  In Windows, this will be the
printer name instead.

This should probably be set before the {\cb Print} panel is used for
the first time, as some drivers may copy the initial contents so that
changing this variable will have no effect.  It can be set in a
startup file.

If not set, the default print command is ``{\vt lpr}'' (or ``{\vt
default}'' in Windows).  See the man page for {\vt lpr} or {\vt lp}
for the print options which apply on your system, which can be placed
in the default string.  In the printer command string, the characters
``{\vt \%s}'' are replaced with the name of the temporary file to be
printed.  If these characters don't appear, the file name is tacked on
the end of the command string, separated by space.

% 061308
\index{NoDriverLabels variable}
\item{\et NoDriverLabels}\\
{\bf Value:} boolean.\\
The PostScript hard copy drivers use PostScript text for labels by
default, not the vector font used on-screen.  This can be overridden,
and the vector font used, by setting this variable.  Multi-line labels
are always drawn with the vector font, however.

% 061308
\index{RmTempFileMinutes variable}
\item{\et RmTempFileMinutes}\\
{\bf Value:} integer 0--4320.\\
When a layout or page is printed, a temporary file is produced and
saved in one of the system temporary directories.  By default, these
files are not removed.  The temporary directories are generally
cleared when the system is rebooted, or by some other system-level
means.

On some operating systems, the print command can include an option to
delete the temporary source file after the print job is complete.  The
{\et DefaultPrintCmd} variable can be set to include this option.

Otherwise, this variable can be set to delete the temporary file a
number of minutes after the print job is submitted.  On some systems,
the temporary file is copied into the print job queue, so that the
temporary file can be deleted almost immediately.  On other systems,
or for large files, a link into the queue is created instead, so that
the file must not be deleted until the job is complete.  There is no
universal way to determine if a print job has completed, so we need to
wait a reasonable length of time before deleting the file.

This variable can be set to the number of minutes to wait before
deleting the temporary file.  If set to 0, the file will not be
deleted by this system, as is the case if this variable is not set. 
The deletion will occur whether or not the application is still
running.

Currently, this feature is not available on Windows.  It uses the Unix
{\vt at} command (see the manual page for details).  The user must
have permission established for this to work.  A message is printed in
the console when a file is scheduled for deletion, or if an error
(such as lack of permission) occurs.
\end{description}


% -----------------------------------------------------------------------------
% !set:cell 021515
\section{Cell Menu Commands}
\index{variables!Cell Menu commands}

The following {\cb !set} variables affect commands found in the
{\cb Cell Menu}.

\begin{description}
% 042909
\index{ContextDarkPcnt variable}
\item{\et ContextDarkPcnt}\\
{\bf Value:} integer 1--100.\\
While the {\cb Push} command is active, and the surrounding context is
being shown, the context is drawn with reduced illumination intensity
so that objects in the current cell can be visually differentiated. 
The variable allows the context intensity to be adjusted, as a
percentage of the ``normal'' intensity.

If this variable is not set, a value of 65 (percent) will be used.
       
This variable tracks the state of the {\cb Push context display
illumination percent} entry field in the {\cb Window Attributes} panel
from the {\cb Set Attributes} button in the {\cb Attributes Menu}.
\end{description}


% -----------------------------------------------------------------------------
% !set:editgen 021515
\section{Editing General}
\index{variables!Editing General}

The following {\cb !set} variables affect general operations and
parameters that apply during editing.

\begin{description}
% 102913
\index{AskSaveNative variable}
\item{\et AskSaveNative}\\
{\bf Value:} boolean.\\
When set, the user will be prompted to save the current cell if the
cell is modified, and would be saved as a native symbol, and a new
current cell is about to be set.  This was standard behavior in
releases earlier than generation 4.  Although it is always a good idea
to save work periodically, the prompt can be annoying to experienced
users and is now disabled by default.  The user will be given the
chance to save modified cells when exiting {\Xic} in any case.

The {\cb Prompt to save modified native cells} check box in the {\cb
Editing Setup} panel from the {\cb Edit Menu} tracks the state (set or
unset) of this variable.

% 102913
\index{Constrain45 variable}
\item{\et Constrain45}\\
{\bf Value:} boolean.\\
When this boolean variable is set, wire and polygon vertices are
constrained to form angles of multiples of 45 degrees.  By default, a
``smart'' path generator is employed, which will construct a valid
path to the pointer location from the previous point during wire or
polygon construction.  This will often add two vertices:  a 45 degree
extension, followed by a Manhattan extension, in order to connect the
points.  If the {\kb Ctrl} key is held while the new point is defined,
the ``smart'' feature is disabled, and only one new vertex is added. 
If the {\kb Shift} key is held, then the 45 degree constraint is
removed entirely.

When set, rotation angles available in the {\cb spin} command, and
translation angles in the {\cb Stretch} command, and the vertex
editors for polygons and wires, are constrained to multiples of 45
degrees.  However, pressing the {\kb Shift} key will remove the
constraint in these commands while the key is held.  If the {\et
Constrain 45} variable is not set, holding {\kb Shift} will impose the
45 degree angle constraint.  Thus, the {\kb Shift} key inverts the
effective state of the {\et Constrain 45} variable in these commands.

The {\cb Constrain angles to 45 degree multiples} check box in the
{\cb Editing Setup} panel from the {\cb Edit Menu} tracks the state
(set or unset) of this variable.

% 022716
\index{NoMergeObjects variable}
\item{\et NoMergeObjects}\\
{\bf Value:} boolean.\\
This variable tracks the state of the {\cb Merge new boxes and polys
with existing boxes/polys} check box in the {\cb Editing Setup} panel
from in the {\cb Edit Menu} in a logically inverted sense.

By default, when a new box or polygon object is created in the
database from the commands in the side menu, the new object is merged
with existing boxes and polygons on the same layer, if any touch or
overlap, to form a (generally more complex) polygon in the database. 
New wires will link with existing similar wires in the database that
share an endpoint.

If this boolean variable is set, this merging will be disabled. 
Merging can also be disabled on a per-layer basis with the {\vt
NoMerge} technology file keyword, which prevents merging in all cases
on a layer.

The {\et NoMergePolys} variable can be set to prevent merging of
polygons, and will thus revert the merging behavior to that of
releases prior to 3.1.7.

When reading data from a layout file, a different box clipping/merging
capability is controlled by the {\cb Clip and merge overlapping boxes}
setting in the {\cb Setup} page or the {\cb Import Control} panel, and
the corresponding {\et MergeInput} variable.

% 102913
\index{NoMergePolys variable}
\item{\et NoMergePolys}\\
{\bf Value:} boolean.\\
When auto-merging new objects ({\et NoMergeObjects} is not set), only
boxes will be clipped and merged, polygons will be ignored, if this
variable is set.  This reverts to the behavior of releases prior to
3.1.7.

This variable tracks the state of the {\cb Clip and merge new boxes
only, not polys} check box in the {\cb Editing Setup} panel from the
{\cb Edit Menu}.

% 101515
\index{NoFixRot45 variable}
\item{\et NoFixRot45}\\
{\bf Value:} boolean.\\
There are two modes when rotating boxes/polys by non-Manhattan angles. 
The default and legacy method is to use an offset technique referenced
to the lower-left box coordinate, or the first vertex of polygons. 
This ensures that the same figure is generated at any location, and
seems to ensure that all angles are exactly multiples of 45 or 90,
after rotation, in boxes.  However, this has the problem that two
figures that abut before rotation might no longer abut after rotation. 
For example, use the {\cb !split} function to split a disk, then
rotate the collection by 45 degrees.  It is likely that some of the
figures no longer touch.  If merging is enabled, the disk will have
lines through it at these points, where the gaps prevented merging.

If {\et NoFixRot45} is set, the offset fix is not done.  This solves
the problem of gaps appearing between rotated objects, but has its own
problems.  Namely, rectangles aren't preserved, angles can differ from
45s.  Try rotating a small rectangle, say 3x5 internal units, by 45s
in this mode, and one can see it is a mess.  Larger rectangles are not
visually distorted, but there are 1-unit errors in the vertex
placements relative to preservation of 45s or 90s.  This is probably
not acceptable for most work.

Really, rotating by 45 degrees is something best avoided.
\end{description}


% -----------------------------------------------------------------------------
% !set:edit 100616
\section{Edit/Modify Menu Commands}
\index{variables!Edit Menu commands}

The following {\cb !set} variables affect commands found in the
{\cb Edit Menu} and the {\cb Modify Menu}.

\begin{description}
% 102913
\index{UndoListLength variable}
\item{\et UndoListLength}\\
{\bf Value:} integer {\vt >=} 0.\\
This variable sets the number of operations remembered in the {\cb
Undo} command.  If not set, 25 operations are saved.  If set to zero,
the length is unlimited.

This tracks the setting of the {\cb Maximum undo list length} entry
area in the {\cb Editing Setup} panel from the {\cb Edit Menu}.

% 100416
\index{MaxGhostDepth variable}
\item{\et MaxGhostDepth}\\
{\bf Value:} integer 0--8.\\
This variable sets the maximum expansion depth for instance expansion
in ghosting.  If not set, this is the same as the normal expansion
depth.  The actual expansion depth used in ghosting will not be larger
than the normal expansion depth, but can be smaller.  For example,
setting this to 0 (zero) will prevent expansion of ghosted subcells
entirely.

This tracks the setting of the {\cb Maximum subcell depth in ghosting}
menu in the {\cb Editing Setup} panel from the {\cb Edit Menu}.

% 100416
\index{MaxGhostObjects variable}
\item{\et MaxGhostObjects}\\
{\bf Value:} integer 50--50000.\\
This sets the maximum number of objects to render individually as
``ghosts'' attached to the mouse pointer during operations such as
move and copy.  This can be set to an unsigned integer in the range
50--50000.  If there are more than this number, some outlines won't be
shown, the smaller-area objects will be skipped.  If subcells are
being expanded, objects are rendered top-down, so that if the limit is
reached, objects deeper in the hierarchy will not be shown.

The default is 4000 if this variable is not set.  If, when moving a
large number of objects, the pointer motion is too sluggish, the user
can set this variable to compensate, or can limit the subcell
expansion depth by setting {\et MaxGhowtDepth} if expansion causes the
problem.

This tracks the setting of the {\cb Maximum number of ghost-drawn
objects} entry area in the {\cb Editing Setup} panel from the {\cb
Edit Menu}.

% 102913
\index{NoWireWidthMag variable}
\item{\et NoWireWidthMag}\\
{\bf Value:} boolean.\\
When set, the width of wires does not change when the wire undergoes
magnification, in a {\cb Move}, {\cb Copy}, or {\cb Flatten}
operation.

The {\cb No wire width change in magnification} check box in the {\cb
Editing Setup} panel from the {\cb Edit Menu} tracks the state (set or
unset) of this variable.

% 102913
\index{CrCellOverwrite variable}
\item{\et CrCellOverwrite}\\
{\bf Value:} boolean.\\
When set, The {\cb Create Cell} operation in the {\cb Edit Menu} and
the {\vt CreateCell} script function can overwrite cells already in
memory.  This can be dangerous and is prevented by default.

The {\cb Allow Create Cell to overwrite existing cell} check box in
the {\cb Editing Setup} panel from the {\cb Edit Menu} tracks the
state (set or unset) of this variable.

% 101212
\index{LayerChangeMode variable}
\item{\et LayerChangeMode}\\
{\bf Value:} tri-state.\\
This variable applies during all move and copy operations, and during
the {\cb spin} command in the physical side menu and similar.  In
these commands, when objects being moved or copied are ghost drawn as
attached to the mouse pointer, it is possible to change the current
layer.  The operation is then completed by clicking at the new
location in a drawing window.

This is a tri-state variable.  If not set, there will be no layer
change in these commands.  Thus by default any current layer change
made during the command is ignored by the command.  If set to the
string ``{\vt all}'' (case insensitive), then a layer change will
apply to all objects being moved or copied.  All new objects will be
placed on the new layer, regardless of the original layers of the
objects.  If set to anything else, including to nothing (i.e., as a
boolean) then only objects on the previous current layer will be
changed to the new layer.  Other objects will remain on their original
layer.

This variable tracks the state of the radio buttons in the {\cb Layer
Change Mode} pop-up, which appears when the {\cb Set Layer Chg Mode}
button in the {\cb Modify Menu} is pressed.

% 100616
\index{JoinMaxPolyVerts variable}
\item{\et JoinMaxPolyVerts}\\
{\bf Value:} integer 0 or  20--8000.\\
This variable applies to the {\cb Join} and {\cb Join All} buttons in
the {\cb Join or Split Objects} panel (from the {\cb Edit Menu}), the
{\cb !join} command, the join (merging) operation when new objects are
created, and the associated script functions and elsewhere where join
operations occur.

This sets an upper bound on the number of vertices in polygons created
by a join operation.  The default is 600 vertices.  If set to 0, no
limit is applied.  The variable tracks the {\cb Maximum vertices in
joined polygon} entry in the {\cb Join or Split Objects} panel.

There is no internal limit on the vertex count of a polygon in memory. 
Although setting {\et JoinMaxPolyVerts} to 0 allows arbitrarily large
polygons to be created, one should be reasonable.  Huge polygons can
be cumbersome and inefficient.  Oversize polygons and wires will be
broken up, if necessary, when a file is saved to disk.  For the
different formats, the limits are

\begin{tabular}{ll}
native & no limit\\
CIF & no limit\\
CGX & 8000 vertices\\
GDSII & depends on {\et GdsOutLevel}, max is 8000 vertices\\
OASIS & no limit\\
\end{tabular}

For CIF files, {\Xic} can read/write arbitrarily large polygons and
wires, but beware that other tools may have built-in limits.

% 100616
\index{JoinMaxPolyGroup variable}
\item{\et JoinMaxPolyGroup}\\
{\bf Value:} integer {\vt >=} 0.\\
This variable applies to the {\cb Join} and {\cb Join All} buttons in
the {\cb Join or Split Objects} panel (from the {\cb Edit Menu}), the
{\cb !join} command, the join (merging) operation when new objects are
created, and the associated script functions and elsewhere where join
operations occur.

When a collection of trapezoids is being combined into polygons during
a join operation, the collection is first divided into connected
groups, each of which will be converted to one or more polygons.  This
variable limits the number of trapezoids in the groups.  The default
value (when this variable is unset) is 0, meaning that there is no
limit.  Generally, applying a limit (for example, 300) provides faster
join operations, however this will leave as separate objects more
polygons that could have been joined.

This variable tracks the {\cb Maximum trapezoids per poly for join}
entry in the {\cb Join or Split Objects} panel.

% 100616
\index{JoinMaxPolyQueue variable}
\item{\et JoinMaxPolyQueue}\\
{\bf Value:} integer {\vt >=} 0.\\
This variable applies to the {\cb Join} and {\cb Join All} buttons in
the {\cb Join or Split Objects} panel (from the {\cb Edit Menu}), the
{\cb !join} command, the join (merging) operation when new objects are
created, and the associated script functions and elsewhere where join
operations occur.

When objects are being joined, they are first decomposed into
trapezoids.  The trapezoids from the objects are saved in a single
list, and when the list length exceeds a certain value the list is
sent to the function that recombines the trapezoids into polygons. 
This variable is used to set the length threshold.  The default value
(when this variable is unset) is 0, which allows the list to grow
without bound.  Generally, applying a limit (for example, 1000)
provides faster processing, but will produce more polygons.

This variable tracks the {\cb Trapezoid queue size for join} entry in
the {\cb Join or Split Objects} panel.

% 100616
\index{JoinBreakClean variable}
\item{\et JoinBreakClean}\\
{\bf Value:} boolean.\\
This variable applies to the {\cb Join} and {\cb Join All} buttons in
the {\cb Join or Split Objects} panel (from the {\cb Edit Menu}), the
{\cb !join} command, the join (merging) operation when new objects are
created, and the associated script functions and elsewhere where join
operations occur.

In a join operation, when building up the polygons and the vertex
limit ({\et JoinMaxPolyVerts}) is reached, ordinarily the present
polygon is output, and a new one is started immediately.  This
generally produces a set of polygons with complicated and seemingly
arbitrary borders.  If this variable is set, then the polygons are
initially built ignoring the vertex limit, and polygons that exceed
the vertex limit are split into pieces along Manhattan bisectors, so
that no piece exceeds the vertex count.  This gives a much nicer
looking layout, but is more compute intensive.

This variable tracks the {\cb Clean break in join operation limiting}
check box in the {\cb Join or Split Objects} panel.

% 100616
\index{JoinSplitWires variable}
\item{\et JoinSplitWires}\\
{\bf Value:} boolean.\\
This applies to join operations as listed for the variables above, but
not for the joining when new objects are created.  It also applies to
the split operation.

By default, wires do not participate in join/split operations, these
operate on boxes and polygons only.  Wires, however, will be joined
with other wires on the same layer it they share an endpoint and have
the same width.  If this variable is set, then wires will be treated
like polygons in join and split operations, but wires never
participate in the join operation when new objects are created. 

This variable tracks the {\cb Include wires (as polygons) in
join/split} check box in the {\cb Join or Split Objects} panel.

% 100616
\index{PartitionSize variable}
\item{\et PartitionSize}\\
{\bf Value:} floating-point number.\\
This variable applies to layer expression evaluation, including from
the {\cb Evaluate Layer Expression} panel (from the {\cb Edit Menu}),
the {\cb !layer} and {\cb !compare} commands, and the {\vt
AdvanceZref} script function.

In releases prior to 3.0.0, this variable was named ``{\et
LayerPartSize}''.

When geometrical operations are performed over a large area, a logical
square grid is created over the area relative to the lower-left
corner.  The operations are performed for each grid element that
intersects the area, and the results are combined.  This can be more
efficient than performing the operations over the entire area in one
shot.  Performance rapidly degrades as the amount of geometry per grid
area increases.  Best performance is probably obtained with 10000 or
fewer trapezoids per grid.
 
This variable specifies the size of the grid, in microns, set as a
floating-point number.  If not set, the default grid size is 100
microns.  Acceptable values are 1.0 -- 10000.0, or 0.  If set to
0, partitioning is not used.

The variable tracks the {\cb Partition size} set in the {\cb Evaluate
Layer Expression} panel.

% 100516
\index{Threads variable}
\item{\et Threads}\\
{\bf Value:} integer 0--31.\\
{\bf PRELIMINARY, EXPERIMENTAL!}

This will enable new multi-threaded functionality as it becomes
available.  This is set to the number of helper threads that can be
called upon to parallelize certain operations.  The best value is
probably one less than twice the number of available processor cores.  It
should not be set to a larger value, but one might wish to try smaller
values.  If unset, or set to 0, the program is single threaded.

This variable tracks the {\cb Number of helper threads} entry in the
{\cb Evaluate Layer Expression} panel from the {\cb Edit Menu}.

Presently, multi-threading is used when evaluating a layer expression
using a grid.  Evaluation in each of the grid cells can be done in
parallel, so these jobs are submitted to the thread pool.  One can
experiment with the partition size to get fastest results, larger
partitions are more likely to overcome the multi-threading overhead.
\end{description}


% -----------------------------------------------------------------------------
% !set:view 021515
\section{View Menu Commands}
\index{variables!View Menu commands}

The following {\cb !set} variables affect commands found in the
{\cb View Menu}.

\begin{description}
% 121508
\index{InfoInternal variable}
\item{\et InfoInternal}\\
{\bf Value:} boolean.\\
When set, the {\cb Info} command in the {\cb View Menu} and the {\cb
Info} command in the {\cb Cells Listing} panel will print dimensions
using internal database units (default is 1000 per micron) rather than
in microns.

% 061408
\index{PeekSleepMsec variable}
\item{\et PeekSleepMsec}\\
{\bf Value:} integer {\vt >=} 0.\\
This sets the delay time in milliseconds to wait after a layer is
drawn in the {\cb Peek} command.  The default is 400.

% 061408
\index{LockMode variable}
\item{\et LockMode}\\
{\bf Value:} boolean.\\
This variable, when set, locks the current mode (physical or
electrical).  In addition, while reading any type of file, only the
information for the present mode is read.  All features which apply to
the other mode are disabled, and no data are stored for the other
mode.  By not storing stubs for the electrical data, for example, more
memory space is available for a large physical-only file.

As files written from this mode have only one type of data, it is
possible to overwrite files that originally contained both types of
data.  The user should be aware of this possibility.

% 032213
\index{XSectNoAutoY variable}
\item{\et XSectNoAutoY}\\
{\bf Value:} boolean.\\
By default, the cross-section display is shown with a vertical scale
adjusted such that the entire layer stack occupies most of the window. 
This is maintained independent of the window magnification, which
consequently changes only the X-scale.  If this boolean variable is
set, the auto-scaling will not be done.

This variable is set by the {\cb Auto Y-Scale} check box that appears
in the {\cb Set Display Window} pop-up that is called by the {\cb
Zoom} button in the {\cb View} menu of the cross-section display
window.  The setting is done only when the user presses the {\cb
Apply} button.

% 032213
\index{XSectYScale variable}
\item{\et XSectYScale}\\
{\bf Value:} real 1e-3 -- 1e3.\\
This variable supplies a Y-scale to the cross-section display.  If the
auto-scaling is enabled, the scale factor determines how much of the
vertical window dimension is occupied by the layer stack.  Without
auto-scaling, this scale is applied directly to the vertical axis.

The horizontal grid lines and ruler gradations take into account the
scale.  The scaling allows easy visualization when the thickness is
much larger or much smaller than typical line widths.

This variable is set from the {\cb Y-Scale} numerical entry area that
appears in the {\cb Set Display Window} pop-up that is called by the
{\cb Zoom} button in the {\cb View} menu of the cross-section display
window.  The setting is done only when the user presses the {\cb
Apply} button, and the value has been set to something other than
unity.
\end{description}


% -----------------------------------------------------------------------------
% !set:attri 101016
\section{Attribute Menu Commands}
\index{variables!Attributes Menu commands}

The following {\cb !set} variables affect the commands found in the
{\cb Attributes Menu}.

\begin{description}
% 100616
\index{TechNoPrintPatMap variable}
\item{\et TechNoPrintPatMap}\\
{\bf Value:} boolean.\\
When set, {\Xic} will use the hex format when writing stipple patterns
for layers when writing a technology file.  If unset, an ASCII format,
that provides a rendition of the map, is used.  The hex format is
compatible with {\Xic} releases prior to 3.2.25, if the stipple map
sizes are restricted to 8x8, 16x8, 8x16, or 16x16.  Technology files
can be written using the {\cb Save Tech} button in the {\cb Attributes
Menu}.

% 100616
\index{TechPrintDefaults variable}
\item{\et TechPrintDefaults}\\
{\bf Value:} boolean or string.\\
When a technology file is written with the {\cb Save Tech} button, by
default entries that would set a parameter to a program default value
are omitted, as they are redundant and increase the size and
complexity of the file.  This will be the case when this variable is
not set.  If this variable is set to no value, i.e., as a boolean,
then these lines will be added to the technology file as comments.  If
this variable is set to any value, then these lines will be added as
active text.

This variable tracks the radio buttons in the {\cb Write Tech File}
pop-up which appears from the {\cb Save Tech} button in the {\cb
Attributes Menu}.

% 100616
\index{BoxLineStyle variable}
\item{\et BoxLineStyle}\\
{\bf Value:} integer, default e38 (hex).\\
This sets the line style mask of the boxes used in electrical mode,
and in physical mode for some highlighting purposes, such as the
current cell boundary.  The style is an integer whose binary value is
replicated to form the lines used in the box.  The line style editor
in the {\cb Grid Setup} panel can be used to generate line style
masks.

The {\cb Global Attributes} button in the {\cb Tech Parameter Editor}
provides a prompt-line interface for setting this variable.  This is
called from the {\cb Edit Tech Params} button in the {\cb Attributes
Menu}.

% 100616
\index{EraseBehindProps variable}
\item{\et EraseBehindProps}\\
{\bf Value:} boolean.\\
If given, the area inside the bounding box of text generated by the
{\cb Show Phys Properties} command in the {\cb Main Window} sub-menu
of the {\cb Attributes Menu} or the sub-window {\cb Attributes} menu
is erased, to promote visibility of the text.

This tracks the state of the {\cb Erase behind physical properties
text} check box in the {\cb Phys Props} page of the {\cb Window
Attributes} panel from the {\cb Set Attributes} button in the {\cb
Attributes Menu}.

% 100616
\index{PhysPropTextSize variable}
\item{\et PhysPropTextSize}\\
{\bf Value:} integer 6--48.\\
This variable can be used to set the height, in pixels, of the text
used to render physical properties on-screen when physical properties
are being displayed.  If not set, the default is 14.

This tracks the state of the {\cb Physical property text size
(pixels)} entry area in the {\cb Phys Props} page of the {\cb Window
Attributes} panel from the {\cb Set Attributes} button in the {\cb
Attributes Menu}.

% 100616
\index{EraseBehindTerms variable}
\item{\et EraseBehindTerms}\\
{\bf Value:} boolean or ``{\vt all}''.\\
If set, the area inside the bounding box of terminals made visible
by the {\cb Show Terminals} command is erased, to promote visibility
of the text.  If set to ``{\vt all}'', all terminals are erased
behind, otherwise only the cell's formal terminals are erased behind.

This tracks the setting of the {\cb Erase behind physical terminals}
menu in the {\cb Terminals} page of the {\cb Window Attributes} panel
from the {\cb Set Attributes} button in the {\cb Attributes Menu}.

% 100616
\index{TermTextSize variable}
\item{\et TermTextSize}\\
{\bf Value:} integer 6--48.\\
This variable can be used to set the height, in pixels, of the text
used in rendering terminals and cell labels in electrical mode.  If
not set, the default is 14.

This tracks the setting of the {\cb Terminal text pixel size} entry in
the {\cb Terminals} page of the {\cb Window Attributes} panel from the
{\cb Set Attributes} button in the {\cb Attributes Menu}.

% 103113
\index{TermMarkSize variable}
\item{\et TermMarkSize}\\
{\bf Value:} integer 6--48.\\
This variable can be used to reset the pixel size of the cross used as
a terminal mark.  If not set, the default is 10.

This tracks the setting of the {\cb Terminal mark size} entry in the
{\cb Terminals} page of the {\cb Window Attributes} panel from the
{\cb Set Attributes} button in the {\cb Attributes Menu}.

% 042411
\index{ShowDots variable}
\item{\et ShowDots}\\
{\bf Value:} boolean or ``{\vt a}''.\\
This variable controls the mode used to add connection indications
(dots) to drawings in electrical mode.  It tracks and sets the state
of the buttons in the {\cb Connection Points} panel available from the
{\cb Connection Dots} button in the {\cb Attributes Menu}.

If not set, no connection point indication is used.  If set as a
boolean, or to any value that does not begin with `{\vt a}' or `{\vt
A}', the normal indication is used, whereby only ``ambiguous''
connection points are marked.  These are wire vertices common to two
or more wires (except for common end vertices of two wires),
non-endpoint wire vertices common with device or subcircuit terminals,
and any point common to three or more terminals or wire vertices.

If set to a word starting with `{\vt a}' or `{\vt A}', all connections
are marked with a dot.

% 012715
\index{FullWinCursor variable}
\item{\et FullWinCursor}\\
{\bf Value:} boolean.\\
When this variable is set, the default cursor consists of horizontal
and vertical lines that extend completely across the drawing window. 
The lines intersect at the nearest snap point in the current window.

This variable tracks the state of the {\cb Use full-window cursor}
check box in the {\cb General} page of the {\cb Window Attributes}
panel.  The {\cb Set Attributes} button in the {\cb Attributes Menu}
produces this.

% 100616
\index{CellThreshold variable}
\item{\et CellThreshold}\\
{\bf Value:} integer 0--100.\\
This sets the size threshold in pixels for physical mode subcells to
be shown in the display.  If not set, the value is effectively 4. 
Subcells that are smaller than this size in the display are either
shown as a bounding box, or not shown at all, depending on the setting
of the {\cb Subthreshold Boxes} button in the {\cb Main Window}
sub-menu in the {\cb Attributes Menu} or the sub-window {\cb
Attributes} menu.  If set to 0, all detail is drawn, which can
significantly increase rendering time.  This applies to hard copy
output as well as to on-screen rendering.

This variable tracks the {\cb Subcell visibility threshold (pixels)}
entry area in the {\cb General} page of the {\cb Window Attributes}
panel from the {\cb Set Attributes} button in the {\cb Attributes
Menu}.

In electrical mode, the threshold is effectively fixed at one pixel.

% 100616
\index{GridNoCoarseOnly variable}
\item{\et GridNoCoarseOnly}\\
{\bf Value:} boolean.\\
When this boolean variable is set, as one zooms out, when the fine
grid becomes so fine that it is not shown, the coarse grid will also
not be shown.  Otherwise, the coarse grid (only) will be shown.  This
tracks the state of the check box in the {\cb All Windows} group in
the {\cb Style} page of the {\cb Grid Setup} panel of the main window. 
This can be brought up with the {\cb Set Grid} button in the {\cb Main
Window} sub-menu of the {\cb Attributes Menu}.  This applies in
physical mode only, in electrical mode the coarse grid is not shown
without the fine grid.

% 100616
\index{GridThreshold variable}
\item{\et GridThreshold}\\
{\bf Value:} integer 4--40, default 8.\\
This sets the number of pixels that is the minimum grid spacing, in
both physical and electrical modes.  If the grid were to have a
smaller displayed spacing, it will not be shown.  Accepted values are
in the range 4 -- 40, and the value is taken as 8 if this variable is
not set.  This tracks the value of the numerical entry area in the
{\cb All Windows} group in the {\cb Style} page of the {\cb Grid
Setup} panel for the main window.  This can be brought up with the
{\cb Set Grid} button in the {\cb Main Window} sub-menu of the {\cb
Attributes Menu}.
\end{description}


% -----------------------------------------------------------------------------
% !set:cvgen 020918
\section{Convert Menu --- General}

Below are general variables relating to data input/output and format
translation.

\begin{description}
% 111908
\index{ChdFailOnUnresolved variable}
\item{\et ChdFailOnUnresolved}\\
{\bf Value:} boolean.\\
If this variable is set, when doing an operation with a Cell Hierarchy
Digest (CHD) that was created from a file containing unresolved
references (cells that were referenced but not defined in the file),
and the cells can't be referenced through libraries, the operation
will fail.  If not set, processing will continue, with the
non-references either being ignored (e.g., when flattening), or
converted to empty cells (when reading into the database), or
propagated to output (when writing output), depending on the
operation.

% 120110
\index{ChdCmpThreshold variable}
\item{\et ChdCmpThreshold}\\
{\bf Value:} integer {\vt >=} 0.\\
When using a Cell Hierarchy Digest (CHD), by default instance lists
larger than 256 bytes are stored in compressed form in memory.  This
reduces memory use, but there is a small speed penalty.

This variable sets the size threshold for compression.  If set to a
value less than 100, no compression is done.  Otherwise, instance
lists larger than the set size (in bytes) will be compressed. 
Experimentation suggests that the largest blocks dominate the
decompression overhead, so that the value of this variable has little
effect, except when turning off compression entirely.

% 061408
\index{MultiMapOk variable}
\item{\et MultiMapOk}\\
{\bf Value:} boolean.\\
When set, multiple input/output GDSII layer/datatype mapping to {\Xic}
layers is enabled (as was always the case in {\Xic} releases prior to
2.5.67-5).  This allows objects in GDSII/OASIS files to be created on
more than one {\Xic} layer, and objects on {\Xic} layers to be
instantiated more than once in GDSII/OASIS output files (each with a
different layer/datatype).  When not set, each object is created or
written once only, using the first mapping in the internal list that
applies (first matching layer or {\et StreamOut} keyword found).

% 102208
\index{NoPopUpLog variable}
\item{\et NoPopUpLog}\\
{\bf Value:} boolean.\\
When set, the {\cb File Browser} loaded with the log file which
appears if there were errors or warnings when reading an input file or
writing output will {\it not} appear.  This applies to the {\cb Open}
command and equivalent, and the file input/output operations in the
{\cb Convert Menu}.  It is not recommended to set this in general, but
the browser popping up does become annoying at times, so this variable
can be set when the user knows what to expect in the file.

% 061408
\index{UnknownGdsLayerBase variable}
\item{\et UnknownGdsLayerBase}\\
{\bf Value:} integer 0--65535.\\
When translating to GDSII or OASIS from a file format that does not
have layer/datatype numbers, and no mapping can be resolved, new
layer/datatype combinations are created.  The new layer numbers are
generated sequentially, starting with the value of {\et
UnknownGdsLayerBase}, or 128 if this variable is not set.  Each is
given the datatype {\et UnknownGdsDatatype}.

% 061408
\index{UnknownGdsDatatype variable}
\item{\et UnknownGdsDatatype}\\
{\bf Value:} integer 0--65535.\\
This is the datatype assigned to new layers generated using the
{\et UnknownGdsLayerBase}.  if not set, a datatype 128 is used.

% 081908
\index{NoStrictCellnames variable}
\item{\et NoStrictCellnames}\\
{\bf Value:} boolean.\\
If the boolean variable {\et NoStrictCellnames} is set, there will be
no checking of cell names for white space, and the legacy behavior (in
releases prior to 3.0.5) of accepting white space in cell names will
be enabled.  Otherwise, white space is not allowed in cell names, and
if such cells are found in an archive being read, aliasing will be
employed to map white space characters to underscores.

% 020918
\index{NoFlattenStdVias variable}
\item{\et NoFlattenStdVias}\\
{\bf Value:} boolean.\\
When set, and when flattening a physical cell hierarchy, standard via
instances will be retained as such rather than being converted to
geometry.  This variable tracks the state of the {\cb Don't flatten
standard vias, move to top} check box in the {\cb Flatten Hierarchy}
panel, and the {\cb Don't flatten standard vias, keep as instances at
top level} check boxes in the {\cb Setup} pages of the {\cb Import
Control} panel, {\cb Export Control} panel, and the {\cb Format
Conversion} panel.

Presently, when the input data source is an archive file, this
variable applies only when sub-masters are {\bf not} contained in the
source file, and are therefor created in {\Xic}.

% 020918
\index{NoFlattenPCells variable}
\item{\et NoFlattenPCells}\\
{\bf Value:} boolean.\\
When set, and when flattening a physical cell hierarchy, parameterized
cell (pcell) instances will be retained as such rather than being
converted to geometry.  This variable tracks the state of the {\cb
Don't flatten param.  cells, move to top} check box in the {\cb
Flatten Hierarchy} panel, and the {\cb Don't flatten pcells, keep as
instances at top level} check boxes in the {\cb Setup} pages of the
{\cb Import Control} panel, {\cb Export Control} panel, and the {\cb
Format Conversion} panel.

Presently, when the input data source is an archive file, this
variable applies only when sub-masters are <b>not</b> contained in the
source file, and are therefor created in {\Xic}.

% 020918
\index{NoFlattenLabels variable}
\item{\et NoFlattenLabels}\\
{\bf Value:} boolean.\\
When set, and when flattening a cell hierarchy (physical or
electrical), labels found in subcells are ignored (not copied into the
current cell).  Labels found in the current cell are retained.  This
is intended to avoid creating conflicting net labels of wire nets from
(subnet) labels in subcells.  This variable tracks the state of the
{\cb Ignore labels in subcells} check box in the {\cb Flatten
Hierarchy} panel, and the {\cb Ignore labels in subcells} check boxes
in the {\cb Setup} pages of the {\cb Import Control} panel, {\cb
Export Control} panel, and the {\cb Format Conversion} panel.

% 022716
\index{NoReadLabels variable}
\item{\et NoReadLabels}\\
{\bf Value:} boolean.\\
When this variable is set, text label elements will not be read from
archive files in physical mode.  This may improve efficiency if the
user is concerned with physical layout data only.  This variable
tracks the setting of the {\cb Skip reading text labels from physical
archives} check box in the {\cb Setup} page of the {\cb Import
Control} panel from the {\cb Convert Menu}.

% 061408
\index{KeepBadArchive variable}
\item{\et KeepBadArchive}\\
{\bf Value:} boolean.\\
When generating an archive file and an error occurs, the archive file
will normally be deleted.  However, if this variable is set, the
output file will be given a ``{\vt .BAD}'' extension and retained. 
This file should be considered corrupt, but may be useful for
diagnostics.
\end{description}


% -----------------------------------------------------------------------------
% !set:cvimport 020918
\section{Convert Menu --- Input and ASCII Output}

The {\cb !set} variables below affect the format conversion when
importing data from a file.  Many of these variables have counterpart
controls in the {\cb Import Control} panel from the {\cb Convert
Menu}.  The functionality also applies in many cases when input is
being read in the {\cb Open} command and similar.

The following table identifies where the variables in this section are
set, if settable from the graphical interface, and specifies the scope
of the variables.

\begin{tabular}{|l|l|l|} \hline
\bf Variable          & \bf Set From              & \bf Notes\\ \hline
\et ChdLoadTopOnly    & \cb Import Control        & 5\\ \hline
\et ChdRandomGzip     &                           & 6\\ \hline
\et AutoRename        & \cb Import Control        & 1\\ \hline
\et NoCreateLayer     & \cb Import Control        & 1\\ \hline
\et NoAskOverwrite    & \cb Import Control        & 1\\ \hline
\et NoOverwritePhys   & \cb Import Control        & 1\\ \hline
\et NoOverwriteElec   & \cb Import Control        & 1\\ \hline
\et MergeInput        & \cb Import Control        & 1\\ \hline
\et NoPolyCheck       & \cb Import Control        & 1\\ \hline
\et DupCheckMode      & \cb Import Control        & 1\\ \hline
\et EvalOaPCells      & \cb Import Control        & 1\\ \hline
\et NoEvalNativePCells & \cb Import Control       & 1\\ \hline
\et NoCheckEmpties    & \cb Import Control        & 1\\ \hline
\et NoReadLabels      & \cb Import Control        & 1\\ \hline
\et LayerList         & layer change module       & 2\\ \hline
\et UseLayerList      & layer change module       & 2\\ \hline
\et LayerAlias        & layer change module       & 2\\ \hline
\et UseLayerAlias     & layer change module       & 2\\ \hline
\et InToLower         & cell name mapping module  & 3\\ \hline
\et InToUpper         & cell name mapping module  & 3\\ \hline
\et InUseAlias        & cell name mapping module  & 3\\ \hline
\et InCellNamePrefix  & cell name mapping module  & 3\\ \hline
\et InCellNameSuffix  & cell name mapping module  & 3\\ \hline
\et NoMapDatatypes    & \cb Import Control        & 1\\ \hline
\et CifLayerMode      & \cb Import Control        & 1\\ \hline
\et OasReadNoChecksum &                           & 1\\ \hline
\et OasPrintNoWrap    & {\cb Format Conversion}, {\cb ASCII Text} page & 4\\
  \hline
\et OasPrintOffset    & {\cb Format Conversion}, {\cb ASCII Text} page & 4\\
  \hline
\end{tabular}

Notes:
\begin{enumerate}
\item{These variables apply whenever a layout file is being read, in
any mode.}

\item{These variables apply to actions initiated from any panel
containing the layer filtering/aliasing module, and to the
following script functions:
\begin{quote}
{\vt OpenCell}\\
{\vt FromArchive}\\
{\vt OpenCellHierDigest}\\
{\vt ChdEdit}\\
{\vt ChdOpenFlat}\\
{\vt ChdWrite}\\
{\vt ChdWriteSplit}\\
{\vt ChdLoadGeometry}
\end{quote}}

\item{These variables apply to actions initiated from any panel
containing the {\cb Cell Name Mapping} control group, and to the
following script functions:
\begin{quote}
{\vt OpenCell}\\
{\vt FromArchive}\\
{\vt OpenCellHierDigest}
\end{quote}}

\item{These variables apply only when writing ASCII text from OASIS
input.}

\item{These variables apply when reading cells into main memory from
a Cell Hierarchy Digest.}

\item{These variables apply when reading gzipped GDSII or CGX files
through a Cell Hierarchy Digest.}
\end{enumerate}

\begin{description}
% 022716
\index{ChdLoadTopOnly variable}
\item{\et ChdLoadTopOnly}\\
{\bf Value:} boolean.\\
When set, when reading cells into the main database from a Cell
Hierarchy Digest (CHD), only the requested cell is actually read.  Any
subcells of the cell become reference cells in the main database. 
This allows editing of the requested cell, and when written to disk
the complete hierarchy will appear, however loading the whole
hierarchy into memory is avoided.

This variable tracks the state of the {\cb Load top cell only} check
box in the {\cb Cell Hierarchy Digests} panel.

% 072710
\index{ChdRandomGzip variable}
\item{\et ChdRandomGzip}\\
{\bf Value:} boolean or 0--255.\\
This variable enables use of a random-access mapping capability for
Cell Hierarchy Digest (CHD) accesses to gzipped GDSII and CGX files. 
This will speed up CHD operations that must seek randomly in the input
file.

CHDs created while this variable is set will include the mapping
structure if the input file is gzipped.  The mapping structure
provides access points to data within the file, spaced by default by
about 1Mb of uncompressed data.  The map requires about 32Kb per
access point.  When seeking in the file, one can jump to the closest
earlier access point, and read to the desired offset.  Without the
mapping, one can only read forward from the current location to the
desired location, or rewind to the beginning and read to the desired
location.

The integer is the number of Mb between access points.  If 0, it is as
if the variable is not set.  Setting as a boolean, i.e., to no value,
is equivalent to setting to 1.

This feature is not available in the Linux2, LinuxRHEL3, and
LinuxRHEL3\_64 distributions, where the operating system does not
provide a compatible {\vt zlib}.

% 022716
\index{AutoRename variable}
\item{\et AutoRename}\\
{\bf Value:} boolean.\\
When set, when reading archive files and a cell is encountered with
the same name as a cell already in memory, the new cell name is
automatically changed to avoid a clash.  Thus, the {\cb Merge Control}
pop-up never appears when this variable is set.  The new name has an
added suffix ``{\vt \$}{\it N}'' where {\it N} is an integer.  When
this is set, the alias file (if enabled) is never updated.  A warning
is added to the log file when a cell name is changed.  This is part of
a more general cell name mapping capability (see \ref{cellname}). 
This variable is set when the {\cb Auto Rename} entry is selected in
the {\cb Default when new cells conflict} menu in the {\cb Setup} page
of the {\cb Import Control} panel from the {\cb Convert Menu}.

% 022716
\index{NoCreateLayer variable}
\item{\et NoCreateLayer}\\
{\bf Value:} boolean.\\
When set, when reading an input layout file and a layer is found that
can't be mapped to the existing {\Xic} layers, the read will be
aborted.  The behavior otherwise is to create new layers as needed.
 
This variable tracks the state of the {\cb Don't create new layers
when reading, abort instead} check box in the {\cb Setup} page of the
{\cb Import Control} panel from the {\cb Convert menu}.

% 022716
\index{NoMapDatatypes variable}
\item{\et NoMapDatatypes}\\
{\bf Value:} boolean.\\
This variable affects only the creation of new layers when a GDSII or
OASIS file is read.  The default behavior is to create a separate new
{\Xic} layer for each GDSII layer/datatype encountered that is not
mapped in the technology file.  With the variable set, all datatypes
on the new GDSII layer are mapped to the same (new) {\Xic} layer. 
This variable tracks the state of the {\cb Map all unmapped GDSII
datatypes to same Xic layer} check box in the {\cb Setup} page of the
{\cb Import Control} panel from the {\cb Convert Menu}.

% 022716
\index{NoAskOverwrite variable}
\item{\et NoAskOverwrite}\\
{\bf Value:} boolean.\\
If a disk file is opened which contains a cell with the same name as
one already in memory, and {\et AutoRename} is not set, the default
behavior is to produce a {\cb Merge Control} pop-up which gives the
user control over how to proceed.  If this variable is set, then the
pop-up will not appear, and the default action will be taken.  The
default action can be specified with the {\et NoOverwritePhys} and
{\et NoOverwriteElec} variables.  This variable tracks the state of
the {\cb Don't prompt for overwrite instructions} check box in the
{\cb Setup} page of the {\cb Import Control} panel from the {\cb
Convert menu}.

\index{NoOverwritePhys variable}
\index{NoOverwriteElec variable}
\item\parbox[b]{4in}{
{\et NoOverwritePhys}\\
{\et NoOverwriteElec}}\\
{\bf Value:} boolean.\\
These control the default behavior when a cell from a file being read
conflicts with the name of a cell already in memory.  The default
behavior is for the cell from the file to overwrite the cell in
memory.  If {\et NoOverwritePhys} is set, the physical part of the
cell in memory will not be overwritten, and the physical part of the
cell in the file will be ignored.  Similarly, if {\et NoOverwriteElec}
is set, the electrical part of the cell in memory will be preserved,
and the electrical part of the cell from the file will be ignored. 
This variable is set according to the choice in the {\cb Default when
new cells conflict} menu in the {\cb Setup} page of the {\cb Import
Control} panel from the {\cb Convert Menu}.

% 111908
\index{NoOverwriteLibCells variable}
\item{\et NoOverwriteLibCells}\\
{\bf Value:} boolean.\\
By default, existing cells in memory can be overwritten if a cell of
the same name is read when opening cells from an archive file, if the
overwriting mode is enabled.  Setting this variable will prevent
existing cells that were opened through the library mechanism (and
thus has the LIBRARY flag set) from being overwritten.

The {\cb No Overwrite Lib Cells} button in the {\cb Libraries Listing}
pop-up tracks the state of this variable.

% 022716
\index{NoCheckEmpties variable}
\item{\et NoCheckEmpties}\\
{\bf Value:} boolean.\\
When set, there is no checking for empty cells as an input file is
being read, and the pop-up that normally appears when a file is opened
for editing if there are empty cells in the hierarchy is suppressed. 
An ``empty cell'' as listed is a cell that is either absent or has no
content in both electrical and physical modes.  It is possible to
check for empty cells at any time with the {\cb !empties} command. 
This variable tracks the setting of the {\cb Skip testing for empty
cells} check box in the {\cb Setup} page of the {\cb Import Control}
panel from the {\cb Convert Menu}.

% 022716
\index{NoPolyCheck variable}
\item{\et NoPolyCheck}\\
{\bf Value:} boolean.\\
When this boolean variable is set, the tests for problematic
conditions such as self-overlap, normally applied to polygons, is
skipped.  The default behavior is to check each polygon for
potentially troublesome geometry specification while the polygon is
being created.  If a layout is known to have only ``good'' polygons,
then turning off this test may slightly reduce reading time.

This variable tracks the setting of the {\cb Skip testing for badly
formed polygons} check box in the {\cb Setup} page of the {\cb Import
Control} panel from the {\cb Convert Menu}.

% 022716
\index{DupCheckMode variable}
\item{\et DupCheckMode}\\
{\bf Value:} boolean or string.\\
When reading layout data and identical objects or subcells are found
at the same location, the default action is to issue a warning message
and read the duplicates into the database.  This variable can be set
to alter the default behavior.  If set to a word starting with `{\vt
r}' (case insensitive), the duplicate objects or subcells will not be
brought into the database.  As duplicates are almost always layout
errors, it makes sense to filter them, though they generally cause no
harm.  If this variable is set to a word starting with `{\vt w}', only
a warning will be issued, exactly as if the variable were not set.  If
set to anything else, including an empty string (i.e., set as a
boolean), testing for duplicates is disabled.  This may very slightly
reduce the time to read in a file.

This variable tracks the setting of the {\cb Duplicate item handling}
menu in the {\cb Setup} page of the {\cb Import Control} panel from
the {\cb Convert Menu}.

%\ifoa
% 030416
\index{EvalOaPCells variable}
\item{\et EvalOaPCells}\\
{\bf Value:} boolean.\\
When a non-native pcell placement is encountered when reading file
input, the default behavior is to not attempt to evaluate the pcell,
and assume that the sub-master has been exported.  Generally,
evaluation of a Skill-based pcell will fail, unless Virtuoso is
accessible and the pcell caching has been turned on and is up to date.
 
If this variable is set, {\Xic} will attempt to evaluate foreign pcell
placements, which is necessary if the sub-masters have not been
supplied by another means.  The OpenAccess library that supplies the
super-master must be open.
 
If sub-masters are available, it is faster to use them rather than
to evaluate the scripts and recreate the sub-master.
 
This variable tracks the status of the {\cb PCell evaluation:  Eval
OpenAccess} check box in the {\cb Setup} page of the {\cb Import
Control} panel from the {\cb Convert Menu}.
%\fi

% 030416
\index{NoEvalNativePCells variable}
\item{\et NoEvalNativePCells}\\
{\bf Value:} boolean.\\
When a native pcell placement is encountered when reading file input,
the default behavior is to attempt to locate the super-master and
evaluate the script, generating the sub-master.  It is assumed
therefor that the super-master is available.  If the sub-masters have
been included in the archive or otherwise made available, then this
variable should be set.  Otherwise, the super-masters must be
available.

This variable tracks the status of the {\cb PCell evaluation:  Don't
eval native} check box in the {\cb Setup} page of the {\cb Import
Control} panel from the {\cb Convert Menu}.

% 022716
\index{MergeInput variable}
\item{\et MergeInput}\\
{\bf Value:} boolean.\\
When this variable is set, and a layout file is being read into the
database, boxes on the same layer are merged together, if possible, as
files are being read in.  Overlapping boxes are clipped and/or merged,
so that in the database no boxes will overlap.
 
Merging will not occur on a layer with the {\vt NoMerge} technology
file keyword applied.
 
This variable tracks the setting of the {\cb Clip and merge
overlapping boxes} check box in the {\cb Setup} page of the {\cb
Import Control} panel from the {\cb Convert Menu}.

% 022916
\index{LayerList variable}
\item{\et LayerList}\\
{\bf Value:} string.\\
This can be set to a space-separated list of layer names (see
\ref{layername}).  These layers can be used for filtering when an
archive file is being read or translated.  Each name should be in a
format which will match a layer in the file type being processed, with
wildcarding allowed.  This variable is part of the layer mapping and
filtering capability, as used in the {\cb Import Control} and {\cb
Format Conversion} panels, and tracks the entry area.  Actual
utilization of the layer list is controlled by the {\et UseLayerList}
variable.

% 022916
\index{UseLayerList variable}
\item{\et UseLayerList}\\
{\bf Value:} boolean or string.\\
This variable determines how and if the {\et LayerList} string is used
when input is being read from an archive file.  This variable is part
of the layer mapping and filtering capability, as used in the {\cb
Import Control} and {\cb Format Conversion} panels, and tracks the
check boxes.

If {\et UseLayerList} in not set, the {\et LayerList} is ignored, and
any layer found in the input file will be read or converted.  If {\et
UseLayerList} is set to a word starting with `{\vt n}' or `{\vt N}',
layers that are listed in the {\et LayerList} will {\it not} be
converted.  If {\et UseLayerList} is set to a anything else (including
no value) {\it only} the layers listed in the {\et LayerList} will be
converted.

% 022916
\index{LayerAlias variable}
\item{\et LayerAlias}\\
{\bf Value:} string.\\
This variable can be set to a string consisting of space-separated
{\it name\/}={\it value} pairs, where {\it name} is an existing layer
name and {\it value} is a layer name to which {\it name} will be
mapped during conversions, if {\et UseLayerAlias} is set.

This variable can be set from the {\cb Layer Aliases} editor, which is
available from pop-ups that control operations where layer filtering
and modification is available, as in the {\cb Import Control} and {\cb
Format Conversion} panels.  The variable can also be set using script
functions.

% 022916
\index{UseLayerAlias variable}
\item{\et UseLayerAlias}\\
{\bf Value:} boolean.\\
When this variable is set, when reading an archive or native file and
layer aliasing is available, layers encountered are aliased according
to entries in the {\et LayerAlias} variable.

Aliasing occurs on reading only, after the {\et LayerList} is
processed, if this feature is used.  Thus, a {\et LayerList} used for
reading should contain the unaliased layer names.  Layer aliasing
applies to physical data only, under conditions equivalent to those
listed for {\et UseLayerList}.  This variable is part of the layer
mapping and filtering capability, and tracks the {\cb Use Layer
Aliases} check box, as in the {\cb Import Control} and {\cb
Format Conversion} panels.

% 022816
\index{InToLower variable}
\item{\et InToLower}\\
{\bf Value:} boolean.\\
When set, cell names found in archive files being read that are
entirely upper case will be mapped to lower case.  A name that is
mixed-case will not be changed.  This mapping occurs for names which
are not aliased in an enabled alias file.  This is part of a more
general cell name mapping facility (see \ref{cellname}), available in
the {\cb Import Control} panel and elsewhere.

% 022816
\index{InToUpper variable}
\item{\et InToUpper}\\
{\bf Value:} boolean.\\
When set, cell names found in archive files being read that are
entirely lower case will be mapped to upper case.  A name that is
mixed-case will not be changed.  This mapping occurs for names which
are not aliased in an enabled alias file.  This is part of a more
general cell name mapping facility (see \ref{cellname}), available in
the {\cb Import Control} panel and elsewhere.

% 022816
\index{InUseAlias variable}
\item{\et InUseAlias}\\
{\bf Value:} boolean or string.\\
This variable enables utilization of the alias file (see
\ref{aliasfile}) when reading from an archive file.  If simply set as
a boolean, i.e., to no value, the alias file will be read before the
operation, and created or updated if necessary after the operation. 
If the variable is set to a word starting with `{\vt r}' (case
insensitive), then the alias file will be read before the operation
and used during the operation (if it exists), but will not be created
or updated after the operation.  If the variable is set to a word
starting with `{\vt w}' or `{\vt s}' (case insensitive), the alias
file will not be read before an operation, but will be created or
updated after the operation completes.  This is part of a more general
cell name mapping facility (see \ref{cellname}), available in the {\cb
Import Control} panel and elsewhere.

% 022816
\index{InCellNamePrefix variable}
\index{InCellNameSuffix variable}
\item{{\et InCellNamePrefix}, {\et InCellNameSuffix}}\\
{\bf Value:} string.\\
These variables are most simply set to a text token that is added to
the beginning or end of cell name strings as archive files are being
read.  Modifications will not be made to cell names found in an
enabled alias file.  The strings can also be given in the form
\begin{quote}
/{\it str\/}/{\it sub\/}/
\end{quote}
where {\it str} and {\it sub} are text tokens, separated by forward
slash characters as shown.  In this case if the characters at the
beginning/end of the cell name (for prefix/suffix) match the {\it
str}, they are replaced by {\it sub}.  This is the same action as is
used in the {\cb !rename} command.  The string token must match
exactly --- there is no wildcarding.  Either the prefix or suffix, or
both, can be defined.  The suffix substitution occurs after the prefix
substitution.  Either can match the whole cell name if one wants to
change the name of a single cell.  This is part of a more general cell
name mapping facility (see \ref{cellname}), available in the {\cb
Import Control} panel and elsewhere.

% 022816
\index{CifLayerMode variable}
\item{\et CifLayerMode}\\
{\bf Value:} integer 0--2.\\
This variable determines how {\Xic} interprets layer directives while
reading CIF files.  This is the same as the {\cb How to resolve CIF
layers} menu in the {\cb Import Control} panel.  Setting to 0 is the
default {\cb Try Both} option, 1 is the {\cb By Name} option, and 2 is
the {\cb By Index} option.

% 061408
\index{OasReadNoChecksum variable}
\item{\et OasReadNoChecksum}\\
{\bf Value:} boolean.\\
When set, the reader will ignore a checksum found in the OASIS file,
if any.  When not set, if a checksum is found, it will be compared
with a computed checksum, using the method (CRC or summation)
indicated in the file, and the conversion will fail if the checksums
are not equal.

% 022916
\index{OasPrintNoWrap variable}
\item{\et OasPrintNoWrap}\\
{\bf Value:} boolean.\\
This applies when converting OASIS input to ASCII text.  When set, the
text output for a single record will occupy one (arbitrarily long)
line.  When not set, lines are broken and continued with indentation.

This variable has a corresponding check box in the {\cb ASCII Text}
output format page of the {\cb Format Conversion} panel.

% 022916
\index{OasPrintOffset variable}
\item{\et OasPrintOffset}\\
{\bf Value:} boolean.\\
This applies when converting OASIS input to ASCII text.  When set, the
first token for each record output gives the offset in the file or
containing CBLOCK.  When not set, file offsets are not printed.

This variable has a corresponding check box in the {\cb ASCII Text}
output format page of the {\cb Format Conversion} panel.
\end{description}


% -----------------------------------------------------------------------------
% xic:cvexport 081318
\section{Convert Menu --- Output}

The {\cb !set} variables below affect the format conversion when
writing data to a file.  Many of these variables have counterpart
buttons in the {\cb Export Control} panel from the {\cb Convert Menu}. 
The functionality may also apply to files created with the {\cb Save}
command and similar.

The following table identifies where the variables in this section are
set, if settable from the graphical interface, and specifies the scope
of the variables.

\begin{tabular}{|l|l|l|} \hline
\bf Variable          & \bf Set From              & \bf Notes\\ \hline
\et StripForExport & {\cb Format Conversion} and {\cb Export Control} & 4\\
  \hline
\et WriteMacroProps   & \cb Export Control        & 1\\ \hline
\et KeepLibMasters    & \cb Export Control        & 3\\ \hline
\et SkipInvisible     & \cb Export Control        & 3\\ \hline
\et KeepBadArchive    &                           & 1\\ \hline
\et NoCompressContext &                           & 5\\ \hline
\et RefCellAutoRename &                           & 5\\ \hline
\et UseCellTab        &                           & 5\\ \hline
\et SkipOverrideCells &                           & 5\\ \hline
\et OutToLower        & cell name mapping module  & 2\\ \hline
\et OutToUpper        & cell name mapping module  & 2\\ \hline
\et OutUseAlias       & cell name mapping module  & 2\\ \hline
\et OutCellNamePrefix & cell name mapping module  & 2\\ \hline
\et OutCellNameSuffix & cell name mapping module  & 2\\ \hline
\et CifOutStyle       & \cb Export Control & 1\\ \hline
\et CifOutExtensions  & \cb Export Control & 1\\ \hline
\et CifAddBBox        &                           & 1\\ \hline
\et GdsOutLevel       & \cb Export Control & 1\\ \hline
\et GdsMunit          & \cb Export Control & 1\\ \hline
\et NoGdsMapOk        & \cb Export Control & 1\\ \hline
\et OasWriteCompressed & \cb Export Control & 1\\ \hline
\et OasWriteNameTab   & \cb Export Control & 1\\ \hline
\et OasWriteRep       & \cb Export Control & 1\\ \hline
\et OasWriteChecksum  & \cb Export Control & 1\\ \hline
\et OasWriteNoTrapezoids & \cb Advanced OASIS Export Parameters & 1\\ \hline
\et OasWriteWireToBox    & \cb Advanced OASIS Export Parameters & 1\\ \hline
\et OasWriteRndWireToPoly & \cb Advanced OASIS Export Parameters & 1\\ \hline
\et OasWriteNoGCDcheck   & \cb Advanced OASIS Export Parameters & 1\\ \hline
\et OasWriteUseFastSort  & \cb Advanced OASIS Export Parameters & 1\\ \hline
\et OasWritePrptyMask    & \cb Advanced OASIS Export Parameters & 1\\ \hline
\end{tabular}

Notes:
\begin{enumerate}
\item{These variables apply whenever a layout file is being written,
in any mode.}

\item{These variables apply to actions initiated from a panel
containing the {\cb Cell Name Mapping} control group, and to the
following script functions:
\begin{quote}
{\vt ToXIC}\\
{\vt ToCGX}\\
{\vt ToCIF}\\
{\vt ToGDS}\\
{\vt ToGdsLibrary}\\
{\vt ToOASIS}
\end{quote}}

\item{Applies when a file is being written using the {\cb Export
Control} panel, and with the script functions listed above.}

\item{The {\et StripForExport} variable applies as described below.}

\item{These variables apply when using a Cell Hierarchy Digest (CHD)
to access cells for writing.  Reference cells are pointers to CHD
data.}
\end{enumerate}

\begin{description}
% 022418
\index{StripForExport variable}
\item{\et StripForExport}\\
{\bf Value:} boolean.\\
When this variable is set, files produced through the {\cb Export
Control} and {\cb Format Conversion} panels will contain the basic
syntax elements with no extensions.  Thus, they contain physical data
only.  The {\et StripForExport} variable applies when writing all
output, {\bf except} when using the {\cb Save} and {\cb Save As}
buttons in the {\cb File Menu}, and the equivalent text accelerators
and including the prompts when exiting the program.  It is also
ignored when using the {\vt Save} script function, but applies in the
{\vt ToArchive} script function.

Within {\Xic}, archive file representations consist of two sequential
records in each file.  The first record is the physical information,
and the second record contains the electrical information.  These
files should be compatible with other CAD systems, as these files are
generally expected to have only one record, and consequently the
electrical information may be ignored.  However, one should not count
on this.  When in effect, only the physical record is output.  This
produces a file which should be an absolutely conventional physical
layout file.

Additionally, when {\et StripForExport} is set, and when writing out a
hierarchy from the main database, all cells in the hierarchy will be
written, whether or not the {\et KeepLibMasters} variable is set. 
Thus, the file will not contain unsatisfied cell references, as
(physical) library cells will be included.  Further, all referenced
pcell and standard via sub-masters will be written to output, similar
to the case when the {\et PCellKeepSubMasters} and {\et
ViaKeepSubMasters} variables are set. 

This variable tracks the state of the {\cb Strip For Export - (convert
physical data only)} check box which appears in the {\cb Export
Control} and {\cb Format Conversion} panels.  This button should be
active when creating a file to be sent to a vendor for use in
generating photomasks.  Note that the electrical information can never
be recovered from a stripped file.

% 081318
\index{WriteMacroProps variable}
\item{\et WriteMacroProps}\\
{\bf Value:} boolean.\\
When set, output will include {\et macro} properties, which are no
longer in use in 4.3.6 and later.  This variable can be set to force
generation of these properties, thus providing backwards
compatibility.

% 022816
\index{KeepLibMasters variable}
\item{\et KeepLibMasters}\\
{\bf Value:} boolean.\\
When writing an archive file from a hierarchy in the main database,
cells in the hierarchy that were opened through the library mechanism
are by default {\bf not} included in the file.  References to these
cells remain, though no library cell definition records will appear in
output.  The file will not be self-contained, as the library cell
references are unresolved without the corresponding libraries.

When this variable is set, files produced with the {\cb Export
Control} panel will include all cells in the hierarchy, and the file
produced will not have any unsatisfied references (except for
electrical device library cells, which are never included in output). 
The variable also applies to the script functions listed in the notes
to the table at the top of this section.  It does {\it not} apply to
the {\cb Save} and {\cb Save As} commands, which always omit library
cells.

This variable tracks the state of the {\cb Include Library Cells}
check box in the {\cb Export Control} panel.

% 022816
\index{SkipInvisible variable}
\item{\et SkipInvisible}\\
{\bf Value:} boolean or string.\\
When this variable is set, only layers that are currently visible, as
selected with button 2 in the layer table or otherwise, will be
converted when writing output from the {\cb Export Control} panel.  If
set to a word beginning with `{\vt p}' (case insensitive), only
invisible physical layers will be skipped.  If set to a word beginning
with `{\vt e}' (case insensitive) only the invisible electrical layers
will be skipped.  If set to anything else, including the empty string,
both physical and electrical invisible layers will be skipped.  This
variable tracks the state of the {\cb Don't convert invisible layers}
check boxes in the {\cb Export Control} panel.

% 022916
\index{NoCompressContext variable}
\item{\et NoCompressContext}\\
{\bf Value:} boolean.\\
The Cell Hierarchy Digest (CHD) is a data structure which provides a
compact representation of a cell hierarchy found in an archive file. 
This data structure is used in operations where random-access of cells
in the archive file is required.  This is used in some of the
conversion functions provided in the {\cb Format Conversion} panel
from the {\cb Convert Menu}, and elsewhere.

In order to process large files, it is important that the CHD use as
little memory as possible.  In release 2.5.67 and later, a mechanism
is used to compress instance lists by default.  This can shrink the
memory used by the CHD by 50% or more, but requires a little more
computational overhead.

The digest files written by the {\cb Save} button in the {\cb Cell
Hierarchy Digests} panel and the {\vt WriteCellHierDigest} script
function use the compressed instance lists by default, and are
typically more compact than the older format.  These files have a new
magic number and can not be read by {\Xic} releases prior to 2.5.67.

This boolean variable, if set, will prevent use of compression in the
CHD structures, and files written will be backwards compatible.  It is
unlikely that the user will find it necessary to set this variable.

% 022816
\index{RefCellAutoRename variable}
\item{\et RefCellAutoRename}\\
{\bf Value:} boolean.\\
This variable applies when writing hierarchies containing reference
cells, which are cells which point to data obtained through a Cell
Hierarchy Digest but are otherwise empty.  When written to a layout
file, these cells expand into a full cell hierarchy obtained from the
CHD.  The output file can not contain more than one cell definition
for a given name, so by default if a duplicate cell name is
encountered when writing, that cell definition is simply skipped, and
all instances of the cell in output will reference the original
definition.

This is the correct thing to do when duplicate cell names come from
the same (or an equivalent) CHD, as the duplicates really do indicate
the same cell.  However, if the names come from different CHDs, this
could indicate a true name clash.

When this variable is set, names that clash, and that come from
non-equivalent CHDs, will cause an automatic renaming of the cell, and
a cell definition will be generated in output under the new name.  The
subsequent cell instances will be updated to call the new name.  Names
that clash but come from equivalent CHDs will have the cell definition
skipped, as in the default mode.

This variable tracks the {\cb Use auto-rename when writing CHD
reference cells} check box in the {\cb Cell Hierarchy Digests} panel
from the <b>File Menu</b>.

% 022816
\index{UseCellTab variable}
\item{\et UseCellTab}\\
{\bf Value:} boolean.\\
This variable enables cell definition substitution when using a Cell
Hierarchy Digest (CHD) to access cells for purposes other than reading
into main memory.  When set, cell names found in the {\cb Cell Table
Listing}, which also are visible in the main database will replace
cells of the same name when accessing a hierarchy through a CHD.  This
feature can be used to modify cells in a hierarchy without having to
read the entire hierarchy into main memory.

This variable tracks the state of the {\cb Use cell table} check box
in the {\cb Cell Hierarchy Digests} panel.

% 061408
\index{SkipOverrideCells variable}
\item{\et SkipOverrideCells}\\
{\bf Value:} boolean.\\
This variable applies only when {\et UseCellTab} is set.  When this
variable is also set, cell names listed in the {\cb Cell Table
Listing} will be skipped, rather than substituted.  When writing
output, this will produce files that have unresolved references, which
can be satisfied by another source, such as a library.

This variable tracks the state of the {\cb Override} and {\cb Skip}
radio buttons in the {\cb Cell Table Listing} panel.

% 071415
\index{Out32nodes variable}
\item{\et Out32nodes}\\
{\bf Value:} boolean.\\
When set, schematic cell data written to files will use the {\et node}
property syntax of the 3.2 branch of {\Xic}, providing limited
backward compatibility.  This will strip out elements not supported by
the earlier syntax, such as multi-contact points in symbols.

The files will still not really be backward compatible unless all
``new'' features are avoided.  Setting this variable may be useful for
the case where 3.2 compatibility is to be preserved for a design that
originated in 3.2 or earlier, which is read into the current release
of {\Xic}, tweaked, then saved back to disk.

The variable should not be set unless you explicitly need to create
backward-compatible files, as it will prevent features from working in
the resulting files.

% 022816
\index{OutToLower variable}
\item{\et OutToLower}\\
{\bf Value:} boolean.\\
When set, cell names found in archive files being written that are
entirely upper case will be mapped to lower case.  A name that is
mixed-case will not be changed.  This mapping occurs for names which
are not aliased in an enabled alias file.  This is part of a more
general cell name mapping facility (see \ref{cellname}), which applies
in the {\cb Export Control} panel and elsewhere.

% 022816
\index{OutToUpper variable}
\item{\et OutToUpper}\\
{\bf Value:} boolean.\\
When set, cell names found in archive files being written that are
entirely lower case will be mapped to upper case.  A name that is
mixed-case will not be changed.  This mapping occurs for names which
are not aliased in an enabled alias file.  This is part of a more
general cell name mapping facility (see \ref{cellname}), which applies
in the {\cb Export Control} panel and elsewhere.

% 022816
\index{OutUseAlias variable}
\item{\et OutUseAlias}\\
{\bf Value:} boolean or string.\\
This variable enables utilization of the alias file (see
\ref{aliasfile}) when writing to an archive file.  If simply set as a
boolean, i.e., to no value, the alias file will be read before the
operation, and created or updated if necessary after the operation. 
If the variable is set to a word starting with `{\vt r}' (case
insensitive), then the alias file will be read before the operation
and used during the operation (if it exists), but will not be created
or updated after the operation.  If the variable is set to a word
starting with `{\vt w}' or `{\vt s}' (case insensitive), the alias
file will not be read before an operation, but will be created or
updated after the operation completes.  This is part of a more general
cell name mapping facility (see \ref{cellname}), which applies
in the {\cb Export Control} panel and elsewhere.

% 022816
\index{OutCellNamePrefix variable}
\index{OutCellNameSuffix variable}
\item{{\et OutCellNamePrefix}, {\et OutCellNameSuffix}}\\
{\bf Value:} string.\\
These variables are most simply set to a text token that is added to
the beginning or end of cell name strings as archive files are being
written.  Modifications will not be made to cell names found in an
enabled alias file.  The strings can also be given in the form
\begin{quote}
/{\it str\/}/{\it sub\/}/
\end{quote}
where {\it str} and {\it sub} are text tokens, separated by forward
slash characters as shown.  In this case if the characters at the
beginning/end of the cell name (for prefix/suffix) match the {\it
str}, they are replaced by {\it sub}.  This is the same action as is
used in the {\cb !rename} command.  The string token must match
exactly --- there is no wildcarding.  Either the prefix or suffix, or
both, can be defined.  The suffix substitution occurs after the prefix
substitution.  Either can match the whole cell name if one wants to
change the name of a single cell.  This is part of a more general cell
name mapping facility (see \ref{cellname}), which applies
in the {\cb Export Control} panel and elsewhere.

% 022816
\index{CIFoutStyle variable}
\item{\et CIFoutStyle}\\
{\bf Value:} string.\\
When set, this variable will determine the CIF output style.  Changing
the {\cb Cell Name Extension}, {\cb Layer Specification}, or {\cb
Label Extension} option menu choices in the {\cb CIF} page of the {\cb
Export Control} pop-up will update the value of {\et CifOutStyle}.

The {\et CIFoutStyle} variable can be set to the following values,
which will set the CIF output style as indicated.  The syntax
associated with the indices is given in \ref{cifsettings}, describing
the {\cb Export Control} panel.

\begin{tabular}{lllll}
\kb Value &\kb Historical Name &\kb cname\_index &\kb layer\_index &\kb
  label\_index\\
\vt a & Stanford & 1 & 0 & 1\\
\vt b & NCA      & 1 & 1 & 2\\
\vt i & Icarus   & 2 & 0 & 1\\
\vt m & Mextra   & 0 & 0 & 3\\
\vt n & none     & 4 & 0 & 4\\
\vt s & Sif      & 3 & 0 & 1\\
\vt x & Xic      & 0 & 0 & 0\\
{\it cn}:{\it la}:{\it lb} & - & {\it cn} & {\it la} & {\it lb}\\
\end{tabular}

The final form consists of three colon-separated integers which are
interpreted as indices into the option lists as implied above.  If the
style parameters are changed in the {\cb Export Control} pop-up
while {\et CIFoutStyle} is set, the value of {\et CIFoutStyle} will
have this form.

% 022816
\index{CifOutExtensions variable}
\item{\et CifOutExtensions}\\
{\bf Value:} two space-separated integers.\\
The string for this variable consists of two integers that represent
banks of flags.  The first integer represents the extension flags in
use when the {\et StripForExport} variable is not set, the second
integer represents the flags in force when {\et StripForExport} is
set.  The bits of each integer represent the flag state corresponding
to the menu entries of the {\cb CIF Extensions} menu (below the
separator) in the {\cb CIF} page of the {\cb Export Control} panel,
with the top entry corresponding to the least significant bit.  The
extensions are described with the CIF Format Extensions in
/ref{cifext}, and are listed in the table below.

\begin{tabular}{ll}
\bf Extension & \bf Mask\\
scale extension & \vt 0x1\\
cell properties & \vt 0x2\\
inst name comment & \vt 0x4\\
inst name extension & \vt 0x8\\
inst magn extension & \vt 0x10\\
inst array extension & \vt 0x20\\
inst bound extension & \vt 0x40\\
inst properties & \vt 0x80\\
obj properties & \vt 0x100\\
wire extension & \vt 0x200\\
wire extension new & \vt 0x400\\
text extension & \vt 0x800\\
\end{tabular}


% 061408
\index{CifAddBBox variable}
\item{\et CifAddBBox}\\
{\bf Value:} boolean.\\
When set, each object line (boxes, polygons, wires, labels) in CIF
output will be followed by a comment line giving the bounding box of
the object, in the form
\begin{quote}\vt
(BBox {\it left bottom right top\/}{\vt );}
\end{quote}
This may be useful for debugging, but greatly increases file size
so is not recommended for general use.

In {\Xic} releases prior to 3.0.0, the format of the added
comment was 
\begin{quote}
(BBox {\it left\/},{\it top width height}{\vt );}
\end{quote}
and the extension was applied to native cell files as well as CIF
output.

% 022916
\index{GdsOutLevel variable}
\item{\et GdsOutLevel}\\
{\bf Value:} integer 0--2.\\
This variable determines the GDSII release level of GDSII output
files.  The default is release level 7, which was introduced by
Cadence in 2002.  Previous releases specified a limit of 200 or 600
polygon vertices (there seems to be some inconsistency in the
published limit) and 200 vertices for wires.  This applies to format
releases 3, 4, 5, and 6.  The only difference between these formats is
the definition of some Cadence-specific data block types that are
ignored by {\Xic}.  The latest release (7) removed these limits. 
The limits that remain are due to the block size limit (64Kb) of the
format, which implies a maximum of 8000 vertices for polygons and
wires.

When writing GDSII output, it may be necessary to enforce the limits,
if the output is destined for another program which can't handle the
release 7 limits.  The {\Xic} default is to use the release 7 limits.

The {\et GdsOutLevel} variable can be set to an integer 0--2.  The
corresponding GDSII format is as follows:
\begin{description}
\item{level 0: (the default)}\\
max poly vertices: 8000\\
max wire vertices: 8000\\
format level: 7
\item{level 1:}\\
max poly vertices: 600\\
max wire vertices: 200\\
format level: 3
\item{level 2:}\\
max poly vertices: 200\\
max wire vertices: 200\\
format level: 3
\end{description}

By setting {\et GdsOutLevel} to 1 or 2, GDSII files generated with
{\Xic} should not cause difficulty when read by older programs
(including old versions of {\Xic}).

This variable tracks the state of the {\cb GDSII version number,
polygon/wire vertex limit} menu in the {\cb GDSII} page of the {\cb
Export Control} panel from the {\cb Convert Menu}.  This page is also
used in the {\cb Format Conversion} panel, and the {\cb Layout File
Merge Tool} also from the {\cb Convert Menu}.

% 022916
\index{GdsMunit variable}
\item{\et GdsMunit}\\
{\bf Value:} real 0.01--100.0.\\
When writing GDSII, the normal MUNITS (machine units) and UUNITS (user
units) values will be multiplied by this factor, and all coordinates
in the file will be divided by this factor.  The acceptable range is
0.01 -- 100.0.  This will apply to {\it all} GDSII files written. 

This variable tracks the {\cb Unit Scale} entry in the {\cb GDSII}
page of the {\cb Export Control} panel from the {\cb Convert Menu}. 
This page is also used in the {\cb Format Conversion} panel, and the
{\cb Layout File Merge Tool} also from the {\cb Convert Menu}.

The default values for these parameters are
\begin{quote}
\begin{tabular}{ll}
MUNITS: & 1e-6/{\it resolution}\\
UUNITS: & 1.0/{\it resolution}\\
\end{tabular}
\end{quote}
where {\it resolution} is the internal resolution, which defaults to
1000 per-micron, but can be changed with the {\et DatabaseResolution}
variable.

% 022916
\index{GdsTruncateLongStrings variable}
\item{\et GdsTruncateLongStrings}\\
{\bf Value:} boolean.\\
The GDSII and CGX formats use a 16-bit integer to store record size,
limiting the size of records to 64Kb.  This prevents storage of stings
longer than this.  By default, an attempt to write such a string to a
GDSII or CGX file will generate a fatal error, aborting the operation. 
If this variable is set, overrunning strings will be truncated to
maximum possible length, and the operation will continue without
error.  Warnings will appear in the log file, however.

This variable tracks the state of the {\cb Accept but truncate
too-long strings} check box in the {\cb GDSII} and {\cb CGX} pages of
the {\cb Export Control} panel from the {\cb Convert Menu}.  These
pages are also used in the {\cb Format Conversion} panel, and the {\cb
Layout File Merge Tool} also from the {\cb Convert Menu}.

% 022916
\index{NoGdsMapOk variable}
\index{GDSII layer mapping}
\item{\et NoGdsMapOk}\\
{\bf Value:} boolean.\\
When this variable is set, layers without a GDSII output mapping will
be ignored when producing GDSII output, though a warning will appear
in the log file.  Otherwise, this is an error which terminates
conversion.

This tracks the state of the {\cb Skip layers without Xic to GDSII
layer mapping} check box in the {\cb GDSII} and {\cb OASIS} pages of
the {\cb Export Control} panel from the {\cb Convert Menu}.  These
pages are also used in the {\cb Format Conversion} panel, and the {\cb
Layout File Merge Tool} also from the {\cb Convert Menu}.

% 022816
\index{OasWriteCompressed variable}
\item{\et OasWriteCompressed}\\
{\bf Value:} boolean, or the string ``{\vt force}''.\\
When set, created OASIS files will use compression.  The content of
all CELL records and name tables will be placed in CBLOCK records. 
This can significantly reduce file size.  When not set, no compression
will be used.

By default, very short records are not compressed, as more often than
not, compression will {\it increase} the size of these blocks.  If
this variable is set to the word ``{\vt force}'', then all blocks are
compressed.  This can be used for comparison purposes, but is unlikely
to yield the best results.  This tracks the state of the check box in
the {\cb OASIS} page of the {\cb Export Control} panel.

% 022816
\index{OasWriteNameTab variable}
\item{\et OasWriteNameTab}\\
{\bf Value:} boolean.\\
When set, all strings including cell names, properties, and labels are
placed in strict-mode tables.  This will in most cases reduce file
size.  When writing OASIS files with {\et StripForExport} set, i.e.,
writing physical data only, the offset table is placed in the END
record.  With {\et StripForExport} not set, in general we write two
sequential OASIS databases into the file, the first for physical data,
the second for electrical.  In this case, string tables are used in
the physical part only, and the offset table is placed in the START
record.  PAD records are added to avoid overwriting data since this is
a non-sequential operation.  In all cases, strict-mode tables are
used.

The string tables themselves are written just ahead of the END
record in all cases (when tables are used).

This tracks the state of the check box in the {\cb OASIS} page of the
{\cb Export Control} panel.

% 022816
\label{OasWriteRep}
\index{OasWriteRep variable}
\item{\et OasWriteRep}\\
{\bf Value:} string or boolean.\\
When this variable is set, {\Xic} will try to find groups of identical
objects that can be combined into REPETITION records in OASIS output. 
This applies to all OASIS output files.  Although compute intensive,
this can save a lot of space in the output file.

If {\et OasWriteRep} is not set, subcell and object records are
written as encountered when traversing the cell structure.  If set,
objects and subcells will be cached, and similar objects and subcells
are identified and written using repetition records.

When using repetition, the following procedure is used, where
``objects'' can apply to subcells as well as geometrical objects.

\begin{enumerate}
\item{Instead of directly converting each object, the object is
   saved in a cache.}
\item{When a cell traversal is complete or an object count reached,
   the cache is processed, and objects that are identical are
   identified.  The differing objects are sorted to make use of modal
   variables.}
\item{For each group of identical objects, those that form a
   spatially linear, periodic ``run'' are extracted into a new run
   list.}
\item{For each list of runs, the runs that are spatially periodic
   are extracted into a new array list.}
\item{Each array is written using a 2-dimensional repetition.}
\item{Each remaining run is written using a 1-dimensional
   repetition.}
\item{The remaining objects, i.e., those not used in an array or
   run, are written using a random repetition.}
\end{enumerate}

The details of this process, and whether or not it is applied, are
controlled by the {\et OasWriteRep} variable.  This variable can be
set to a string containing several tokens, or set as a boolean (i.e.,
set to nothing).  The tokens can appear in any order.

\begin{quote}
    {\et OasWriteRep}: [{\it word}] [{\vt d}] [{\vt r}]
     [{\vt m}={\it N\/}] [{\vt a}={\it N\/}] [{\vt x}={\it N\/}]
     [{\vt t}={\it N\/}]
\end{quote}

\begin{description}
\item{\it word}\\
This is a token that is not recognized as one of the others.  It
consists of letters that control the type of object that the
replication process is applied to.  If the letter is present, the
corresponding object type will be processed, otherwise the replication
algorithm will not be applied to that type of object, however if this token
is not found (no letters appear), all objects will be processed.
The letters are:

\begin{quote}
\begin{tabular}{ll}
\vt c & subcells\\
\vt b & boxes\\
\vt p & polygons\\
\vt w & wires\\
\vt l & labels\\
\end{tabular}
\end{quote}

For example, ``{\vt cp}'' would indicate use of replications for
subcells and polygons only.  If no token of this type is found, then
{\it all} object types will be processed.
\end{description}

The remaining tokens are identified by the first letter only, and
the remainder of the token (up to `=' in some cases) is ignored.

\begin{description}
\item{\vt d}\\
Some debugging info is printed on the console when processing.

\item{\vt r}\\
No attempt is made to find runs or arrays, and all similar objects are
written using random placement repetitions.

\item{{\vt m}={\it N}}\\
This sets the minimum number of objects in a run.  The default value
is 4, which is also the minimum accepted value.  There can be no space
around the `=', and {\it N} must be an integer.  This is ignored if
{\vt r} is given.

\item{{\vt a}={\it N}}\\
This sets the minimum number of runs in an array.  The default value
is 2.  The value can be set to 0 (zero) in which case two dimensional
repetition finding is skipped.  Otherwise, the value must be 2 or
larger.  There can be no space around the `=', and {\it N} must be an
integer.  This is ignored if {\vt r} is given.

\item{{\vt x}={\it N}}\\
This sets the maximum number of different objects of a given type held
in the cache, before flushing occurs.  This does not include
repetition counts.  The {\it N} is an integer in the range 20 --
50000.  If not set, a default of 5000 is used.  Larger values can
reduce file size, but can greatly increase writing time due to
modality sorting.

\item{{\vt t}={\it N}}\\
This sets the maximum number of similar objects, i.e., those subject
to repetition analysis, that can exist in the cache before flushing. 
Extremely large numbers may require excessive time to scan for
repetitions.  The {\it N} is an integer which can be 0 (zero) in which
case no limit is used, or 100 or larger.  The default value is 1000000
(one million).
\end{description}

If {\et OasWriteRep} is set to an empty string, all objects will be
processed for replication, using the default run and array minimums.

The string for this variable can be composed with the interface found
in the {\cb Advanced OASIS Export Parameters} panel.  The {\cb Find
repetitions} button in the {\cb OASIS} page of the {\cb Export
Control} panel will set the variable to the current string from the
interface, or unset the variable.  It the variable is set by another
method, such as with the {\cb !set} command, the interface will be
updated to the parameters as given.  With default parameters, the
string is empty, so the variable is set as a boolean by default.

% 061408
\index{OasWriteChecksum variable}
\label{OasWriteChecksum}
\item{\et OasWriteChecksum}\\
{\bf Value:} string or boolean.\\
When not set, no checksum is written to the output.  When set as a
boolean (i.e., to no value), or to anything other than ``{\vt 2}'' or
a string beginning with ``{\vt ch}'', a cyclic-redundancy (CRC)
checksum is computed and added to the file.  If set to ``{\vt 2}'' or
a word beginning with ``{\vt ch}'', a byte-sum checksum is added to
the file.  This variable has a corresponding check box in the {\cb
OASIS} page of the {\cb Export Control} panel.  This controls
setting/unsetting as a boolean, thus the check box selects CRC
checksum or none.

% 061408
\index{OasWriteNoTrapezoids variable}
\item{\et OasWriteNoTrapezoids}\\
{\bf Value:} boolean.\\
The normal behavior is to check three and four-sided polygons to see
if they can be written as (more compact) TRAPEZOID or CTRAPEZOID
records.  Setting this variable will suppress this, providing slightly
faster conversion at the cost of larger file size.  This variable
tracks the {\cb Don't write trapezoid records} check box in the {\cb
Advanced OASIS Export Parameters} panel.

% 061408
\index{OasWriteWireToBox variable}
\item{\et OasWriteWireToBox}\\
{\bf Value:} boolean.\\
The normal behavior is to leave wires alone, preserving data-type
integrity.  However, space can be saved by writing two-vertex
rectangular wires as boxes.  Setting this variable will enable this,
which may reduce file size at the expense of slightly more conversion
time.  This variable tracks the {\cb Convert Wire to Box records when
possible} check box in the {\cb Advanced OASIS Export Parameters}
panel.

% 022809
\index{OasWriteRndWireToPoly variable}
\item{\et OasWriteRndWireToPoly}\\
{\bf Value:} boolean.\\
The OASIS format does not have a native ``rounded end'' style for
wires.  These are normally converted to extended-end wires, where the
``rounded'' part becomes Manhattan.  If this variable is set, when
converting rounded-end wires to OASIS, the wire is converted to a
polygon which is shaped the same way as all rounded-end wires in
{\Xic}.  Use of a polygon requires more memory than the wire, but this
preserves exactly the same geometrical coverage, which is valuable in
reducing geometric differences if a layout comparison is performed. 
This variable tracks the {\cb Convert rounded-end Wire records to Poly
records} check box in the {\cb Advanced OASIS Export Parameters}
panel.

% 061408
\index{OasWriteNoGCDcheck variable}
\item{\et OasWriteNoGCDcheck}\\
{\bf Value:} boolean.\\
This applies only when repetitions are being used ({\et OasWriteRep}
is set).  Normally, a greatest common divisor is computed, and if
larger than unity type 10 repetitions are converted to type 11.  This
can reduce file size.  If this variable is set, the GCD is not
computed, probably increasing file size but reducing conversion time. 
This variable tracks the {\cb Skip GCD check} check box in the {\cb
Advanced OASIS Export Parameters} panel.

% 061408
\index{OasWriteUseFastSort variable}
\item{\et OasWriteUseFastSort}\\
{\bf Value:} boolean.\\
When set, writing OASIS may be faster at the expense of file size. 
This was the only mode in releases prior to 2.5.68.  The present
release defaults to using a somewhat slower but more effective
modality sorting algorithm, which will produce smaller files.  This
variable tracks the {\cb Use alternate modal sort algorithm} check box
in the {\cb Advanced OASIS Export Parameters} panel.

% 022913
\index{OasWritePrptyMask variable}
\item{\et OasWritePrptyMask}\\
{\bf Value:} boolean or string.\\
This variable tracks the {\cb Property masking} menu selections in the
{\cb Advanced OASIS Export Parameters} panel.

There are two properties that are added to text labels by default. 
These properties are used by {\Xic} and programs based on {\Xic}
source code, and can be stripped if not needed.  This can lead to
substantial file size reduction if the file contains many text labels.

{\bf Property name}: {\vt XIC\_PROPERTIES}\\
{\bf Property number}: {\vt 7012}

This property is added when reading GDSII source.  It contains values
of attributes of the TEXT element.  These have no analogs in OASIS
format, however if the file is reconverted to GDSII, the attributes
will be restored.  These attributes are found in the following GDSII
record types:

\begin{tabular}{lll}
\bf name & \bf record & \bf description\\
ANGLE & 28 & Rotation angle of text.\\
MAG & 27 & Magnification applied to text.\\
WIDTH & 15 & Width of path used to form characters.\\
PTYPE & 33 & GDSII PATHTYPE used to form characters.\\
\end{tabular}

The property consists of a string containing name/value pairs:  the
names are the text tokens above, the values are numeric.  Tokens are
separated by white space.

{\bf Property name}: {\vt XIC\_LABEL}\\
This is added to all labels to pass the {\Xic} presentation
attributes.  The string consists of two space-separated unsigned
numbers:  {\it width} and {\it flags}.  The {\it width} is the width of
the label bounding box, in containing-cell coordinates.  The {\it
flags} is the label flags word used by {\Xic}, described in
\ref{labelflags}.

If {\et OasWritePrptyMask} is set as a boolean, i.e., to an empty
string, neither of these properties is written.  If the variable is
set to an integer value, the two least-significant bits of the integer
value are flags that mask the creation of these properties, according
to the table below.  If the variable is set to a non-empty and
non-integer value, and during conversions only (as initiated from the
{\cb Format Conversion} panel from the {\cb Convert Menu}) then {\it
all} properties are stripped from output.

\begin{tabular}{ll}
{\bf Bit 0}: & If set, {\vt XIC\_PROPERTIES} \#7012 will not be written.\\
{\bf Bit 1}: & If set, {\vt XIC\_LABEL} will not be written.\\
\end{tabular}

This variable was named ``{\et OasWriteNoXicTextPrps}'' in releases
prior to 3.0.0.
\end{description}


% -----------------------------------------------------------------------------
% !set:prpfilt 021515
\section{Custom Property Filtering}
\index{variables!property filtering}

The {\cb !set} variables below save property filter specification
strings (see \ref{prpfilt}) for use when comparing layout data.  The
{\cb !compare} command and the {\cb Compare Layouts} panel available
from the {\cb Convert} menu provide this comparison function.  The
strings are used when the custom property filtering option is enabled.

\begin{description}
% 080510
\index{PhysPrpFltCell variable}
\item{\et PhysPrpFltCell}\\
{\bf Value:} string.\\
Contains the custom filter string for physical cell properties.

% 080510
\index{PhysPrpFltInst variable}
\item{\et PhysPrpFltInst}\\
{\bf Value:} string.\\
Contains the custom filter string for physical instance properties.

% 080510
\index{PhysPrpFltObj variable}
\item{\et PhysPrpFltObj}\\
{\bf Value:} string.\\
Contains the custom filter string for physical object properties.

% 080510
\index{ElecPrpFltCell variable}
\item{\et ElecPrpFltCell}\\
{\bf Value:} string.\\
Contains the custom filter string for electrical cell properties.

% 080510
\index{ElecPrpFltInst variable}
\item{\et ElecPrpFltInst}\\
{\bf Value:} string.\\
Contains the custom filter string for electrical instance properties.

% 080510
\index{ElecPrpFltObj variable}
\item{\et ElecPrpFltObj}\\
{\bf Value:} string.\\
Contains the custom filter string for electrical object properties.
\end{description}


% -----------------------------------------------------------------------------
% !set:drc 021615
\section{Design Rule Checking}
\label{drcvars}
\index{variables!design rule checking}
\index{variables!drc}

These variables are used by the design rule checking (DRC) system and
are not generated by or recognized in the {\XicII} or {\Xiv} feature
sets.  Unless stated otherwise, these settings can be controlled from
the {\cb DRC Defaults} panel from the {\cb Set Defaults} button in the
{\cb DRC Menu}.

\begin{description}

% 021615
\index{Drc variable}
\item{\et Drc}\\
{\bf Value:} boolean.\\
This sets whether or not the interactive rule checking is applied to
objects being added to the database, tracking the state of the {\cb
Enable Interactive} button in the {\cb DRC Menu}.

% 021615
\index{DrcNoPopup variable}
\item{\et DrcNoPopup}\\
{\bf Value:} boolean.\\
This variable determines whether errors generated in interactive DRC
will be listed in a pop-up window.  If set, the messages will not pop
up automatically.  This initializes the state of the {\cb No Pop Up
Errors} button in the {\cb DRC Menu}.

% 021615
\index{DrcLevel variable}
\item{\et DrcLevel}\\
{\bf Value:} integer 0--2.\\
This sets the error recording level for design rule checking.  If set
to zero (``0'') or not set, only one violation is recorded per object. 
If 1, one violation of each type is recorded per object.  If 2, all
violations found are recorded.

% 021615
\index{DrcMaxErrors variable}
\item{\vt DrcMaxErrors}\\
{\bf Value:} integer 0--100000.\\
This variable sets the maximum number of design rule violations
reported in batch mode, at which point checking terminates.  If set to
zero or not set, no limit is imposed.

% 021615
\index{DrcInterMaxObjs variable}
\item{\et DrcInterMaxObjs}\\
{\bf Value:} integer 0--100000.\\
In interactive design rule checking, this variable provides a limit on
the number of objects checked, to minimize the pause after an
operation.  If set to 0, no limit is imposed.  If not set, a limit of
1000 is taken.

% 021615
\index{DrcInterMaxTime variable}
\item{\et DrcInterMaxTime}\\
{\bf Value:} integer 0--30000.\\
This variable limits the time of the interactive design rule checking
performed after each operation.  The value is given in milliseconds. 
If the value is 0, there is no time limit imposed.  If the variable
is not set a limit of 5000 (five seconds) is assumed.

% 021615
\index{DrcInterMaxErrors variable}
\item{\et DrcInterMaxErrors}\\
{\bf Value:} integer.\\
This variable limits the number of violations to record during
interactive testing.  When the limit is reached, testing stops and
control returns to the user.  If set to 0, there is no limit.  If not
set, a limit of 100 violations is imposed.

% 021615
\index{DrcInterSkipInst variable}
\item{\et DrcInterSkipInst}\\
{\bf Value:} boolean.\\
If a subcell is copied, moved, or placed, by default the subcell is
tested for design rule violations if in interactive mode.  Setting
this variable will cause this checking to be skipped.  The checking
may be redundant and time consuming.

% 010615
\index{DrcChdName variable}
\item{\et DrcChdName}\\
{\bf Value:} string.\\
It is possible to use a Cell Hierarchy Digest (CHD) to specify a
target layout for design rule checking.  This can allow DRC testing of
layouts that are too large to be read into {\Xic} normally.  This
value mirrors the contents of the {\cb CHD reference name} text entry
area in the {\cb DRC Run Control} panel from the {\cb Batch Check}
button in the {\cb DRC Menu}.

% 010615
\index{DrcChdCell variable}
\item{\et DrcChdCell}\\
{\bf Value:} string.\\
This variable stores an optional cell name for use as the top-level
cell when a CHD is used for DRC.  It mirrors the contents of the {\cb
CHD top cell} text entry area in the {\cb DRC Run Control} panel from
the {\cb Batch Check} button in the {\cb DRC Menu}.

% 010615
\index{DrcLayerList variable}
\item{\et DrcLayerList}\\
{\bf Value:} string.\\
It is possible to use only rules on certain layers, or to skip rules
on certain layers, when running DRC.  This variable contains a space
separated list of layer names for use in the layer filtering.  It
mirrors the contents of the {\cb Layer List} text entry area in the
{\cb DRC Parameter Setup} panel from the {\cb Setup} button in the
{\cb DRC Menu}.

% 010615
\index{DrcUseLayerList variable}
\item{\et DrcUseLayerList}\\
{\bf Value:} boolean or string.\\
If this variable is set to a word that starts with `{\vt n}' (case
insensitive) the layers listed in the {\et DrcLayerList} variable will
be skipped during DRC runs, meaning that the rules defined on the
skipped layers will not be evaluated.  If {\et DrcUseLayerList} is set
to anything else, including to an empty string (i.e., as a boolean),
then only rules on layers listed in the {\et DrcLayerList} variable
will be checked during DRC runs.  In this case, if the {\et
DrcLayerList} is not set or empty, the filtering is not done, and
rules on all layers will be checked.  This variable sets, and is set
by, the {\cb Check listed layers only} and {\cb Skip listed layers}
check boxes in the {\cb DRC Parameter Setup} panel from the {\cb
Setup} button in the {\cb DRC Menu}.

% 010615
\index{DrcRuleList variable}
\item{\et DrcRuleList}\\
{\bf Value:} string.\\
It is possible to use only certain rules, or to skip certain rules,
when running DRC.  This variable contains a space separated list of
rule names (technology file rule keywords) for use in this filtering. 
It mirrors the contents of the {\cb Rule List} text entry area in the
{\cb DRC Parameter Setup} panel from the {\cb Setup} button in the
{\cb DRC Menu}.  Rule name matching is case-insensitive.

% 010615
\index{DrcUseRuleList variable}
\item{\et DrcUseRuleList}\\
{\bf Value:} boolean or string.\\
If this variable is set to a word that starts with `{\vt n}' (case
insensitive) the rules listed in the {\et DrcRuleList} variable will
be skipped during DRC runs.  If {\et DrcUseRuleList} is set to
anything else, including to an empty string (i.e., as a boolean), then
only rules listed in the {\et DrcRuleList} variable will be checked
during DRC runs.  In this case, if the {\et DrcRuleList} is not set or
empty, the filtering is not done, and all rules will be checked.  This
variable sets, and is set by, the {\cb Check listed rules only} and
{\cb Skip listed rules} check boxes in the {\cb DRC Parameter Setup}
panel from the {\cb Setup} button in the {\cb DRC Menu}.

% 010615
\index{DrcPartitionSize variable}
\item{\et DrcPartitionSize}\\
{\bf Value:} real number.\\
When this variable is set to a real number larger than {\vt 0.0},
batch mode DRC initiated from the {\cb DRC Run Control} panel will use
a square grid of the indicated size in microns.  The DRC tests will be
performed sequentially in each of the grid areas that overlap the
overall test area.  This variable mirrors the state of the {\cb
Partition grisd size} entry area and {\cb None} button in the {\cb DRC
Run Control} panel.
\end{description}


% -----------------------------------------------------------------------------
% !set:extech 021515
\section{Extraction Tech}
\index{variables!extraction tech}
\label{extech}

These are mostly in support of the extraction system, but the
variables and keywords are handled by the main program, so can be set
or read if the extraction system is not available.

\begin{description}
% 021515
\index{AntennaTotal variable}
\item{\et AntennaTotal}\\
{\bf Value:} real number.\\
This variable applies to the {\cb !antenna} command.  The value is a
threshold total-net antenna ratio, as explained for the {\cb !antenna}
command.  The value is effectively passed to that command as a
default.

The {\cb Global Attributes} button in the {\cb Tech Parameter Editor}
provides a prompt-line interface for setting this variable.

% 102114
\index{Db3ZoidLimit variable}
\item{\et Db3ZoidLimit}\\
{\bf Value:} integer 1000 or larger.\\
This limits the amount of geometry which can be saved in the 3-D
geometry database, which is used in the {\cb Cross Section} command,
and in the interfaces to external capacitance and inductance
extraction programs.  The total trapezoid element count is limited to
10000 by default, i.e., when this variable is not set.  The database
is not designed for large collections, and the limit avoids embarking
on long computations where the program becomes unresponsive.

% 021515
\index{LayerReorderMode variable}
\item{\et LayerReorderMode}\\
{\bf Value:} integer 0--2.\\
This sets the default sequencing assumption used in the
three-dimensional layer sequence generator (see \ref{ldb3d}), which is
used for the cross-section display and the capacitance extraction
interface.  This can be set to an integer in the range 0--2.  The
value 0 is the default, the same as if the variable is not set.  The
other values will internally resequence {\vt Via} layers, as described
for the layer sequence generator.

The {\cb Global Attributes} button in the {\cb Tech Parameter Editor}
provides a prompt-line interface for setting this variable.

% 021515
\index{NoPlanarize variable}
\item{\et NoPlanarize}\\
{\bf Value:} boolean.\\
If set, by default no layers are planarizing, as explained in the
description of the three-dimensional layer geometry database in
\ref{ldb3d}.  Otherwise, the default is that layers with the {\vt
Conductor} keyword given, explicitly or implicitly, or the {\vt Via}
keyword given, will be planarizing by default.  The {\vt Routing},
{\vt GroundPlane}, {\vt GroundPlaneClear}, {\vt Contact} and their
aliases implicitly set the {\vt Conductor} keyword.  Thus, by default
the metal stack is planarized, as in a contemporary semiconductor
process.

The {\cb Global Attributes} button in the {\cb Tech Parameter Editor}
provides a prompt-line interface for setting this variable.

% 021515
\index{SubstrateEps variable}
\item{\et SubstrateEps}\\
{\bf Value:} real number.\\
This variable sets the relative dielectric constant assumed for the
substrate, used by the capacitance extraction interface.  If not set,
the default is 11.9.

The {\cb Global Attributes} button in the {\cb Tech Parameter Editor}
provides a prompt-line interface for setting this variable.

% 021515
\index{SubstrateThickness variable}
\item{\et SubstrateThickness}\\
{\bf Value:} real number.\\
This variable sets the thickness of the substrate assumed by the
program, as a real number in microns.  This is used only by the
capacitance extraction interface.  If not set, a thickness of 75.0
microns will be assumed.

The {\cb Global Attributes} button in the {\cb Tech Parameter Editor}
provides a prompt-line interface for setting this variable.
\end{description}


% -----------------------------------------------------------------------------
% !set:exgen 070214
\section{Extraction General}
\index{variables!extraction general}
The following variables control features of the general extraction and
association process.

\begin{description}
% 103113
\index{ExtractOpaque variable}
\item{\et ExtractOpaque}\\
{\bf Value:} boolean.\\
When set, {\Xic} will ignore the {\vt OPAQUE} flag and perform
extraction normally on cells with this flag set.  The {\vt OPAQUE}
flag would otherwise suppress extraction on the contents of the cell. 
This flag is set in the {\et flags} property of physical cells.

This tracks the setting of the {\cb Extract opaque cells, ignore
OPAQUE flag} check box in the {\cb Net and Cell Config} page of the
{\cb Extraction Setup} panel from the {\cb Setup} button in the {\cb
Extract Menu}.

% 110413
\index{FlattenPrefix variable}
\item{\et FlattenPrefix}\\
{\bf Value:} string.\\
This variable can be set to a string containing a space-separated list
of words.  The words are intended to match cell names or classes of
cell names.  Cells with names that match are {\bf not} treated as
individual cells during extraction, instead they are treated as if
instantiations are part of the containing cell, i.e., they are
logically flattened (see \ref{exthier}).  This applies to physical
cells only, and such cells will have no recognized electrical
counterpart.

{\bf Note:} it is probably more convenient to set the {\et flatten}
property of physical cells that should be flattened into their parent
during extraction.  Setting this property with the {\cb Cell Property
Editor} will have the same effect as including the cell in the
{\et FlattenPrefix} list, but is persistent when the cell is saved.

In the words, the forward slash character (`/') is special, and is
used to indicate the type of matching.  The possibilities are:

\begin{description}
\item{{\it name\/}[/]}\\
This will prefix match cell names, the trailing `/' is optional.  For
example if {\it name} is ``{\vt abc}'', cell names {\vt abc}, {\vt
abc123}, and {\vt abcounter} would match.

\item{/{\it name}}\\
This will suffix match cell names.  For example, if the word is ``{\vt
/bar}'', cell names {\vt bar}, {\vt foobar}, and {\vt crossbar} would
match.

\item{/{\it name\/}/}\\
This will literally match a cell name, for example {\vt /foobar/}
would match only a cell named {\vt foobar}.
\end{description}

This tracks the setting of the {\cb Cell flattening name keys} entry
in the {\cb Net and Cell Config} page of the {\cb Extraction Setup}
panel, which is obtained from the {\cb Setup} button in the {\cb
Extract Menu}.

{\bf Note:}  in {\Xic} releases prior to 3.1.8, this variable could be set
to a single word only, and prefix matching was always employed.  In
releases of {\Xic} prior to 2.5.19, this variable was named
``PnetFlattenPrefix''.

% 103113
\index{GlobalExclude variable}
\item{\et GlobalExclude}\\
{\bf Value:} string (layer expression).\\
This variable can be set to a layer expression (which includes the
case of a layer name).  Any object in the layout which touches a
region where the layer expression evaluates as dark will be ignored by
the extraction system.  This facilitates use of special layers to mask
off parts of a layout to be ignored in extraction.

This tracks the setting of the {\cb Global exclude layer expression}
entry in the {\cb Misc Config} page of the {\cb Extraction Setup}
panel, which is obtained from the {\cb Setup} button in the {\cb
Extract Menu}.

% 103113
\index{GroundPlaneGlobal variable}
\item{\et GroundPlaneGlobal}\\
{\bf Value:} boolean.\\
When set, every object in every cell on a clear-field ground plane
layer is assigned to group 0.  If not set, only the largest area group
on this layer, in the top-level cell, is assigned to group 0.

This tracks the setting of the {\cb Assume clear-field ground plane is
global} check box in the {\cb Net and Cell Config} page of the {\cb
Extraction Setup} panel from the {\cb Setup} button in the {\cb
Extract Menu}.

% 103113
\index{GroundPlaneMulti variable}
\item{\et GroundPlaneMulti}\\
{\bf Value:} boolean.\\
When set, a layer specified as {\et GroundPlaneClear} in the
technology file will be inverted, and the inverted version used for
grouping and extraction.  The {\et MultiNet} keyword which optionally
follows {\et GroundPlaneClear} in the technology file effectively sets
this variable.  If this variable is unset, then no inversion takes
place, and the absence of the {\et GroundPlaneClear} layer is taken to
indicate ground (group 0).  This variable has no effect unless a {\et
GroundPlaneClear} layer exists.\\ {\kb Note}:  This replaces the {\vt
HandleTermDefault} variable which existed in earlier {\Xic} releases. 
It is part of the ground plane support in the extraction system.

This tracks the setting of the {\cb Invert dark-field ground plane for
multi-nets} check box in the {\cb Net and Cell Config} page of the
{\cb Extraction Setup} panel from the {\cb Setup} button in the {\cb
Extract Menu}.

% 103113
\index{GroundPlaneMethod variable}
\item{\et GroundPlaneMethod}\\
{\bf Value:} integer 0--2.\\
This sets the method used to invert the ground plane for grouping and
extraction, if the {\et MultiNet} keyword has been applied to a {\et
GroundPlaneClear} layer in the technology file.  The possible values
are integers 0--2, which have the same meaning as the integer that
optionally follows {\et MultiNet} in the technology file (see
\ref{exkwords}).

This tracks the setting of the inversion method menu in the {\cb Net
and Cell Config} page of the {\cb Extraction Setup} panel from the
{\cb Setup} button in the {\cb Extract Menu}.

% 103113
\index{KeepShortedDevs variable}
\item{\et KeepShortedDevs}\\
{\bf Value:} boolean.\\
By default, if an extracted device is found to have all terminals
shorted together at the time the device is recognized, the device will
be ignored.  This will help reject spurious devices from test
structures, etc.

If the {\et KeepShortedDevs} variable is set, then these devices will
be kept (as in pre-2.5.69 releases).  This flag may be needed for LVS
to pass, if the schematic contains the shorted devices.

This tracks the setting of the {\cb Include devices with terminals
shorted} check box in the {\cb Device Config} page of the {\cb
Extraction Setup} panel, which is obtained from the {\cb Setup} button
in the {\cb Extract Menu}.

% 103113
\index{MaxAssocLoops variable}
\item{\et MaxAssocLoops}\\
{\bf Value:} integer 0--1000000.\\
This variable sets a parameter used by the association algorithm. 
Presently, it is not expected to be useful to the user, and it is
recommended that it not be changed.
 
The variable tracks the setting of the {\cb Maximum association loop
count} entry in the {\cb Misc Config} page of the {\cb Extraction
Setup} panel from the {\cb Setup} button in the {\cb Extraction Menu}.

% 103113
\index{MaxAssocIters variable}
\item{\et MaxAssocIters}\\
{\bf Value:} integer 10--1000000.\\
This variable sets a parameter used by the association algorithm. 
Presently, it is not expected to be useful to the user, and it is
recommended that it not be changed.
 
The variable tracks the setting of the {\cb Maximum association
iterations} entry in the {\cb Misc Config} page of the {\cb Extraction
Setup} panel from the {\cb Setup} button in the {\cb Extraction Menu}.

% 103113
\index{NoMeasure variable}
\item{\et NoMeasure}\\
{\bf Value:} boolean.\\
This turns off the extraction of parametric data for devices in the
extraction system.  This is mainly for debugging, but may save time if
the user is interested in topology only.  The measurements can be time
consuming.

This tracks the setting of the {\cb Skip device parameter measurement}
check box in the {\cb Device Config} page of the {\cb Extraction
Setup} panel from the {\cb Setup} button in the {\cb Extract Menu}.

% 110413
\index{UseMeasurePrpty variable}
\item{\et UseMeasurePrpty}\\
{\bf Value:} boolean.\\
When set, the extraction system will read and update (creating if
necessary) the {\et measures} property (property number 7106) which is
used to cache (see \ref{meascache}) measurement results.  The
measurement of device parameters can be time consuming, and the
caching can speed up the extraction process significantly.  However,
using the measurement cache may require user intervention to maintain
coherency.  If a device layout changes, the user will have to manually
update the cache in order to obtain updated parameters.  With this
variable unset, the default condition will force actual computation of
device parameters, and avoid all use of the caching mechanism.  This
is appropriate while a cell is under development, to avoid cache
coherency issues. 
 
This variable tracks the {\cb Use measurement results cache
property} check box in the {\cb Device Config} page of the {\cb
Extraction Setup} panel from the {\cb Setup} button in the {\cb
Extract Menu}.

% 110413
\index{NoReadMeasurePrpty variable}
\item{\et NoReadMeasurePrpty}\\
{\bf Value:} boolean.\\
This variable is ignored unless {\et UseMeasurePrpty} is set.  When
set, the extraction system will not read the {\et measures} property
(property number 7106) which is used to cache (see \ref{meascache})
measurement results.  When measurement results are required, they will
be computed.  The property will still be updated, after association,
if {\et UseMeasurePrpty} is set.  Thus, by setting this variable and
forcing association, one can get a fresh set of measurement results
into the {\et measures} properties.

This variable tracks the {\cb Don't read measurement results from
property} check box in the {\cb Device Config} page of the {\cb
Extraction Setup} panel from the {\cb Setup} button in the {\cb
Extract Menu}.

% 103113
\index{NoMergeParallel variable}
\item{\et NoMergeParallel}\\
{\bf Value:} boolean.\\
Setting this variable suppresses merging of parallel-connected devices
during extraction.  This applies to all devices, and supersedes the
{\et Merge} directive in the device blocks or the technology file.

This variable tracks the setting of the {\cb Don't merge parallel
devices} check box in the {\cb Device Config} page of the {\cb
Extraction Setup} panel, which is obtained from the {\cb Setup} button
in the {\cb Extract Menu}.

% 103113
\index{NoMergeSeries variable}
\item{\et NoMergeSeries}\\
{\bf Value:} boolean.\\
Setting this variable suppresses merging of series-connected devices
during extraction.  This applies to all devices, and supersedes the
{\et Merge} directive in the device blocks of the technology file. 

This variable tracks the setting of the {\cb Don't merge series
devices} check box in the {\cb Device Config} page of the {\cb
Extraction Setup} panel, which is obtained from the {\cb Setup} button
in the {\cb Extract Menu}.

% 103113
\index{NoMergeShorted variable}
\item{\et NoMergeShorted}\\
{\bf Value:} boolean.\\
When including devices with all terminals shorted (the {\et
KeepShortedDevs} variable is set), setting this variable will prevent
such devices from being merged as parallel devices, if parallel
merging is enabled for the device type.

This variable tracks the setting of the {\cb Don't merge devices with
terminals shorted} check box in the {\cb Device Config} page of the
{\cb Extraction Setup} panel, which is obtained from the {\cb Setup}
button in the {\cb Extract Menu}.

% 103113
\index{IgnoreNetLabels variable}
\item{\et IgnoreNetLabels}\\
{\bf Value:} boolean.\\
If set, net name labels will be ignored by the extraction system. 
This is probably only useful for debugging.  Although this may allow
correct association if a net name label is wrong, the recommended
solution is to correct the offending label.

This variable tracks the setting of the {\cb Ignore net name labels}
check box in the {\cb Net and Cell Config} page of the {\cb Extraction
Setup} panel, which is obtained from the {\cb Setup} button in the
{\cb Extract Menu}.

% 103113 
\index{UpdateNetLabels variable}
\item{\et UpdateNetLabels}\\
{\bf Value:} boolean.\\
When set, net name labels will be updated, and new net name labels
possibly created, after association completes.  The label text is
obtained from corresponding electrical net names.

This is a dangerous operating mode, as if association fails, it is
possible that incorrect net name labels will be created.  These will
subsequently prevent correct association and cause LVS failure, until
removed or corrected by hand.

When creating library cells, running extraction with this variable set
can be a final action before saving the finished cell.  This must only
be done if the cell passes LVS.  The created net name labels should
improve association efficiency, but are not essential.

This variable tracks the state of the {\cb Update net name labels
after association} check box in the {\cb Net and Cell Config} page of
the {\cb Extraction Setup} panel, which is obtained from the {\cb
Setup} button in the {\cb Extract Menu}.

% 112513 
\index{FindOldTermLabels variable}
\item{\et FindOldTermLabels}\\
{\bf Value:} boolean.\\
When this variable is defined, {\Xic} will recognize the ``term
labels'' of earlier releases as net labels.  In {\Xic}-3, term labels
were used (optionally) to specify the conductor groups that were
associated with cell terminals in layouts.  These are labels, created
by the user on conducting layers, placed over an object on the same
layer.

The term labels would also be recognized as net labels if the {\et
PinPurpose} variable is set to an empty string, or the ``{\vt
drawing}'' purpose name.  Setting the {\et FindOldTermLabels} is
redundant in that case.  The label searches are separate, and both
will be done if enabled.

Whether this variable is set or not mirrors the status of the {\cb
Find old-style net (term name) labels} check box in the {\cb Net and
Cell Config} page of the {\cb Extraction Setup} panel from the {\cb
Extract Menu}.

% 110213
\index{MergeMatchingNamed variable}
\item{\et MergeMatchingNamed}\\
{\bf Value:} boolean.\\
If two physically unconnected conductor groups have the same logical
net name (see \ref{netname}), if this variable is set the groups will
be logically merged and treated as a single group.  This allows
successful top-level LVS of cells containing split nets.  Below the
top level, split nets are detected by other means so setting this
variable is not required for successful LVS if the top-level cell
contains no split nets.

The group names that apply are obtained from net name labels, or from
cell terminals that have been placed by the user.  By default, net
name matching is case-insensitive, though this can be changed with the
{\et NetNamesCaseSens} variable.  The name matching also treats as
equivalent various subscripting delimiters, as listed in the
description of the {\et Subscripting} variable.

This variable tracks the state of the {\cb Merge groups with matching
net names} check box in the {\cb Net and Cell Config} page of the {\cb
Extraction Setup} panel, which is obtained from the {\cb Setup} button
in the {\cb Extract Menu}.

% 103113
\index{MergePhysContacts variable}
\item{\et MergePhysContacts}\\
{\bf Value:} boolean.\\
When set, additional association logic is employed to detect and
account for split nets in instance placements.  A ``split net'' is a
logical net consisting of two or more disjoint physical conductor
groups.  The disjoint parts of the net are connected when instances
are placed, through parent cell metalization.  If the schematic shows
the net fully connected in the master, LVS will fail on the parent
unless this variables is set.

This variable tracks the state of the {\cb Logically merge physical
contacts for split net handling} check box in the {\cb Misc Config}
page of the {\cb Extraction Setup} panel, which is obtained from the
{\cb Setup} button in the {\cb Extract Menu}.

% 110613
\index{NoPermute variable}
\item{\et NoPermute}\\
{\bf Value:} boolean.\\
When this variable is set, the association algorithm will not attempt
to use symmetry trials to find a solution.  Symmetry trials are
normally used to iterate through permutations when searching for a
solution.  During a trial, a particular set of associations is
assumed, and the algorithm continues.  If an inconsistency is found
later, the associations made during the trial are reverted, and a new
trial is started.

Many circuits do not require a permutation search.  In some circuits,
though, the permutation search can be a very time-consuming process. 
In circuits where association is known to fail perhaps because the
wiring is incomplete, setting this variable will save time.  This
variable is mostly for debugging, or for cases where association is
not needed.  Of course, if a permutation search is needed and not
performed, LVS will fail.

Permutes are also skipped if a device or subcircuit is found that can
not possibly be associated.

This tracks the setting of the {\cb Don't run symmetry trials in
association} check box in the {\cb Misc Config} page of the {\cb
Extraction Setup} panel, obtained from the {\cb Setup} button in the
{\cb Extract Menu}.

% 061916
\index{PinLayer variable}
\item{\et PinLayer}\\
{\bf Value:} string.\\
If this variable is set to a layer name (or layer-purpose pair name)
all net name labels must appear on the named layer.  The ``{\vt pin}''
purpose, and any setting of the {\et inPurpose} variable, are ignored.

The label will be associated with the conducting object containing the
label origin that is highest (farthest from the substrate) in the
layer table.  Possible ambiguity with the associated layer makes this
scheme not recommended, but support is present for compatibility with
older cell libraries, such as the open-source CMOS libraries from
Oklahoma State University.

This variable tracks the {\cb Net label layer} entry in the
{\cb Net Config} page of the {\cb Extraction Setup} panel, obtained
form the {\cb Setup} button in the {\cb Extract Menu}.

% 061916
\index{PinPurpose variable}
\item{\et PinPurpose}\\
{\bf Value:} string.\\
This applies when the {\et PinLayer} variable is not set.  By default,
net name labels must reside on a layer-purpose pair where the purpose
name is ``{\vt pin}''.  However, if this variable is set to another
valid purpose name, then that name will be required of net labels
instead.
 
If the property is set to an empty string (i.e., as a boolean), the
``{\vt drawing} purpose is assumed.  One could equivalently give the
name explicitly.  This is not really recommended as it can be
inefficient.
 
This variable tracks the {\cb Net label purpose name} entry in the
{\cb Net Config} page of the {\cb Extraction Setup} panel, obtained
form the {\cb Setup} button in the {\cb Extract Menu}.

% 110113
\index{RLSolverDelta variable}
\item{\et RLSolverDelta}\\
{\bf Value:} floating point $>=$ 0.01.\\
It this value is set, the resistance/inductance extractor will assume
this grid spacing, in microns.  The number of grid cells enclosed in
the device will increase for physically larger devices, so that larger
devices will take longer to extract.  If this variable is set, the
other {\et RLSolver} variables are ignored.  Setting this variable may
be appropriate if all resistors are ``small'' and dimensions conform
to a layout grid.

This tracks the setting of the {\cb Set/use fixed grid size} entry in
the {\cb Device Config} page of the {\cb Extraction Setup} panel,
which is obtained from the {\cb Setup} button in the {\cb Extract
Menu}.

% 110113
\index{RLSolverTryTile variable}
\item{\et RLSolverTryTile}\\
{\bf Value:} boolean.\\
If set, the extractor will attempt to use a grid that will fall on
every edge of the device body and contacts.  The device and contact
areas must be Manhattan for this to work.  If such a grid can be
found, and the number of grid cells is a reasonable number, this will
give the most accurate result.

This tracks the setting of the {\cb Try to tile} check box in the {\cb
Device Config} page of the {\cb Extraction Setup} panel, which is
obtained from the {\cb Setup} button in the {\cb Extract Menu}.

% 110113
\index{RLSolverGridPoints variable}
\item{\et RLSolverGridPoints}\\
{\bf Value:} integer 10--100000.\\
When not tiling ({\et RLSolverTryTile} is not set), this sets the
number of grid points used for resistance/inductance extraction.  This
number will be the same for all device structures, so that computation
time per device is nearly constant.  Higher numbers give better
accuracy but take longer.  The value used if not set is 1000.

This tracks the setting of the {\cb Set fixed per-device grid cell
count} entry in the {\cb Device Config} page of the {\cb Extraction
Setup} panel, which is obtained from the {\cb Setup} button in the
{\cb Extract Menu}.

% 110113
\index{RLSolverMaxPoints variable}
\item{\et RLSolverMaxPoints}\\
{\bf Value:} integer 1000--100000.\\
When tiling ({\et RLSolverTryTile} is set), the maximum number of grid
cells is limited to this value.  If the tile is too small, it will be
increased in size to keep the count below this value, in which case
the tiling will not have succeeded so there may be a small loss of
accuracy.  Using a large number of grid points can take a long time. 
The value used if not set is 50,000.

This tracks the setting of the {\cb Maximum tile count per device}
entry in the {\cb Device Config} page in the {\cb Extraction Setup}
panel, which is obtained from the {\cb Setup} button in the {\cb
Extract Menu}.

% 110113
\index{SubcPermutationFix variable}
\item{\et SubcPermutationFix}\\
{\bf Value:} boolean.\\
Setting this variable enables additional association logic.  It
applies when there is perfect topological matching between layout and
schematic, but LVS is failing due to different permutations of
permutable subcell contacts being assumed in the electrical and
physical parts.  Setting the variable will enforce the electrical
permutation on the physical solution, which will allow LVS to pass if
the permutation difference was the only issue.
 
This should no longer be needed, as the two-pass association algorithm
in current use should resolve these cases automatically.  This
variable should therefor not be set in general, but it is possible
that it might allow successful LVS in some obscure case.
 
This variable tracks the {\cb Apply post-association permutation fix}
check box in the {\cb Misc Config} page of the {\cb Extraction Setup}
panel, which is obtained form the {\cb Setup} button in the {\cb
Extract menu}.

% 020213
\index{VerbosePromptline variable}
\item{\et VerbosePromptline}\\
{\bf Value:} boolean.\\
When set, lots of messages will be printed on the prompt line during
extraction.  Otherwise not much is printed, which may speed things up. 
This variable is linked to the {\cb Be very verbose on prompt line
during extraction} check box of the {\cb Misc Config} page of the {\cb
Extraction Setup} panel.

% 091614
\index{ViaCheckBtwnSubs variable}
\item{\et ViaCheckBtwnSubs}\\
{\bf Value:} boolean.\\
By default, it is assumed that connections between subcells will be
made by touching metal only.  This includes the case where the metal
is from a flattened wire-only cell, as would be provided by via cells
as described in \ref{viafind}.  One can easily adapt layout
methodology where this is true.  Otherwise, this variable can be set,
which will cause explicit testing for the presence of vias between
subcircuit nets.  This is a very expensive operation.

Whether this variable is set or not tracks the state of the {\cb Check
for via connections between subcells} check box in the {\cb Net
Config} page of the {\cb Extraction Setup} panel from the {\cb Extract
Menu}.

% 091614
\index{ViaSearchDepth variable}
\item{\et ViaSearchDepth}\\
{\bf Value:} non-negative integer.\\
If we have intersecting areas of top and bottom conductor, and we are
searching for an area of via material that would connect the two metal
objects, this sets the depth in the current cell hierarchy to search
(see \ref{viafind}).  The default is zero, indicating to search the
current cell only.  Generally, layout methodology can easily ensure
that this value can be safely zero, but there may be cases that
require extraction where such methodology was not practiced.  In such
a case, where the methodology is completely unknown, this value should
be set to a large number (internally it is limited to 40, the maximum
cell hierarchy depth) which will ensure that all via-induced
connections are found.  This can dramatically increase extraction
time.

The value of this variable tracks the {\cb Via search depth} entry
area in the {\cb Net Config} page of the {\cb Extraction Setup} panel
from the {\cb Extract Menu}.

% 071820
\index{ViaConvex variable}
\item{\et ViaConvex}\\
{\bf Value:} boolean.\\
This applies when checking for connectivity through a via during
extraction.  When set, all non-rectangular vias are assumed to be
convex polygons.  The test region is taken as a small rectangle
centered on the via bounding box.  This simplifies and should speed
testing.  It is intended specifically for circular vias, as used in
superconductive electronics.  It has no effect on rectangular vias. 
It should {\bf not} be set if any vias are non-convex polygons, as
incorrect results may occur.

Whether or not this variable is set tracks the state of the {\cb
Assume convex vias} check box in the {\cb Net Config} page of the {\cb
Extraction Setup} panel from the {\cb Extract Menu}. 
\end{description}


% -----------------------------------------------------------------------------
% !set:extrc 061408
\section{Extraction Menu Commands}
\index{variables!extraction menu commands}

The {\cb !set} variables below affect the commands found in the
{\cb Extract Menu}.

\begin{description}
% 051809
\index{QpathGroundPlane variable}
\item{\et QpathGroundPlane}\\
{\bf Value:} integer 0--2.\\
This variable controls how the {\cb "Quick" Path} command in the
extraction {\cb Path Selection Control} panel uses the inverted ground
plane.  Normally, during extraction, if the {\et GroundPlaneClear}
keyword has been given, an inverted ground plane is created on a
temporary layer for internal use.  Since the {\cb "Quick" Path} mode
operates outside of the extraction system, the inverted ground plane
may or may not be available.  The choices are:

\begin{description}
\item{\vt 0}\\
Use the inverted ground plane if available.  This is the default.  If
an inverted ground plane has already been created and is current, it
will be used when determining paths.  If the ground plane does not
have a current inversion, the absence of the layer will imply a ground
contact, as in extraction without the {\et MultiNet} keyword.  This
choice avoids the sometimes lengthly inversion computation, but makes
use of the inversion if it has already been done.

\item{\vt 1}\\
Create the inverted ground plane if necessary, and use it.  If the  
extraction system would use an inverted ground plane, it will be  
created if not already present and current.  The path selection  
will include the inverted layer.  

\item{\vt 2}\\
The {\cb "Quick" Path} mode will never use the inverted ground 
plane.
\end{description}

This variable tracks the state of the {\cb "Quick" Path ground plane
handling} menu in the {\cb Path Selection Control} panel.

% 110113
\index{QpathUseConductor variable}
\item{\et QpathUseConductor}\\
{\bf Value:} boolean.\\
By default, when this variable is not set, only objects on layers with
the {\et Routing} attribute applied will be considered for inclusion
in the path extracted with the {\cb "Quick" Path} button in the {\cb
Path Selection Control} panel, which is obtained from the {\cb Net
Selections} button in the {\cb Extract Menu}.  If this variable is
set, objects on layers with the {\et Conductor} attribute will be
allowed.  The {\et Routing} attribute implies {\et Conductor}, but may
be more restrictive.

This variable tracks the state of the {\cb "Quick" Path use Conductor}
check box in the {\cb Path Selection Control} panel.

% 061516
\index{EnetNet variable}
\item{\et EnetNet}\\
{\bf Value:} boolean.\\
If set, the netlist in internal format is incuded when writing output
in the {\cb Dump Elec Netlist} command.  This variable corresponds to
the {\et net} check box available in that command.

% 061408
\index{EnetSpice variable}
\item{\et EnetSpice}\\
{\bf Value:} boolean.\\
If set, SPICE output is included in the file produced from the {\cb
Dump Elec Netlist} command.  This variable corresponds to the {\et
spice} check box available in that command.

% 061408
\index{EnetBottomUp variable}
\item{\et EnetBottomUp}\\
{\bf Value:} boolean.\\
When set, the electrical netlist file (produced by the {\cb Dump Elec
Netlist} command) order will be leaf-to-root, i.e., subcells will be
listed first.  If not set, the reverse order is used.

% 061516
\index{PnetNet variable}
\item{\et PnetNet}\\
{\bf Value:} boolean.\\
If set, the extracted netlist listing in the internal format is
included in output from the {\cb Dump Phys Netlist} command.  This
variable corresponds to the {\et net} check box available in that
command.

% 061516
\index{PnetDevs variable}
\item{\et PnetDevs}\\
{\bf Value:} boolean.\\
If set, the extracted device listing in internal format is included in
output from the {\cb Dump Phys Netlist} command.  This variable
corresponds to the {\et devs} check box available in that command.

% 061516
\index{PnetSpice variable}
\item{\et PnetSpice}\\
{\bf Value:} boolean.\\
If set, the SPICE listing of extracted devices is included in output
from the {\cb Dump Phys Netlist} command.  This variable corresponds
to the {\et spice} check box available in that command.

% 061408
\index{PnetBottomUp variable}
\item{\et PnetBottomUp}\\
{\bf Value:} boolean.\\
When set, the physical netlist file (produced by the {\cb Dump Phys
Netlist} command) order will be leaf-to-root, i.e., subcells will be
listed first.  If not set, the reverse order is used.

% 061408
\index{PnetShowGeometry variable}
\item{\et PnetShowGeometry}\\
{\bf Value:} boolean.\\
If set, the {\et net} field (if activated) in the file produced from
the {\cb Dump Phys Netlist} command will include a listing of the
objects that comprise the wire net.  The listing is in modified CIF
syntax where 1000 units per micron is used.  This variable corresponds
to the {\et show geometry} check box available in that command.

% 061408
\index{PnetIncludeWireCap variable}
\item{\et PnetIncludeWireCap}\\
{\bf Value:} boolean.\\
If set, the {\et spice} field (if activated) in the file produced from
the {\cb Dump Phys Netlist} command will include capacitors
representing the computed wire net capacitance to ground.  The {\et
Routing} layers must have the {\et Capacitance} keyword applied in the
technology file.  The added capacitors have a special prefix ``{\vt
C@NET}'' which allows them to be subsequently recognized as wire net
capacitors by {\Xic}.  This variable corresponds to the {\et include
wire cap} check box available in that command.

% 061408
\index{PnetListAll variable}
\item{\et PnetListAll}\\
{\bf Value:} boolean.\\
In files produced with the {\cb Dump Phys Netlist} command, references
to subcells that are flattened or wire-only are normally not listed. 
If this variable is set, these cells are included in the listing,
which may be useful for debugging.  This variable corresponds to the
{\et include all devs} check box available in that command.

% 121113
\index{PnetNoLabels variable}
\item{\et PnetNoLabels}\\
{\bf Value:} boolean.\\
When set, output from the {\cb Dump Phys Netlist} command will use
group numbers to designate non-global nets.  When not set, output will
use group names as provided by net name labels (see \ref{netname})
where found.  This variable mirrors the state of the {\cb ignore
labels} check box in the {\cb Dump Phys Netlist} panel.

% 061516
\index{PnetVerbose variable}
\item{\et PnetVerbose}\\
{\bf Value:} boolean.\\
This boolean variable is intended to enable additional information
when printing output from the {\cb Dump Phys Netlist} command. 
Presently, it only applies when printing the device table ({\et
PnetDevs} is set).  It will print additional information about
multi-component (merged) devices.  This variable mirrors the state of
the {\cb devs verbose} check box in the {\cb Dump Phys Netlist} panel,
available from the button in the {\cb Extract Menu}.

% 061408
\index{SourceAllDevs variable}
\item{\et SourceAllDevs}\\
{\bf Value:} boolean.\\
In the {\cb Source SPICE} command, ordinarily only devices which have
fixed (user-specified) device names will have properties updated. 
This is to avoid errors, since the internally generated names can
change, and may not match those in the SPICE file.  If this variable
is set, the default action is to update all devices.  This variable
corresponds to the {\et all devs} check box available in that command. 

% 061408
\index{SourceCreate variable}
\item{\et SourceCreate}\\
{\bf Value:} boolean.\\
In the {\cb Source SPICE} command, if this variable is set, the
default action is to create missing devices.  Otherwise, device
parameters may be updated, but no new devices are created.  This
variable corresponds to the {\et create} check box available in that
command.

% 061408
\index{SourceClear variable}
\item{\et SourceClear}\\
{\bf Value:} boolean.\\
In the {\cb Source SPICE} command, if this variable is set the default
action is to discard the existing contents of the electrical part of
the cell before updating.  This variable corresponds to the {\et
clear} check box available in that command.

% 042611
\index{SourceGndDevName variable}
\item{\et SourceGndDevName}\\
{\bf Value:} string.\\
This variable specifies the name of the ground terminal device to use
when devices are created and placed in the {\cb Source SPICE} and
(consequently) the {\cb Source Physical} extraction commands.  If not
set, the name ``{\vt gnd}'' will be assumed.  If this variable is set
to a name, a ground device of that name must appear in the device
library file.

% 042611
\index{SourceTermDevName variable}
\item{\et SourceTermDevName}\\
{\bf Value:} string.\\
This variable specifies the name of the terminal device to use when
devices are created and placed in the {\cb Source SPICE} and
(consequently) the {\cb Source Physical} extraction commands.  If not
set, the name ``{\vt tbar}'' will be assumed, if that name is found
for a terminal device in the device library.  If not found, the name
``{\vt vcc}'' will be assumed.  If this variable is set to a name,
that name must match the name of a terminal device in the device
library file.

% 061408
\index{NoExsetAllDevs variable}
\item{\et NoExsetAllDevs}\\
{\bf Value:} boolean.\\
In the {\cb Source Physical} command, if this variable is set, only
devices that have a permanent (user-supplied) name will be updated. 
If not set, all devices will be updated.  This variable corresponds to
the {\et all devs} check box available in that command, with inverse
logic.

% 061408
\index{NoExsetCreate variable}
\item{\et NoExsetCreate}\\
{\bf Value:} boolean.\\
The default behavior of the {\cb Source Physical} command is to create
missing devices.  Setting this variable will change the default action
to no device creation.  This variable corresponds to the {\et create}
check box available in that command, with inverse logic.

% 061408
\index{ExsetClear variable}
\item{\et ExsetClear}\\
{\bf Value:} boolean.\\
When set, the electrical cells are cleared before updating with the
{\cb Source Physical} command.  This implies {\et create}, i.e., new
devices will be created since the cell is empty.  This variable
corresponds to the {\et clear} check box available in that command. 

% 061408
\index{ExsetIncludeWireCap variable}
\item{\et ExsetIncludeWireCap}\\
{\bf Value:} boolean.\\
When set, computed routing capacitors will be updated or created in
the electrical database when using the {\cb Source Physical} command. 
These capacitors have a name prefix of ``{\vt C@NET}''.  This variable
corresponds to the {\et include wire cap} check box available in that
command.

% 110313
\index{ExsetNoLabels variable}
\item{\et ExsetNoLabels}\\
{\bf Value:} boolean.\\
When set, output from the {\cb Source Physical} command will use group
numbers to designate non-global nets.  When not set, output will use
group names as provided by net name labels (see \ref{netname}) where
found.

% 091009
\index{LvsFailNoConnect variable}
\item{\et LvsFailNoConnect}\\
{\bf Value:} boolean.\\
During LVS analysis, the electrical (schematic) part of the design is
used as the basis for recursion through the hierarchy.  Thus, physical
subcells that have no connection to the circuit will not be detected,
and are basically ignored.  However, an explicit test is performed for
such cells, and those found will be listed in the LVS report.  If this
variable is set, the presence of such cells will force LVS failure,
otherwise they are ignored for comparison purposes.

This variable tracks the state of the {\cb fail if unconnected
physical subcells} check box in the panel brought up by the {\cb Dump
LVS} button in the {\cb Extract Menu}.

% 070909
\index{PathFileVias variable}
\item{\et PathFileVias}\\
{\bf Value:} boolean or string.\\
This variable determines whether and how vias are included in the
files produced with the {\cb Save path to file} button in the {\cb
Path Selection Control} panel from the {\cb Net Selections} button in
the {\cb Extract Menu}.  It tracks (and sets) the state of the {\cb
Path file contains vias} and {\cb Path file contains check layers}
check boxes in the panel.

If not set, via layers will not be included in the file, only the
conductors will appear.  If set as a boolean (i.e., to no value), the
via layers will be included, but not the check layers.  If set to any
text, the check layers will also be included.
\end{description}

% -----------------------------------------------------------------------------
% !set:fc 071814
\section{Capacitance Extraction Interface}
\label{fcvars}
\index{variables!capacitance etraction}
The following variables apply to the capacitance extraction interface
described in \ref{fcinterf}.  Most of these are associated with entry
fields in the {\cb Cap Extraction} panel (see\ref{fcpanel}), which is
brought up with the {\cb Extract C} button in the {\cb Extract Menu}.

\begin{description}
% 071814
\index{FcArgs variable}
\item{\et FcArgs}\\
{\bf Value:} string.\\
This variable can be set to a string, which will be included in the
argument list when capacitance extraction is initiated through the
interface, with the {\cb Run Extraction} button in the {\cb Run} page
of the {\cb Cap Extraction} panel, or through the {\cb !fc} command. 
The variable tracks the {\cb FcArgs} text entry area in the {\cb Run}
page of the {\cb Cap Extraction} panel, from where the variable is
most conveniently set or edited.

If the interface detects that {\it FasterCap} from {\vt
FastFieldSolvers.com} is being used, and this entry is empty, the
default argument string
\begin{quote} \vt
-b -a0.01
\end{quote}
will be imposed.  A ``{\vt -b}'' option will always be added if
missing from the {\it FasterCap} arguments list, as this argument is
necessary for correct {\it FasterFap} operation in this mode.  The
``{\vt -a}'' option is almost always used, as it specifies
auto-refinement, however it is technically not necessary and won't be
imposed if not given, except in the case where no arguments are given
at all.

% 071814
\index{FcForeg variable}
\item{\et FcForeg}\\
{\bf Value:} boolean.\\
If this variable is set, then the {\cb Run Extraction} button in the
{\cb Cap Extraction} panel {\cb Run} page will initiate a process
running in the foreground.  If not set, jobs are run in the
background, so that the user can continue using {\Xic} while the run
is in progress.

It is not clear why there would be any reason to run in the
foreground, except possibly for debugging.

This variable controls, and is controlled by, the setting of the {\cb
Run in foreground} check box in the {\cb Run} page of the {\cb Cap
Extraction} panel from the {\cb Extract Menu}.

% 071814
\index{FcLayerName variable}
\item{\et FcLayerName}\\
{\bf Value:} string.\\
The capacitance extraction interface uses a special layer for masking
of objects to be included in the capacitance extraction run.  By
default, this layer is named ``{\vt FCAP}''.  If any shapes exist on
this layer in the current cell hierarchy, all objects will be clipped
by these shapes before capacitance extraction.  If no shapes are found
on this layer, then all objects in the current cell hierarchy will be
included in capacitance extraction.

If this variable is set to the name of an existing layer name in the
layer table, that layer will do the clipping.

% 071814
\index{FcMonitor variable}
\item{\et FcMonitor}\\
{\bf Value:} boolean.\\
If this variable is set, then the standard output from the running
capacitance extraction program is printed in the console, in addition
to being saved in a file.  The console is the shell window from which
{\Xic} was started.  This allows the user to monitor the run, and
abort if something isn't correct.

This will also apply if the program is being run in the foreground,
however operation is a bit different.  In this case, a ``{\vt | tee}''
is added to the command string ahead of the output file name.  There
are two implications:  the text will be block buffered, and therefor
won't appear in the window immediately, and in Windows, there is no
native {\vt tee} command so that the operation may fail.  However, a
{\vt tee} command is provided with the Cygwin tools, and there are
other sources.  In the normal case of running in the background,
output will again be block buffered under Windows, but there is no
requirement for a {\vt tee} command.

This variable mirrors the state of the {\cb Out to console} check box
in the {\cb Run} page of the {\cb Cap Extraction} panel from the {\cb
Extract Menu}.

!! 071814
\index{FcPanelTarget variable}
\item{\et FcPanelTarget}\\
{\bf Value:} real number 1e3 -- 1e6.\\
When {\bf not} using a capacitance extraction program that provides
automatic refinement, such as {\it FasterCap} from {\vt
FastFieldSolvers.com}, this provides a crude panel refinement
capability.  This variable provides a number, and the interface will
attempt to split all panels into equal area pieces, where the total
number of pieces is the number given.  The refined panels are output
into the list file, which consequently can grow large.

When not set, no such refinement is done.  It should not be set for
normal use of {\it FasterCap}, but is needed if using the Whiteley
Research version of {\it FastCap} or similar.

!! 071814
\index{FcPath variable}
\item{\et FcPath}\\
{\bf Value:} directory path string.\\
This variable can be set to a full path to the capacitance extraction
program executable.

If this is not set, {\Xic} will attempt to use ``{\vt
/usr/local/bin/fastcap}'' as the {\it FastCap} program (or ``{\vt
/usr/local/bin/fastcap.exe}'' in Windows).  If this executable does
not exist, {\Xic} will attempt to find ``{\vt fastcap}'' (or ``{\vt
fastcap.exe}'' in Windows) in the shell search path when running in
the foreground, and background runs will fail.

This tracks the setting of the text entry field in the {\cb Run}
page of the {\cb Cap Extraction} panel.

% 071814
\index{FcPlaneBloat variable}
\item{\et FcPlaneBloat}\\
{\bf Value:} real number 0.0 -- 100.0.\\
If set to a positive value, the substrate is modeled to extend
horizontally outward by this value beyond the bounding box of the
extracted geometry.  See the discussion in the interface description
in \ref{subsaoi} for more information.  If not set, no dimensional
change is assumed.

% 071814
\index{FcUnits variable}
\item{\et FcUnits}\\
{\bf Value:} units string.\\
This variable can be used to specify the length units used in
generated capacitance extraction input files.  The variable can be set
to a string consisting of one or the abbreviations ``{\vt m}''
(meters), ``{\vt cm}'' (centimeters), ``{\vt mm}'' (millimeters),
``{\vt um}''" (microns), ``{\vt in}'' (inches), and ``{\vt mils}''. 
The long form word will also be accepted.  This variable is most
conveniently manipulated with the choice menu found in the {\cb Cap
Extraction} panel {\cb Params} page.
\end{description}


% -----------------------------------------------------------------------------
% !set:fh 111819
\section{Inductance/Resistance Extraction Interface}
\label{fhvars}
\index{variables!fasthenry}
The following variables apply to the inductance/resistance extraction
({\it FastHenry} interface).  Most of these are associated with entry
fields in the {\cb LR Extraction} panel, which is brought up
with the {\cb Extract LR} button in the {\cb Extract Menu}.

\begin{description}
% 111819
\index{FhArgs variable}
\item{\et FhArgs}\\
{\bf Value:} string.\\
This value can be set to a string, which will be included in the
argument list when {\it FastHenry} is initiated with the {\cb Run
FastHenry} button in the {\cb LR Extraction} panel {\cb Run}
page.  The variable is most conveniently manipulated with the text
entry field in the {\cb LR Extraction} panel {\cb Run} page.

% 071820
\index{FhDefaults variable}
\item{\et FhDefaults}\\
{\bf Value:} string.\\
If set to a string, the value will be used in a {\vt .DEFAULT} line in
the {\it FastHenry} input file created by the interface.  The variable
is most conveniently manipulated with the text entry field in the {\cb
LR Extraction} panel {\cb Run} page.  See the {\it FastHenry}
documentation describing the syntax and options for the applicable
text.

% 011621
\index{FhDefNhinc variable}
\item{\et FhDefNhinc}\\
{\bf Value:} integer 1 -- 20.\\
Provide a default value for the {\vt nhinc} parameter as used by {\it
FastHenry\/}.  This is overridden by values specified with the {\vt
FH\_nhinc} technology keyword for layers, unless the {\et FhOverride}
variable is set, in which case the this variable has precedence.  This
tracks the {\cb FhDefNhinc} entry in the {\cb Params} page of the {\cb
LR Extraction} panel.

% 011621
\index{FhDefRh variable}
\item{\et FhDefRh}\\
{\bf Value:} real 0.5 -- 4.0.\\
Provide a default value for the {\vt rh} parameter as used by {\it
FastHenry\/}.  This is overridden by values specified with the {\vt
FH\_rh} technology keyword for layers, unless the {\et FhOverride}
variable is set, in which case the this variable has precedence.  This
tracks the {\cb FhDefRh} entry in the {\cb Params} page of the {\cb LR
Extraction} panel.

% 111819
\index{FhForeg variable}
\item{\et FhForeg}\\
{\bf Value:} boolean.\\
If this variable is set, then the {\cb Run FastHenry} button in the
{\cb LR Extraction} panel {\cb Run} page will initiate a {\it
FastHenry} run in the foreground.  If not set, jobs are run in the
background, so that the user can continue using {\Xic} while the run
is in progress.

It is not clear why there would be any reason to run in the
foreground, except possibly for debugging.

This variable controls, and is controlled by, the setting of the {\cb
Run in foreground} check box in the {\cb Run} page of the {\cb LR
Extraction} panel from the {\cb Extract Menu}.

% 111819
\index{FhFreq variable}
\item{\et FhFreq}\\
{\bf Value:} string.\\
This variable can be used to specify the evaluation frequencies used
for {\it FastHenry}, as included in a generated input file, or when
initiating a run.  The format is the same as is used in the {\it
FastHenry} input format:
\begin{quote}
{\vt fmin=}{\it start\_freq} {\vt fmax=}{\it stop\_freq}
     [{\vt ndec=}{\it num\/}]
\end{quote}
The frequencies are floating point numbers given in hertz, and the
{\vt ndec} parameter, if given, specifies the number of intermediate
frequencies to evaluate.  If the third field is not set, evaluation is
at the start and stop frequencies only, or at the single frequency if
both are the same.  If the variable is not set, the evaluation is at a
single frequency of one kilohertz.  This variable is most conveniently
manipulated with the text entry fields in the {\cb LR Extraction}
panel {\cb Run} page.

% 090414
\index{FhLayerName variable}
\item{\et FhLayerName}\\
{\bf Value:} string.\\
The inductance/resistance extraction interface uses a special layer
for masking of objects to be included in the extraction run.  By
default, this layer is named ``{\vt FHRY}''.  If any shapes exist on
this layer in the current cell hierarchy, all objects will be clipped
by these shapes before inductance/resistance extraction.  If no shapes
are found on this layer, then all objects in the current cell
hierarchy will be included in extraction.

If this variable is set to the name of an existing layer name in the
layer table, that layer will do the clipping.

% 111819
\index{FhManhGridCnt variable}
\item{\et FhManhGridCnt}\\
{\bf Value:} real number 1e2--1e5.\\
When a non-Manhattan polygon is ``Manhattanized'' for {\it FastHenry},
it is converted to an approximating Manhattan polygon.  This variable
can be used to set the minimum rectangle width and height used in the
decomposition.  This value is given by
\begin{quote}
{\vt sqrt(}{\it area\_of\_interest\/}{\vt /FhManhGridCnt)}
\end{quote}
If not set, a value of 1000 is used.  Larger values are more accurate
but slow processing, sometimes dramatically.  The {\it
area\_of\_interest} is the layout area being processed for input to
{\it FastHenry}.

This variable is most conveniently manipulated with the text input
field in the {\cb LR Extraction} panel {\cb Params} page.

% 111819
\index{FhMonitor variable}
\item{\et FhMonitor}\\
{\bf Value:} boolean.\\
If the variable is set, then the standard output from the running {\it
FastHenry} program is printed in the console, in addition to being
saved in a file.  The console is the shell window from which {\Xic}
was started.  This allows the user to monitor the run, and abort if
something isn't correct.

This will also apply if the program is being run in the foreground,
however operation is a bit different.  In this case, a ``{\vt | tee}''
is added to the command string ahead of the output file name.  There
are two implications:  the text will be block buffered, and therefor
won't appear in the window immediately, and in Windows, there is no
native {\vt tee} command so that the operation may fail.  However, a
{\vt tee} command is provided with the Cygwin tools, and there are
other sources.  In the normal case of running in the background,
output will again be block buffered under Windows, but there is no
requirement for a {\vt tee} command.

This variable mirrors the state of the {\cb Out to console} check box
in the {\cb Run} page of the {\cb LR Extraction} panel from the
{\cb Extract Menu}.

% 011621
\index{FhOverride variable}
\item{\et FhOverride}\\
{\bf Value:} boolean.\\
When set, values of the {\et FhDefNhinc} and {\et FhDefRh}
variables will override values provided by {\vt FH\_nhinc} and
{\vt FH\_rh} technology layer parameters to use for {\vt
nhinc} and {\vt rh} parameters in {\it FastHenry} input.  This
tracks the state of the {\cb Override Layer NHINC, RH} button
in the {\cb Params} page of the {\cb LR Extraction} panel. 

% 111819
\index{FhPath variable}
\item{\et FhPath}\\
{\bf Value:} directory path string.\\
This variable can be set to a full path to the {\it FastHenry} executable.

If this is not set, {\Xic} will attempt to use ``{\vt
/usr/local/bin/fasthenry}'' as the {\it FastHenry} program (or ``{\vt
/usr/local/bin/fasthenry.exe}'' in Windows).  If this executable does
not exist, {\Xic} will attempt to find ``{\vt fasthenry}'' (or ``{\vt
fasthenry.exe}'' in Windows) in the shell search path when running in
the foreground, and background runs will fail.

This tracks the setting of the text entry field in the {\cb Run} page
of the {\cb LR Extraction} panel.

% 111819
\index{FhUnits variable}
\item{\et FhUnits}\\
{\bf Value:} units string.\\
This variable can be used to specify the length units used in
generated {\it FastHenry} input files.  The variable can be set to a
string consisting of one or the abbreviations ``{\vt m}'' (meters),
``{\vt cm}'' (centimeters), ``{\vt mm}'' (millimeters), ``{\vt um}''
(microns), ``{\vt in}'' (inches), and ``{\vt mils}''.  The long form
word will also be accepted.  This variable is most conveniently
manipulated with the choice menu found in the {\cb LR Extraction}
panel {\cb Params} page.

% 011621
\index{FhUseFillament variable}
\item{\et FhUseFillament}\\
{\bf Value:} units boolean.\\
If set, {\it FastHenry} will decompose segments into filaments
according to the given {\vt nhinc} and {\vt rh} parameters.  If not
set, the interface will automatically slice segments according to the
same parameters, without further refinement by {\it FastHenry\/}. 
This tracks the state of the {\cb Use FastHenry Internal NHINC, RH}
button in the {\cb Params} page of the {\cb LR Extraction} panel.

% 011621
\index{FhVolElMin variable}
\item{\et FhVolElMin}\\
{\bf Value:} units real 0 -- 1.0, default 0.1.\\
The minimum rectangle edge length is this factor multiplying
the maximum edge length.  This tracks the {\cb FhVolElMin}
entry in the {\cb Params} page of the {\cb LR Extraction}
panel.

% 090314
\index{FhVolElTarget variable}
\item{\et FhVolElTarget}\\
{\bf Value:} real number 1e2 -- 1e5, default 1e3.\\
This controls refinement for {\it FastHenry}.  The total volume of all
conductors is divided by this value, and the cube root taken to
provide a length.  Volume elements are split so that no edge is longer
than this length.  The total number of volume elements is
approximately the value of this variable.  Each volume element
contains six segments, connecting the center node to each face node.

% 011621
\index{FhVolEnable variable}
\item{\et FhVolEnable}\\
{\bf Value:} boolean.\\
Enable segment refinement.  This tracks the state of the {\cb
Enable} button in the {\cb Params} page of the {\cb LR
Extraction} panel.

\end{description}


% -----------------------------------------------------------------------------
% !set:help 021515
\section{Help System}
\index{variables!help}

The following {\cb !set} variables affect the help system.

\begin{description}
% 061408
\index{HelpDefaultTopic variable}
\item{\et HelpDefaultTopic}\\
{\bf Value:} string.\\
If this variable is set to an empty string (i.e., as a boolean) the
default help window which normally appears when the {\cb Help} button
in the {\cb Help Menu} is pressed does not appear.  The help mode is
still set, so help can be obtained in the usual way by pressing
buttons or through other actions, only the initial window is
suppressed.

Otherwise, this variable can be set to a URL or help system keyword,
which will be shown in the initial window when the {\cb Help} menu
button is pressed.

% 061408
\index{HelpMultiWin variable}
\item{\et HelpMultiWin}\\
{\bf Value:} boolean.\\
This variable, when set, causes the help system to use a new window
for each menu item or screen element clicked on in help mode.  If not
set, the original help window is reused.

The state of this variable tracks the {\cb Multi-Window Mode} button
in the {\cb Help Menu}.
\end{description}

See also the {\et HelpPath} and {\et DocsDir} variables in
\ref{pathvars}.

